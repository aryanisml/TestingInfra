(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"5fpU":function(e,r,t){"use strict";var n=t("LoAr"),o=t("+ZRC"),i=t("fWMV"),a=t("o1p7"),s=t("IK5s");t("MbfT"),t("G4O0"),t("edFq"),t("CPBs"),t("TodI"),t("uMZP"),t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return u}));var l=n["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function u(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,1,"label",[["class","wwLabel"]],null,null,null,null,null)),(e()(),n["ɵted"](1,null,["",""])),(e()(),n["ɵeld"](2,0,null,null,5,"div",[["class","ag_container"]],null,null,null,null,null)),(e()(),n["ɵeld"](3,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-material comparisonGrid"]],null,[[null,"gridReady"],[null,"rowDataChanged"],[null,"columnVisible"],[null,"dragStopped"]],(function(e,r,t){var n=!0,o=e.component;return"gridReady"===r&&(n=!1!==o.onGridReady(t)&&n),"rowDataChanged"===r&&(n=!1!==o.rowDataChanged(t)&&n),"columnVisible"===r&&(n=!1!==o.columnVisible(t)&&n),"dragStopped"===r&&(n=!1!==o.dragStopped(t)&&n),n}),o.b,o.a)),n["ɵprd"](512,null,i.AngularFrameworkOverrides,i.AngularFrameworkOverrides,[n.NgZone]),n["ɵprd"](512,null,a.AngularFrameworkComponentWrapper,a.AngularFrameworkComponentWrapper,[]),n["ɵdid"](6,4898816,[["agGrid",4]],1,s.AgGridAngular,[n.ElementRef,n.ViewContainerRef,i.AngularFrameworkOverrides,a.AngularFrameworkComponentWrapper,n.ComponentFactoryResolver],{gridOptions:[0,"gridOptions"],rowData:[1,"rowData"],columnDefs:[2,"columnDefs"],frameworkComponents:[3,"frameworkComponents"],enableColResize:[4,"enableColResize"],enableSorting:[5,"enableSorting"],enableFilter:[6,"enableFilter"],suppressContextMenu:[7,"suppressContextMenu"]},{columnVisible:"columnVisible",rowDataChanged:"rowDataChanged",gridReady:"gridReady",dragStopped:"dragStopped"}),n["ɵqud"](603979776,1,{columns:1})],(function(e,r){var t=r.component;e(r,6,0,t.gridOptions,t.rowData,t.columnDefList,t.newFrameworkComponents,!0,!0,!0,!0)}),(function(e,r){e(r,1,0,r.component.comparisonChartLabel)}))}},CPBs:function(e,r,t){"use strict";t.d(r,"a",(function(){return s})),t("MbfT");var n=t("FYjP"),o=(t("edFq"),t("G4O0"),t("ZFSJ")),i=t("o7ic"),a=t("TOyg"),s=function(){function e(e,r,t){this.comparisonChartHelperService=e,this.resourceService=r,this.countryGridHelperService=t}return Object.defineProperty(e.prototype,"columnDefList",{get:function(){return this.buildColumnDef()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumSiteInit",{get:function(){return this.maxNumSite},set:function(e){this.maxNumSite=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxRandomized",{get:function(){return this.maxRandTaget},set:function(e){this.maxRandTaget=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDaysAheadOrBehind",{get:function(){return this.maximumDaysAheadOrBehind},set:function(e){this.maximumDaysAheadOrBehind=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tlsrDate",{get:function(){return this.wwTLSRDate},set:function(e){this.wwTLSRDate=e},enumerable:!0,configurable:!0}),e.prototype.getCountryResources=function(){this.countryResources=this.resourceService.getComparisonChartResources()},e.prototype.getComparisonChartLabel=function(e,r){var t=this.countryGridHelperService.rowSelected;t||(t=this.countryResources.Worldwide);var n=r?this.countryResources.TableLabelCountry:this.countryResources.TableLabelCohort;return n+=": ",(n+=r?t:"")+" ("+e+")"},e.prototype.buildColumnDef=function(){var e=this,r=[];return r.push({headerName:this.countryResources.Countries,headerTooltip:this.countryResources.Countries,headerClass:"group-header-class",field:i.a.COUNTRY?i.a.COUNTRY:i.a.COHORT,valueGetter:function(e){return e.data.geographyName?e.data.geographyName:e.data.cohortName},tooltip:function(e){return e.value?e.value:""},cellStyle:{"text-align":"left",width:"120px",overflow:"hidden","text-overflow":"ellipsis"},width:150}),r.push({headerName:this.countryResources.Alerts,headerTooltip:this.countryResources.Alerts,headerClass:"group-header-class",field:i.a.ALERT,width:100,cellRenderer:"",cellRendererFramework:n.a,cellStyle:{"text-align":"center"}}),r.push({headerName:this.countryResources.OverEn,headerTooltip:this.countryResources.OverEnFullName,headerClass:"group-header-class",field:i.a.OVEREN,valueGetter:function(r){return e.comparisonChartHelperService.getOverEnValue(r)},cellStyle:{"text-align":"center"},width:100}),r.push({headerName:this.countryResources.SIP,field:i.a.SIP,headerClass:"group-header-class",headerComponentFramework:a.a,headerComponentParams:function(r){return e.comparisonChartHelperService.getColumnHeaders(r)},cellRendererSelector:function(e){return{component:"progressBarRenderer"}},cellRendererParams:function(r){return{left:!0,nestedLabel:3,displayVal:e.comparisonChartHelperService.calculateDisplayValueForSIP(r),barWidth:e.comparisonChartHelperService.calculateSIPBarWidth(r,e.maxNumSiteInit)}},suppressMenu:!1,width:275}),r.push({headerName:this.countryResources.RIP,headerClass:"group-header-class",field:i.a.RIP,headerComponentFramework:a.a,headerComponentParams:function(r){return e.comparisonChartHelperService.getColumnHeaders(r)},cellRendererSelector:function(e){return{component:"progressBarRenderer"}},cellRendererParams:function(r){return{left:!0,nestedLabel:2,displayVal:e.comparisonChartHelperService.calculateDisplayValueForRIP(r),barWidth:e.comparisonChartHelperService.calculateRIPBarWidth(r,e.maxRandTaget)}},sort:"desc",width:275}),r.push({headerName:this.countryResources.PAL,headerClass:"group-header-class",field:i.a.PAL,headerComponentFramework:a.a,headerComponentParams:function(r){return e.comparisonChartHelperService.getColumnHeaders(r,e.wwTLSRDate)},cellRendererSelector:function(e){return{component:"progressBarRenderer"}},cellRendererParams:function(r){return{center:!0,nestedLabel:1,displayVal:e.comparisonChartHelperService.calculateDisplayValueForPAL(r),barWidth:e.comparisonChartHelperService.calculatePALBarWidth(r,e.maximumDaysAheadOrBehind)}},width:345}),r.push({headerName:this.countryResources.Milestone,headerTooltip:this.countryResources.MilestoneRecorded,cellRenderer:"",cellRendererFramework:o.a,field:i.a.MILESTONE,cellStyle:{"text-align":"center"},width:110}),r},e}()},TodI:function(e,r,t){"use strict";t.d(r,"a",(function(){return s})),t("CPBs");var n=t("53eR"),o=t("nc5Y"),i=(t("MbfT"),t("G4O0"),t("edFq"),t("o7ic")),a=t("uMZP"),s=function(){function e(e,r,t,n,o){this.columnDefinationService=e,this.comparisonChartHelperService=r,this.countryGridHelperService=t,this.resourceService=n,this.columnPreferencesService=o,this.columnDefinationService.getCountryResources(),this.columnDefList=this.columnDefinationService.columnDefList,this.createGridOptions()}return Object.defineProperty(e.prototype,"gridRowData",{set:function(e){e&&e.length>0?(this.rowData=e,this.isCountryPerformance=this.comparisonChartHelperService.getIsCountryPerformance(this.rowData),this.setCountryCountLabel(this.rowData,this.isCountryPerformance),this.setMaxValues(e)):(this.rowData=[],this.isCountryPerformance=this.comparisonChartHelperService.getIsCountryPerformance(this.rowData),this.setCountryCountLabel(this.rowData,this.isCountryPerformance)),this.showOverlayMessage()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wwRowData",{set:function(e){e&&Object.keys(e).length>0&&(this.wwData=e,this.setWWTLSRDate(this.wwData))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCountryView",{set:function(e){this._isCountryView=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setFrameworkComponents()},e.prototype.ngOnChanges=function(){},e.prototype.onGridReady=function(e){this.countryGridApi=e.api,this.showOverlayMessage(),this.columnApi=e.columnApi,this.gridColumnApi=e.columnApi,this.refreshHeader(),this.setGridPrefences()},e.prototype.setFrameworkComponents=function(){this.newFrameworkComponents={progressBarRenderer:n.a,customProgressBarComponent:o.a}},e.prototype.setMaxValues=function(e){var r=this.comparisonChartHelperService.calculateMaxNumSiteInit(e),t=this.comparisonChartHelperService.calculateMaxRandomized(e),n=this.comparisonChartHelperService.calculateMaxDaysAheadOrBehind(e);this.columnDefinationService.maxNumSiteInit=r,this.columnDefinationService.maxRandomized=t,this.columnDefinationService.maxDaysAheadOrBehind=n},e.prototype.setCountryCountLabel=function(e,r){this.comparisonChartLabel=this.columnDefinationService.getComparisonChartLabel(e&&e.length?e.length:0,r)},e.prototype.setWWTLSRDate=function(e){var r=this.comparisonChartHelperService.getWWTLSRDate(e);this.columnDefinationService.tlsrDate=r,this.comparisonChartHelperService.tlsrDate=r},e.prototype.rowDataChanged=function(e){this.countryGridApi=e.api,this.countryGridApi.getColumnDef(i.a.COUNTRY).headerName=this.countryGridApi.getColumnDef(i.a.COUNTRY).headerTooltip=this.comparisonChartHelperService.updateGeographyHeaderName(this.isCountryPerformance),this.countryGridApi.refreshHeader(),this.countryGridApi.sizeColumnsToFit()},e.prototype.createGridOptions=function(){this.gridOptions={context:{componentParent:this}}},e.prototype.showOverlayMessage=function(){this.countryGridApi&&(void 0===this.rowData||this.rowData&&0===this.rowData.length)&&this.countryGridApi.hideOverlay()},e.prototype.refreshHeader=function(){this.countryGridApi&&this.countryGridApi.refreshHeader()},e.prototype.setGridPrefences=function(){var e=this,r=this._isCountryView?a.D.COUNTRY_COMPARISON_GRID:a.D.COUNTRY_COHORT_COMPARISON_GRID;""!==e.columnPreferencesService.getPrefForGridColumns().PreferenceGridColumns[r]&&void 0!==e.columnPreferencesService.getPrefForGridColumns().PreferenceGridColumns[r]&&e.columnApi.setColumnState(e.columnPreferencesService.getPrefForGridColumns().PreferenceGridColumns[r]),e.columnPreferencesService.getGridPreference().subscribe((function(t){t&&""!==e.columnPreferencesService.getPrefForGridColumns().PreferenceGridColumns[r]&&void 0!==e.columnPreferencesService.getPrefForGridColumns().PreferenceGridColumns[r]&&e.columnApi.setColumnState(e.columnPreferencesService.getPrefForGridColumns().PreferenceGridColumns[r])}))},e.prototype.columnVisible=function(e){if(e.column){var r=this._isCountryView?a.D.COUNTRY_COMPARISON_GRID:a.D.COUNTRY_COHORT_COMPARISON_GRID;this.gridColumnApi&&(this.columnPreferencesService.sendUpdateColumnPrefRequest(this.gridColumnApi.getColumnState(),r),sessionStorage.setItem(r,this.gridColumnApi.getColumnState()))}},e.prototype.dragStopped=function(e){var r=this._isCountryView?a.D.COUNTRY_COMPARISON_GRID:a.D.COUNTRY_COHORT_COMPARISON_GRID;this.gridColumnApi&&this.columnPreferencesService.sendUpdateColumnPrefRequest(this.gridColumnApi.getColumnState(),r)},e}()},o7ic:function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));var n=function(e){return e.COUNTRY="geographyName",e.COHORT="cohortName",e.ALERT="",e.OVEREN="",e.SIP="details.planParams.numSites",e.RIP="details.planParams.randomized",e.PAL="details.calcParams.daysAheadOrBehind",e.MILESTONE="",e}({})}}]);