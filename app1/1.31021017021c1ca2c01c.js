(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"1iVT":function(e,t,l){"use strict";var n=function(e){return e.grid="grid",e.card="card",e}({}),o=function(e){return e.SORT_ORDER_ASC="ASC",e.SORT_ORDER_DESC="DESC",e}({});l.d(t,"a",(function(){return n})),l.d(t,"b",(function(){return o}))},Bl3T:function(e,t,l){"use strict";l.d(t,"a",(function(){return o})),l("HkLT"),l("gntc"),l("IW84");var n=l("6nV5"),o=(l("zXGZ"),function(){function e(e,t,l,n,o,a,r,i){this.managePlansService=e,this.deleteCohortService=t,this.dialog=l,this.selectedCohort=n,this.plansService=o,this.errorTermsStoreService=a,this.manageCohortService=r,this.userDataService=i,this.deleteConfirm=!1,this.deleteUsedInPlan=!1,this.deleteApprovedPlan=!1,this.deleteCohortObj={cohortThumbnailList:{}},this.prop={deleteCohortSubscription:null},this.disableOk=!1,this.selectedCohort.usedInPlan?(this.deleteUsedInPlan=!0,this.deleteConfirm=!1,this.deleteApprovedPlan=!1,this.usedInPlans=this.selectedCohort.usedInPlan):!0===this.selectedCohort.isDeletable?(this.deleteConfirm=!0,this.deleteUsedInPlan=!1,this.deleteApprovedPlan=!1):!1===this.selectedCohort.isDeletable&&(this.deleteApprovedPlan=!0,this.deleteUsedInPlan=!1,this.deleteConfirm=!1)}return e.prototype.ngOnInit=function(){this.userActionDataObj={moduleName:"NEWPLANTAB",pageName:"CARD",studyKey:this.userDataService.getLastVisitedStudyKey(),localTime:(new Date).toString()},this.deleteCohortLabels=this.getManageCohortLabels()},e.prototype.deleteCohort=function(){var e=this;this.disableOk=!0,this.cohortDesc=this.selectedCohort.cohortDescription?this.selectedCohort.cohortDescription:"",this.deleteCohortObj={cohortThumbnailList:{cohortThumbnail:[{cohortKey:this.selectedCohort.cohortKey,studyCohortKey:this.selectedCohort.studyCohortKey,cohortName:this.selectedCohort.cohortName,cohortDescription:this.cohortDesc,cohortID:this.selectedCohort.cohortID,operationType:"D"}]}},this.prop.deleteCohortSubscription=this.deleteCohortService.deleteCohortData(this.deleteCohortObj,this.selectedCohort.studyKey,this.userActionDataObj).subscribe((function(t){if(t&&t.result===n.k.RESULT_OK)e.plansService.showSuccessMessage("The cohort is deleted."),e.disableOk=!1,e.dialog.close({result:"success",deletedCohort:e.deleteCohortObj});else{var l=e.errorTermsStoreService.getErrorMessage(parseInt(t.error.errorCode,10));e.plansService.showErrorMessage(l),e.dialog.close({result:"error"})}}))},e.prototype.getManageCohortLabels=function(){return this.manageCohortService.getManageCohortLabels()},e.prototype.ngOnDestroy=function(){this.prop.deleteCohortSubscription&&this.prop.deleteCohortSubscription.unsubscribe(),this.prop=null,this.selectedCohort=null},e}())},HkLT:function(e,t,l){"use strict";l.d(t,"a",(function(){return a}));var n=l("gntc"),o=l("LoAr"),a=function(){function e(e){this.managePlansService=e}return e.prototype.deleteCohortData=function(e,t,l){return this.managePlansService.deleteCohort(e,t,l)},e.ngInjectableDef=o["ɵɵdefineInjectable"]({factory:function(){return new e(o["ɵɵinject"](n.a))},token:e,providedIn:"root"}),e}()},IE7m:function(e,t,l){"use strict";l.d(t,"i",(function(){return n})),l.d(t,"a",(function(){return o})),l.d(t,"b",(function(){return a})),l.d(t,"d",(function(){return r})),l.d(t,"c",(function(){return i})),l.d(t,"e",(function(){return s})),l.d(t,"g",(function(){return u})),l.d(t,"f",(function(){return c})),l.d(t,"h",(function(){return d}));var n=[{text:"Cycle Time Difference",value:"diffPlannedTargetCycleTime"},{text:"Modified By",value:"lastModifiedbyUser"},{text:"Modified Date",value:"lastModifiedDate"},{text:"Number of Countries",value:"planCountries"},{text:"Number of Sites",value:"planSites"},{text:"Plan Name",value:"planName"},{text:"Planned Cycle Time (PFSI to PLSR)",value:"plannedCycleTime"},{text:"Planned Last Site Initiated (PLSI)",value:"PLSI"},{text:"Planned First Subject Randomized (PFSR)",value:"PFSR"},{text:"Planned First Site Initiated (PFSI)",value:"PFSI"},{text:"Planned Last Subject Randomized (PLSR)",value:"PLSR"},{text:"Planned Randomization (PR)",value:"plannedRandomiztion"},{text:"Randomization Rate (RR)",value:"randomizationRate"},{text:"Screen Failure (SF)",value:"screenFailure"},{text:"Target Cycle Time (TFSI to TLSR)",value:"targetCycleTime"},{text:"Target First Site Initiated (TFSI)",value:"TFSI"},{text:"Target Last Subject Randomized (TLSR)",value:"TLSR"},{text:"Target Randomization (TR)",value:"targetRandomization"}],o=[{key:"planNameStatus",value:"planName"},{key:"planType",value:"planType"},{key:"targetRandomization",value:"targetRandomization"},{key:"DTFSI",value:"TFSI"},{key:"DTLSS",value:"TLSS"},{key:"DTLSR",value:"TLSR"},{key:"targetCycleTime",value:"targetCycleTime"},{key:"screeningPeriod",value:"screeningPeriod"},{key:"planImageStatus",value:"planImageStatus"},{key:"plannedRandomiztion",value:"plannedRandomiztion"},{key:"planScreened",value:"planScreened"},{key:"planSites",value:"planSites"},{key:"planCountries",value:"planCountries"},{key:"DPFSI",value:"PFSI"},{key:"plannedSlot1Site",value:"plannedSlot1Site"},{key:"plannedSlot2Site",value:"plannedSlot2Site"},{key:"plannedSlot3Site",value:"plannedSlot3Site"},{key:"plannedSlot3Site",value:"plannedSlot3Site"},{key:"SAS",value:"siteActivelyScreeing"},{key:"screeningRate",value:"screeningRate"},{key:"SF",value:"screenFailure"},{key:"randomizationRate",value:"randomizationRate"},{key:"DPLSS",value:"PLSS"},{key:"DPLSR",value:"PLSR"},{key:"plannedCycleTime",value:"plannedCycleTime"},{key:"lastModifiedbyUser",value:"lastModifiedbyUser"},{key:"DMBY",value:"lastModifiedDate"},{key:"costAlert",value:"costAlert"},{key:"totalCost",value:"totalCost"},{key:"treatmentCost",value:"treatmentCost"},{key:"countrySetupCost",value:"countrySetupCost"},{key:"siteInitCost",value:"siteInitCost"}],a=[{key:"DPFSI",value:"PFSI"},{key:"DPFSR",value:"PFSR"},{key:"DPFSS",value:"PFSS"},{key:"DPLSI",value:"PLSI"},{key:"DTFSI",value:"TFSI"},{key:"DTLSR",value:"TLSR"},{key:"DTLSS",value:"TLSS"},{key:"DPLSS",value:"PLSS"},{key:"DMBY",value:"lastModifiedDate"},{key:"plannedSlot1Site",value:"slot1Site"},{key:"plannedSlot2Site",value:"slot2Site"},{key:"plannedSlot3Site",value:"slot3Site"},{key:"SAS",value:"siteActivelyScreeing"},{key:"SF",value:"screenFailure"}],r={text:"Modified Date",value:"lastModifiedDate"},i="lastModifiedDate",s="PlanList.xlsx",u="1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1",c={PreferenceGridColumns:{investigatorMetricsTable1:"",geoListGrid:"",investigatorMetricsTable2:"",enrollmentCostTable:"",historicalStudyList:"",countryComparisonGrid:"",showMinMax:!0,performanceDataGrid:"",templatesTable:"",metricsTable1:"",milestoneDataGrid:"",metricsTable2:"",siteDataManagement:"",historicalEnrollStudyTable:"",planlist:"",historicalListTable:"",planGeographies:"",historicalStartupStudyTable:"",planEditGeographies:"",countryCostTable:"",planSolverGeographies:"",planApprovalTable:"",studyList:"",templatesGeoTable:"",siteDetailGrid:"",planGrid:""},appType:"SOMAIN",category:"PreferenceGridColumns"},d=" % "},OqOl:function(e,t,l){"use strict";l.d(t,"a",(function(){return i}));var n=l("D57K"),o=(l("gntc"),l("IW84"),l("zXGZ"),l("Bl3T")),a=l("6nV5"),r=l("5IsW"),i=function(){function e(e,t,l,n,o,a,r,i){this.managePlansService=e,this.manageCohortService=t,this.dialog=l,this.matDailogRef=n,this.study=o,this.errorTermsStoreService=a,this.plansService=r,this.userDataService=i,this.displayedColumns=["delete","name","description","source"],this.dataSource=[],this.cohortSourceIdDropdown=[],this.deleteConfirm=!0,this.prop={cohortListSubscription:null,cohortSourceIDSubscription:null,saveCohortsSubscription:null},this.cohortThumbnail=[],this.isCohortDirty=!1,this.saveCohortDataArray=[],this.cohortNameErrDiv=!1,this.cohortKeyUiCounter=0,this.cohortSourceIdDropdownData=[],this.nonEmptyRegex=/^(?!\s*$).+/,this.cohortSourceIdUiList=[],this.saveCohortDataArrayObj=[],this.tempSourceIdList=[],this.errorOnManageCohort=!1,this.disableSave=!1,this.studyMessage=o}return e.prototype.ngOnInit=function(){this.studyKey=this.userDataService.getLastVisitedStudyKey(),this.manageCohortLabels=this.getManageCohortLabels(),this.getCohortList(),this.getCohortSourceIdFun(),this.userActionDataObj={moduleName:"NEWPLANTAB",pageName:"CARD",studykey:this.studyKey,localTime:(new Date).toString()},this.requiredString="Cohort Name is required",this.nonCohortUnmappingMsg="Cohort IDs are available for mapping only in cohort studies"},e.prototype.getCohortList=function(){var e=this;this.prop.cohortListSubscription=this.manageCohortService.getCohortsDataList(this.studyKey,this.userActionDataObj).subscribe((function(t){if(e.allCohortServerData=t,e.allCohortServerData&&e.allCohortServerData.result===a.k.RESULT_OK){if(e.allCohortServerData&&e.allCohortServerData.cohortThumbnailList)if(e.allCohortServerData.cohortThumbnailList.cohortThumbnail){for(var l in e.allCohortServerData.cohortThumbnailList.cohortThumbnail.constructor===Array?e.dataSource=e.allCohortServerData.cohortThumbnailList.cohortThumbnail:e.dataSource.push(e.allCohortServerData.cohortThumbnailList.cohortThumbnail),e.dataSource)l&&(e.dataSource[l].cohortKeyUi="C"+l,e.dataSource[l].isMappedUi=!1,e.dataSource[l].isDeletedUi=!1,e.dataSource[l].isErrorOnUi=!1);e.dataSource=n.__spread(e.dataSource)}else e.dataSource=[]}else{var o=e.errorTermsStoreService.getErrorMessage(parseInt(t.error.errorCode,10));e.plansService.showErrorMessage(o),e.matDailogRef.close({result:"error",deletedCohort:e.deletedCohortRef})}}))},e.prototype.getCohortSourceIdFun=function(){var e=this;this.prop.cohortSourceIDSubscription=this.manageCohortService.getCohortsSourceIDList(this.studyKey).subscribe((function(t){if(t.constructor===Array?e.cohortSourceIdDropdownData=t:e.cohortSourceIdDropdownData.push(t),e.cohortSourceIdDropdownData.length>0)for(var l in e.cohortSourceIdDropdownData)!1===e.cohortSourceIdDropdownData[l].isMapped?(e.cohortSourceIdDropdownData[l].sourceUiId="SourceUiId"+l,e.cohortSourceIdDropdownData[l].isMappedUi=!1,e.cohortSourceIdUiList.push(e.cohortSourceIdDropdownData[l]),"Unmapped"===e.cohortSourceIdDropdownData[l].cohortID&&(e.studyCohortKey=e.cohortSourceIdDropdownData[l].studyCohortKey)):!0===e.cohortSourceIdDropdownData[l].isMapped&&(e.cohortSourceIdDropdownData[l].sourceUiId="SourceUiId"+l,e.cohortSourceIdDropdownData[l].isMappedUi=!0,e.cohortSourceIdUiList.push(e.cohortSourceIdDropdownData[l]))}))},e.prototype.onSelectCohortID=function(e){this.cohortSourceIdDropdown=[];var t=[];if(this.cohortSourceIdUiList.length>0){for(var l in this.cohortSourceIdUiList)e.cohortID!==this.cohortSourceIdUiList[l].cohortID&&!1===this.cohortSourceIdUiList[l].isMappedUi&&t.push(this.cohortSourceIdUiList[l]);this.cohortSourceIdDropdown=this.getUniqueArr(t,"studyCohortKey")}},e.prototype.changeCohortId=function(e,t){if(this.cohortSourceIdUiList.length>0)for(var l in this.cohortSourceIdUiList)e&&("Unmapped"!==e.cohortID&&e.cohortID===this.cohortSourceIdUiList[l].cohortID&&(this.cohortSourceIdUiList[l].isMappedUi=!0),t.cohortID===this.cohortSourceIdUiList[l].cohortID&&(this.cohortSourceIdUiList[l].isMappedUi=!1));t.studyCohortKey=e.studyCohortKey,t.cohortID=e.cohortID,t.operationType=0===t.cohortKey?"I":"U",t.cohortDescription=t.cohortDescription?t.cohortDescription:"",this.saveCohortDataArray.push(t)},e.prototype.addCohort=function(){this.newCohort={cohortKey:0,studyCohortKey:this.studyCohortKey,cohortName:"",cohortDescription:"",cohortID:"Unmapped",operationType:"I",cohortKeyUi:"CA"+this.cohortKeyUiCounter++,isDeletedUi:!1,isErrorOnUi:!1,placeholder:this.manageCohortLabels.NEW_COHORT_NAME},this.dataSource.unshift(this.newCohort),this.dataSource=n.__spread(this.dataSource),this.checkCohortChange(this.newCohort.cohortName,this.newCohort.cohortName,this.newCohort)},e.prototype.saveCohort=function(){var e=this;if(this.disableSave=!0,this.cohortNameErrDiv||this.errorOnManageCohort)this.plansService.showErrorMessage("Cohort name cannot be blank or duplicate."),this.disableSave=!1;else if(this.saveCohortDataArray.constructor===Array?this.saveCohortDataArrayObj=this.saveCohortDataArray:this.saveCohortDataArrayObj.push(this.saveCohortDataArray),this.saveCohortDataArray=this.saveCohortDataArrayObj,this.saveCohortDataArray.length>0){var t=this.getUniqueArr(this.saveCohortDataArray,"cohortKeyUi");for(var l in t)0===t[l].cohortKey?this.nonEmptyRegex.test(t[l].cohortName)&&t[l].cohortKeyUi&&!t[l].isDeletedUi&&this.cohortThumbnail.push({cohortThumbnail:{cohortKey:t[l].cohortKey,studyCohortKey:t[l].studyCohortKey,cohortName:t[l].cohortName.toString().trim(),cohortDescription:t[l].cohortDescription,cohortID:t[l].cohortID,operationType:t[l].operationType}}):t[l].cohortKeyUi&&!t[l].isDeletedUi&&this.cohortThumbnail.push({cohortThumbnail:{cohortKey:t[l].cohortKey,studyCohortKey:t[l].studyCohortKey,cohortName:t[l].cohortName.toString().trim(),cohortDescription:t[l].cohortDescription,cohortID:t[l].cohortID,operationType:t[l].operationType}});if(this.cohortThumbnail.length>0){var n={cohortThumbnailList:this.cohortThumbnailNewArrToSend(this.cohortThumbnail)};this.cohortThumbnail=[],this.prop.saveCohortsSubscription=this.manageCohortService.saveCohortData(n,this.studyKey,this.userActionDataObj).subscribe((function(t){if(t&&t.result===a.k.RESULT_OK)e.plansService.showSuccessMessage("The cohort definitions are saved."),e.matDailogRef.close({result:"success",deletedCohort:e.deletedCohortRef});else{var l=e.errorTermsStoreService.getErrorMessage(parseInt(t.error.errorCode,10));e.plansService.showErrorMessage(l)}e.disableSave=!1}))}else this.matDailogRef.close({result:"noChange",deletedCohort:this.deletedCohortRef}),this.disableSave=!1}else this.matDailogRef.close({result:"noChange",deletedCohort:this.deletedCohortRef}),this.disableSave=!1},e.prototype.openDeleteCohortDialog=function(e){var t=this;if(0===e.cohortKey){"Unmapped"!==e.cohortID&&this.cohortSourceIdUiList.push({cohortID:e.cohortID,isMappedUi:!1,studyCohortKey:e.studyCohortKey});var l=this.dataSource.map((function(e){return e.cohortKeyUi})).indexOf(e.cohortKeyUi);this.dataSource.splice(l,1),this.dataSource=n.__spread(this.dataSource);var a=this.dataSource.map((function(e){return e.cohortName.toString().toLowerCase().trim()})),i=a.some((function(e,t){return a.indexOf(e)!==t}));for(var s in this.dataSource){if(i||!this.nonEmptyRegex.test(this.dataSource[s].cohortName)){this.errorOnManageCohort=!0,this.cohortNameErrDiv=!0;break}this.errorOnManageCohort=!1,this.cohortNameErrDiv=!1}}else this.selectedCohort=e,this.selectedCohort.studyKey=this.studyKey,this.dialog.open(o.a,{data:this.selectedCohort,width:r.F.DELETE_COHORT_DIALOG.WIDTH,panelClass:r.F.DELETE_COHORT_DIALOG.PANEL_CLASS,id:r.F.DELETE_COHORT_DIALOG.ID}).afterClosed().subscribe((function(e){""===e||"error"===e.result||"success"===e.result&&(e.deletedCohort&&(t.deletedCohortRef=e.deletedCohort),t.dataSource=[],t.cohortSourceIdDropdownData=[],t.cohortSourceIdDropdown=[],t.cohortSourceIdUiList=[],t.saveCohortDataArray=[],t.ngOnInit())}))},e.prototype.checkCohortChange=function(e,t,l){if(this.isCohortDirty=e===t||e.source.value===t.cohortID,this.isCohortDirty){l.operationType=0===l.cohortKey?"I":"U",l.cohortDescription=l.cohortDescription?l.cohortDescription:"",this.nonEmptyRegex.test(l.cohortName)?(this.saveCohortDataArray.push(l),this.cohortNameErrDiv=!1,l.isErrorOnUi=!1):(this.cohortNameErrDiv=!0,l.isErrorOnUi=!0);var n=this.dataSource.map((function(e){return e.cohortName.toString().toLowerCase().trim()})),o=n.some((function(e,t){return n.indexOf(e)!==t}));for(var a in this.dataSource){if(o||!this.nonEmptyRegex.test(this.dataSource[a].cohortName)){this.errorOnManageCohort=!0;break}this.errorOnManageCohort=!1}}},e.prototype.getManageCohortLabels=function(){return this.manageCohortService.getManageCohortLabels()},e.prototype.getUniqueArr=function(e,t){return e.map((function(e){return e[t]})).map((function(e,t,l){return l.indexOf(e)===t&&t})).filter((function(t){return e[t]})).map((function(t){return e[t]}))},e.prototype.cohortThumbnailNewArrToSend=function(e){var t=[],l=[];if(e.length>0)for(var n=0;n<e.length;n++)"I"===e[n].cohortThumbnail.operationType?t.push(e[n]):"U"===e[n].cohortThumbnail.operationType&&l.push(e[n]);return l.concat(t)},e.prototype.cancelManageCohortPopup=function(){this.matDailogRef.close({result:"cancel",deletedCohort:this.deletedCohortRef})},e.prototype.ngOnDestroy=function(){this.prop.cohortListSubscription&&this.prop.cohortListSubscription.unsubscribe(),this.prop.cohortSourceIDSubscription&&this.prop.cohortSourceIDSubscription.unsubscribe(),this.prop.saveCohortsSubscription&&this.prop.saveCohortsSubscription.unsubscribe(),this.prop=null,this.studyMessage=null,this.dataSource=null,this.allCohortServerData=null,this.saveCohortDataArray=null,this.cohortKeyUiCounter=null},e}()},Ow6y:function(e,t,l){"use strict";l.d(t,"a",(function(){return se}));var n=l("LoAr"),o=l("WT9V"),a=l("EAoM"),r=l("X7Hn"),i=l("Gien"),s=l("GcYS"),u=l("0xYh"),c=l("Z5FQ"),d=l("Ho7M"),p=l("QsvA"),h=l("LYzL"),S=l("C7Lb"),m=l("WV+C"),f=l("IfiR"),v=l("SECt"),g=l("eXL1"),R=l("IvSS"),y=l("SeAg"),C=l("dgjn"),D=l("+3V+"),A=l("QH8h"),P=l("rW4h"),b=l("CRa1"),L=l("x8+N"),T=l("s8WJ"),I=l("Hc9t"),E=l("rXXt"),_=l("iEqU"),N=l("uMZP"),O=l("vV4x"),M=l("IW84"),F=l("+xO1"),H=l("6nV5"),w=l("8raB"),U=l("981U"),k=l("gntc"),x=l("bFd/"),G=l("zXGZ"),V=l("OqOl"),j=n["ɵcrt"]({encapsulation:2,styles:[],data:{}});function q(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),n["ɵeld"](1,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),n["ɵted"](2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.manageCohortLabels.COHORT_Randomization)}))}function K(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),n["ɵeld"](1,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),n["ɵted"](2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.manageCohortLabels.COHORT_Screening)}))}function B(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,5,"p",[],null,null,null,null,null)),(e()(),n["ɵted"](1,null,[""," "])),(e()(),n["ɵand"](16777216,null,null,1,null,q)),n["ɵdid"](3,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["ɵand"](16777216,null,null,1,null,K)),n["ɵdid"](5,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var l=t.component;e(t,3,0,null==l.study?null:null==l.study.info?null:l.study.info.studyCohortType.includes("R")),e(t,5,0,null==l.study?null:null==l.study.info?null:l.study.info.studyCohortType.includes("S"))}),(function(e,t){e(t,1,0,t.component.manageCohortLabels.COHORT_AVAILABLE)}))}function W(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,1,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),n["ɵdid"](1,16384,null,0,a.h,[r.d,n.ElementRef],null,null)],null,null)}function J(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,5,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),n["ɵdid"](1,16384,null,0,a.a,[r.d,n.ElementRef],null,null),(e()(),n["ɵeld"](2,0,null,null,3,"button",[["class","mat-delete-btn"],["color","warn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.openDeleteCohortDialog(e.context.$implicit)&&n),n}),i.b,i.a)),n["ɵdid"](3,180224,null,0,s.b,[n.ElementRef,u.h,[2,c.a]],{color:[0,"color"]},null),(e()(),n["ɵeld"](4,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),n["ɵted"](-1,null,[" delete "]))],(function(e,t){e(t,3,0,"warn")}),(function(e,t){e(t,2,0,n["ɵnov"](t,3).disabled||null,"NoopAnimations"===n["ɵnov"](t,3)._animationMode)}))}function z(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),n["ɵdid"](1,16384,null,0,a.h,[r.d,n.ElementRef],null,null),(e()(),n["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,t.component.manageCohortLabels.COHORT_NAME_HEADER)}))}function $(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"mat-placeholder",[["class","placeholder cohort-name-placeholder"]],null,null,null,null,null)),n["ɵdid"](1,16384,[[15,4]],0,d.g,[],null,null),(e()(),n["ɵted"](2,null,[" ",""]))],null,(function(e,t){e(t,2,0,t.parent.context.$implicit.placeholder)}))}function Y(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,28,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),n["ɵdid"](1,16384,null,0,a.a,[r.d,n.ElementRef],null,null),(e()(),n["ɵeld"](2,0,null,null,26,"mat-form-field",[["class","nopadding mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,p.b,p.a)),n["ɵdid"](3,7520256,null,9,d.c,[n.ElementRef,n.ChangeDetectorRef,[2,h.h],[2,S.b],[2,d.a],m.a,n.NgZone,[2,c.a]],null,null),n["ɵqud"](603979776,11,{_controlNonStatic:0}),n["ɵqud"](335544320,12,{_controlStatic:0}),n["ɵqud"](603979776,13,{_labelChildNonStatic:0}),n["ɵqud"](335544320,14,{_labelChildStatic:0}),n["ɵqud"](603979776,15,{_placeholderChild:0}),n["ɵqud"](603979776,16,{_errorChildren:1}),n["ɵqud"](603979776,17,{_hintChildren:1}),n["ɵqud"](603979776,18,{_prefixChildren:1}),n["ɵqud"](603979776,19,{_suffixChildren:1}),(e()(),n["ɵeld"](13,16777216,null,1,13,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["matTooltipPosition","above"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"focus"]],(function(e,t,l){var o=!0,a=e.component;return"input"===t&&(o=!1!==n["ɵnov"](e,17)._handleInput(l.target.value)&&o),"blur"===t&&(o=!1!==n["ɵnov"](e,17).onTouched()&&o),"compositionstart"===t&&(o=!1!==n["ɵnov"](e,17)._compositionStart()&&o),"compositionend"===t&&(o=!1!==n["ɵnov"](e,17)._compositionEnd(l.target.value)&&o),"longpress"===t&&(o=!1!==n["ɵnov"](e,24).show()&&o),"keydown"===t&&(o=!1!==n["ɵnov"](e,24)._handleKeydown(l)&&o),"touchend"===t&&(o=!1!==n["ɵnov"](e,24)._handleTouchend()&&o),"blur"===t&&(o=!1!==n["ɵnov"](e,25)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==n["ɵnov"](e,25)._focusChanged(!0)&&o),"input"===t&&(o=!1!==n["ɵnov"](e,25)._onInput()&&o),"ngModelChange"===t&&(o=!1!==(e.context.$implicit.cohortName=l)&&o),"ngModelChange"===t&&(o=!1!==a.checkCohortChange(l,e.context.$implicit.cohortName,e.context.$implicit)&&o),o}),null,null)),n["ɵprd"](512,null,o["ɵNgClassImpl"],o["ɵNgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["ɵdid"](15,278528,null,0,o.NgClass,[o["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),n["ɵpod"](16,{"red-border-class":0}),n["ɵdid"](17,16384,null,0,f.e,[n.Renderer2,n.ElementRef,[2,f.a]],null,null),n["ɵdid"](18,540672,null,0,f.o,[],{maxlength:[0,"maxlength"]},null),n["ɵprd"](1024,null,f.p,(function(e){return[e]}),[f.o]),n["ɵprd"](1024,null,f.q,(function(e){return[e]}),[f.e]),n["ɵdid"](21,671744,null,0,f.v,[[8,null],[6,f.p],[8,null],[6,f.q]],{model:[0,"model"]},{update:"ngModelChange"}),n["ɵprd"](2048,null,f.r,null,[f.v]),n["ɵdid"](23,16384,null,0,f.s,[[4,f.r]],null,null),n["ɵdid"](24,212992,null,0,v.d,[g.c,n.ElementRef,R.a,n.ViewContainerRef,n.NgZone,m.a,u.c,u.h,v.b,[2,S.b],[2,v.a],[2,y.HAMMER_LOADER]],{position:[0,"position"],message:[1,"message"],tooltipClass:[2,"tooltipClass"]},null),n["ɵdid"](25,999424,null,0,C.b,[n.ElementRef,m.a,[6,f.r],[2,f.u],[2,f.l],h.b,[8,null],D.a,n.NgZone],null,null),n["ɵprd"](2048,[[11,4],[12,4]],d.d,null,[C.b]),(e()(),n["ɵand"](16777216,null,2,1,null,$)),n["ɵdid"](28,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var l=t.component,o=e(t,16,0,t.context.$implicit.isErrorOnUi);e(t,15,0,o),e(t,18,0,n["ɵinlineInterpolate"](1,"",l.manageCohortLabels.MAX_COHORT_NAME,"")),e(t,21,0,t.context.$implicit.cohortName),e(t,24,0,"above",t.context.$implicit.isErrorOnUi?l.requiredString:t.context.$implicit.cohortName,t.context.$implicit.isErrorOnUi?"warn ctos-tooltip":""),e(t,25,0),e(t,28,0,!t.context.$implicit.cohortName)}),(function(e,t){e(t,2,1,["standard"==n["ɵnov"](t,3).appearance,"fill"==n["ɵnov"](t,3).appearance,"outline"==n["ɵnov"](t,3).appearance,"legacy"==n["ɵnov"](t,3).appearance,n["ɵnov"](t,3)._control.errorState,n["ɵnov"](t,3)._canLabelFloat,n["ɵnov"](t,3)._shouldLabelFloat(),n["ɵnov"](t,3)._hasFloatingLabel(),n["ɵnov"](t,3)._hideControlPlaceholder(),n["ɵnov"](t,3)._control.disabled,n["ɵnov"](t,3)._control.autofilled,n["ɵnov"](t,3)._control.focused,"accent"==n["ɵnov"](t,3).color,"warn"==n["ɵnov"](t,3).color,n["ɵnov"](t,3)._shouldForward("untouched"),n["ɵnov"](t,3)._shouldForward("touched"),n["ɵnov"](t,3)._shouldForward("pristine"),n["ɵnov"](t,3)._shouldForward("dirty"),n["ɵnov"](t,3)._shouldForward("valid"),n["ɵnov"](t,3)._shouldForward("invalid"),n["ɵnov"](t,3)._shouldForward("pending"),!n["ɵnov"](t,3)._animationsEnabled]),e(t,13,1,[n["ɵnov"](t,18).maxlength?n["ɵnov"](t,18).maxlength:null,n["ɵnov"](t,23).ngClassUntouched,n["ɵnov"](t,23).ngClassTouched,n["ɵnov"](t,23).ngClassPristine,n["ɵnov"](t,23).ngClassDirty,n["ɵnov"](t,23).ngClassValid,n["ɵnov"](t,23).ngClassInvalid,n["ɵnov"](t,23).ngClassPending,n["ɵnov"](t,25)._isServer,n["ɵnov"](t,25).id,n["ɵnov"](t,25).placeholder,n["ɵnov"](t,25).disabled,n["ɵnov"](t,25).required,n["ɵnov"](t,25).readonly&&!n["ɵnov"](t,25)._isNativeSelect||null,n["ɵnov"](t,25)._ariaDescribedby||null,n["ɵnov"](t,25).errorState,n["ɵnov"](t,25).required.toString()])}))}function Z(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),n["ɵdid"](1,16384,null,0,a.h,[r.d,n.ElementRef],null,null),(e()(),n["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,t.component.manageCohortLabels.COHORT_DESC_HEADER)}))}function X(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,23,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),n["ɵdid"](1,16384,null,0,a.a,[r.d,n.ElementRef],null,null),(e()(),n["ɵeld"](2,0,null,null,21,"mat-form-field",[["class","nopadding mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,p.b,p.a)),n["ɵdid"](3,7520256,null,9,d.c,[n.ElementRef,n.ChangeDetectorRef,[2,h.h],[2,S.b],[2,d.a],m.a,n.NgZone,[2,c.a]],null,null),n["ɵqud"](603979776,23,{_controlNonStatic:0}),n["ɵqud"](335544320,24,{_controlStatic:0}),n["ɵqud"](603979776,25,{_labelChildNonStatic:0}),n["ɵqud"](335544320,26,{_labelChildStatic:0}),n["ɵqud"](603979776,27,{_placeholderChild:0}),n["ɵqud"](603979776,28,{_errorChildren:1}),n["ɵqud"](603979776,29,{_hintChildren:1}),n["ɵqud"](603979776,30,{_prefixChildren:1}),n["ɵqud"](603979776,31,{_suffixChildren:1}),(e()(),n["ɵeld"](13,16777216,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["matTooltipPosition","above"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"focus"]],(function(e,t,l){var o=!0,a=e.component;return"input"===t&&(o=!1!==n["ɵnov"](e,14)._handleInput(l.target.value)&&o),"blur"===t&&(o=!1!==n["ɵnov"](e,14).onTouched()&&o),"compositionstart"===t&&(o=!1!==n["ɵnov"](e,14)._compositionStart()&&o),"compositionend"===t&&(o=!1!==n["ɵnov"](e,14)._compositionEnd(l.target.value)&&o),"longpress"===t&&(o=!1!==n["ɵnov"](e,21).show()&&o),"keydown"===t&&(o=!1!==n["ɵnov"](e,21)._handleKeydown(l)&&o),"touchend"===t&&(o=!1!==n["ɵnov"](e,21)._handleTouchend()&&o),"blur"===t&&(o=!1!==n["ɵnov"](e,22)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==n["ɵnov"](e,22)._focusChanged(!0)&&o),"input"===t&&(o=!1!==n["ɵnov"](e,22)._onInput()&&o),"ngModelChange"===t&&(o=!1!==(e.context.$implicit.cohortDescription=l)&&o),"ngModelChange"===t&&(o=!1!==a.checkCohortChange(l,e.context.$implicit.cohortDescription,e.context.$implicit)&&o),o}),null,null)),n["ɵdid"](14,16384,null,0,f.e,[n.Renderer2,n.ElementRef,[2,f.a]],null,null),n["ɵdid"](15,540672,null,0,f.o,[],{maxlength:[0,"maxlength"]},null),n["ɵprd"](1024,null,f.p,(function(e){return[e]}),[f.o]),n["ɵprd"](1024,null,f.q,(function(e){return[e]}),[f.e]),n["ɵdid"](18,671744,null,0,f.v,[[8,null],[6,f.p],[8,null],[6,f.q]],{model:[0,"model"]},{update:"ngModelChange"}),n["ɵprd"](2048,null,f.r,null,[f.v]),n["ɵdid"](20,16384,null,0,f.s,[[4,f.r]],null,null),n["ɵdid"](21,212992,null,0,v.d,[g.c,n.ElementRef,R.a,n.ViewContainerRef,n.NgZone,m.a,u.c,u.h,v.b,[2,S.b],[2,v.a],[2,y.HAMMER_LOADER]],{position:[0,"position"],message:[1,"message"]},null),n["ɵdid"](22,999424,null,0,C.b,[n.ElementRef,m.a,[6,f.r],[2,f.u],[2,f.l],h.b,[8,null],D.a,n.NgZone],null,null),n["ɵprd"](2048,[[23,4],[24,4]],d.d,null,[C.b])],(function(e,t){e(t,15,0,n["ɵinlineInterpolate"](1,"",t.component.manageCohortLabels.MAX_COHORT_DESCRIPTION,"")),e(t,18,0,t.context.$implicit.cohortDescription),e(t,21,0,"above",n["ɵinlineInterpolate"](1,"",t.context.$implicit.cohortDescription,"")),e(t,22,0)}),(function(e,t){e(t,2,1,["standard"==n["ɵnov"](t,3).appearance,"fill"==n["ɵnov"](t,3).appearance,"outline"==n["ɵnov"](t,3).appearance,"legacy"==n["ɵnov"](t,3).appearance,n["ɵnov"](t,3)._control.errorState,n["ɵnov"](t,3)._canLabelFloat,n["ɵnov"](t,3)._shouldLabelFloat(),n["ɵnov"](t,3)._hasFloatingLabel(),n["ɵnov"](t,3)._hideControlPlaceholder(),n["ɵnov"](t,3)._control.disabled,n["ɵnov"](t,3)._control.autofilled,n["ɵnov"](t,3)._control.focused,"accent"==n["ɵnov"](t,3).color,"warn"==n["ɵnov"](t,3).color,n["ɵnov"](t,3)._shouldForward("untouched"),n["ɵnov"](t,3)._shouldForward("touched"),n["ɵnov"](t,3)._shouldForward("pristine"),n["ɵnov"](t,3)._shouldForward("dirty"),n["ɵnov"](t,3)._shouldForward("valid"),n["ɵnov"](t,3)._shouldForward("invalid"),n["ɵnov"](t,3)._shouldForward("pending"),!n["ɵnov"](t,3)._animationsEnabled]),e(t,13,1,[n["ɵnov"](t,15).maxlength?n["ɵnov"](t,15).maxlength:null,n["ɵnov"](t,20).ngClassUntouched,n["ɵnov"](t,20).ngClassTouched,n["ɵnov"](t,20).ngClassPristine,n["ɵnov"](t,20).ngClassDirty,n["ɵnov"](t,20).ngClassValid,n["ɵnov"](t,20).ngClassInvalid,n["ɵnov"](t,20).ngClassPending,n["ɵnov"](t,22)._isServer,n["ɵnov"](t,22).id,n["ɵnov"](t,22).placeholder,n["ɵnov"](t,22).disabled,n["ɵnov"](t,22).required,n["ɵnov"](t,22).readonly&&!n["ɵnov"](t,22)._isNativeSelect||null,n["ɵnov"](t,22)._ariaDescribedby||null,n["ɵnov"](t,22).errorState,n["ɵnov"](t,22).required.toString()])}))}function Q(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),n["ɵdid"](1,16384,null,0,a.h,[r.d,n.ElementRef],null,null),(e()(),n["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,t.component.manageCohortLabels.COHORT_ID_HEADER)}))}function ee(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"onSelectionChange"],[null,"click"],[null,"keydown"]],(function(e,t,l){var o=!0,a=e.component;return"click"===t&&(o=!1!==n["ɵnov"](e,1)._selectViaInteraction()&&o),"keydown"===t&&(o=!1!==n["ɵnov"](e,1)._handleKeydown(l)&&o),"onSelectionChange"===t&&(o=!1!==a.changeCohortId(e.context.$implicit,e.parent.parent.context.$implicit)&&o),o}),A.d,A.b)),n["ɵdid"](1,8568832,[[44,4]],0,h.p,[n.ElementRef,n.ChangeDetectorRef,[2,h.j],[2,h.o]],{value:[0,"value"]},{onSelectionChange:"onSelectionChange"}),(e()(),n["ɵted"](2,0,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.cohortID)}),(function(e,t){e(t,0,0,n["ɵnov"](t,1)._getTabIndex(),n["ɵnov"](t,1).selected,n["ɵnov"](t,1).multiple,n["ɵnov"](t,1).active,n["ɵnov"](t,1).id,n["ɵnov"](t,1)._getAriaSelected(),n["ɵnov"](t,1).disabled.toString(),n["ɵnov"](t,1).disabled),e(t,2,0,t.context.$implicit.cohortID)}))}function te(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,25,"mat-form-field",[["class","nopadding mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,p.b,p.a)),n["ɵdid"](1,7520256,null,9,d.c,[n.ElementRef,n.ChangeDetectorRef,[2,h.h],[2,S.b],[2,d.a],m.a,n.NgZone,[2,c.a]],null,null),n["ɵqud"](603979776,35,{_controlNonStatic:0}),n["ɵqud"](335544320,36,{_controlStatic:0}),n["ɵqud"](603979776,37,{_labelChildNonStatic:0}),n["ɵqud"](335544320,38,{_labelChildStatic:0}),n["ɵqud"](603979776,39,{_placeholderChild:0}),n["ɵqud"](603979776,40,{_errorChildren:1}),n["ɵqud"](603979776,41,{_hintChildren:1}),n["ɵqud"](603979776,42,{_prefixChildren:1}),n["ɵqud"](603979776,43,{_suffixChildren:1}),(e()(),n["ɵeld"](11,0,null,1,14,"mat-select",[["class","mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,t,l){var o=!0,a=e.component;return"keydown"===t&&(o=!1!==n["ɵnov"](e,15)._handleKeydown(l)&&o),"focus"===t&&(o=!1!==n["ɵnov"](e,15)._onFocus()&&o),"blur"===t&&(o=!1!==n["ɵnov"](e,15)._onBlur()&&o),"ngModelChange"===t&&(o=!1!==(e.parent.context.$implicit.cohortID=l)&&o),"click"===t&&(o=!1!==a.onSelectCohortID(e.parent.context.$implicit)&&o),o}),P.b,P.a)),n["ɵdid"](12,671744,null,0,f.v,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),n["ɵprd"](2048,null,f.r,null,[f.v]),n["ɵdid"](14,16384,null,0,f.s,[[4,f.r]],null,null),n["ɵdid"](15,2080768,null,3,b.c,[R.d,n.ChangeDetectorRef,n.NgZone,h.b,n.ElementRef,[2,S.b],[2,f.u],[2,f.l],[2,d.c],[6,f.r],[8,null],b.a,u.j],null,null),n["ɵqud"](603979776,44,{options:1}),n["ɵqud"](603979776,45,{optionGroups:1}),n["ɵqud"](603979776,46,{customTrigger:0}),n["ɵprd"](2048,[[35,4],[36,4]],d.d,null,[b.c]),n["ɵprd"](2048,null,h.j,null,[b.c]),(e()(),n["ɵeld"](21,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,t,l){var o=!0;return"click"===t&&(o=!1!==n["ɵnov"](e,22)._selectViaInteraction()&&o),"keydown"===t&&(o=!1!==n["ɵnov"](e,22)._handleKeydown(l)&&o),o}),A.d,A.b)),n["ɵdid"](22,8568832,[[44,4]],0,h.p,[n.ElementRef,n.ChangeDetectorRef,[2,h.j],[2,h.o]],{value:[0,"value"]},null),(e()(),n["ɵted"](23,0,["",""])),(e()(),n["ɵand"](16777216,null,1,1,null,ee)),n["ɵdid"](25,278528,null,0,o.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var l=t.component;e(t,12,0,t.parent.context.$implicit.cohortID),e(t,15,0),e(t,22,0,t.parent.context.$implicit.cohortID),e(t,25,0,l.cohortSourceIdDropdown)}),(function(e,t){e(t,0,1,["standard"==n["ɵnov"](t,1).appearance,"fill"==n["ɵnov"](t,1).appearance,"outline"==n["ɵnov"](t,1).appearance,"legacy"==n["ɵnov"](t,1).appearance,n["ɵnov"](t,1)._control.errorState,n["ɵnov"](t,1)._canLabelFloat,n["ɵnov"](t,1)._shouldLabelFloat(),n["ɵnov"](t,1)._hasFloatingLabel(),n["ɵnov"](t,1)._hideControlPlaceholder(),n["ɵnov"](t,1)._control.disabled,n["ɵnov"](t,1)._control.autofilled,n["ɵnov"](t,1)._control.focused,"accent"==n["ɵnov"](t,1).color,"warn"==n["ɵnov"](t,1).color,n["ɵnov"](t,1)._shouldForward("untouched"),n["ɵnov"](t,1)._shouldForward("touched"),n["ɵnov"](t,1)._shouldForward("pristine"),n["ɵnov"](t,1)._shouldForward("dirty"),n["ɵnov"](t,1)._shouldForward("valid"),n["ɵnov"](t,1)._shouldForward("invalid"),n["ɵnov"](t,1)._shouldForward("pending"),!n["ɵnov"](t,1)._animationsEnabled]),e(t,11,1,[n["ɵnov"](t,14).ngClassUntouched,n["ɵnov"](t,14).ngClassTouched,n["ɵnov"](t,14).ngClassPristine,n["ɵnov"](t,14).ngClassDirty,n["ɵnov"](t,14).ngClassValid,n["ɵnov"](t,14).ngClassInvalid,n["ɵnov"](t,14).ngClassPending,n["ɵnov"](t,15).id,n["ɵnov"](t,15).tabIndex,n["ɵnov"](t,15)._getAriaLabel(),n["ɵnov"](t,15)._getAriaLabelledby(),n["ɵnov"](t,15).required.toString(),n["ɵnov"](t,15).disabled.toString(),n["ɵnov"](t,15).errorState,n["ɵnov"](t,15).panelOpen?n["ɵnov"](t,15)._optionIds:null,n["ɵnov"](t,15).multiple,n["ɵnov"](t,15)._ariaDescribedby||null,n["ɵnov"](t,15)._getAriaActiveDescendant(),n["ɵnov"](t,15).disabled,n["ɵnov"](t,15).errorState,n["ɵnov"](t,15).required,n["ɵnov"](t,15).empty]),e(t,21,0,n["ɵnov"](t,22)._getTabIndex(),n["ɵnov"](t,22).selected,n["ɵnov"](t,22).multiple,n["ɵnov"](t,22).active,n["ɵnov"](t,22).id,n["ɵnov"](t,22)._getAriaSelected(),n["ɵnov"](t,22).disabled.toString(),n["ɵnov"](t,22).disabled),e(t,23,0,t.parent.context.$implicit.cohortID)}))}function le(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,21,"mat-form-field",[["class","nopadding mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,p.b,p.a)),n["ɵdid"](1,7520256,null,9,d.c,[n.ElementRef,n.ChangeDetectorRef,[2,h.h],[2,S.b],[2,d.a],m.a,n.NgZone,[2,c.a]],null,null),n["ɵqud"](603979776,47,{_controlNonStatic:0}),n["ɵqud"](335544320,48,{_controlStatic:0}),n["ɵqud"](603979776,49,{_labelChildNonStatic:0}),n["ɵqud"](335544320,50,{_labelChildStatic:0}),n["ɵqud"](603979776,51,{_placeholderChild:0}),n["ɵqud"](603979776,52,{_errorChildren:1}),n["ɵqud"](603979776,53,{_hintChildren:1}),n["ɵqud"](603979776,54,{_prefixChildren:1}),n["ɵqud"](603979776,55,{_suffixChildren:1}),(e()(),n["ɵeld"](11,16777216,null,1,10,"mat-select",[["class","mat-select"],["disabled",""],["role","listbox"],["value","element.cohortID"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"focus"],[null,"blur"]],(function(e,t,l){var o=!0;return"longpress"===t&&(o=!1!==n["ɵnov"](e,12).show()&&o),"keydown"===t&&(o=!1!==n["ɵnov"](e,12)._handleKeydown(l)&&o),"touchend"===t&&(o=!1!==n["ɵnov"](e,12)._handleTouchend()&&o),"keydown"===t&&(o=!1!==n["ɵnov"](e,13)._handleKeydown(l)&&o),"focus"===t&&(o=!1!==n["ɵnov"](e,13)._onFocus()&&o),"blur"===t&&(o=!1!==n["ɵnov"](e,13)._onBlur()&&o),o}),P.b,P.a)),n["ɵdid"](12,212992,null,0,v.d,[g.c,n.ElementRef,R.a,n.ViewContainerRef,n.NgZone,m.a,u.c,u.h,v.b,[2,S.b],[2,v.a],[2,y.HAMMER_LOADER]],{message:[0,"message"]},null),n["ɵdid"](13,2080768,null,3,b.c,[R.d,n.ChangeDetectorRef,n.NgZone,h.b,n.ElementRef,[2,S.b],[2,f.u],[2,f.l],[2,d.c],[8,null],[8,null],b.a,u.j],{disabled:[0,"disabled"],value:[1,"value"]},null),n["ɵqud"](603979776,56,{options:1}),n["ɵqud"](603979776,57,{optionGroups:1}),n["ɵqud"](603979776,58,{customTrigger:0}),n["ɵprd"](2048,[[47,4],[48,4]],d.d,null,[b.c]),n["ɵprd"](2048,null,h.j,null,[b.c]),(e()(),n["ɵeld"](19,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","element.cohortID"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,t,l){var o=!0;return"click"===t&&(o=!1!==n["ɵnov"](e,20)._selectViaInteraction()&&o),"keydown"===t&&(o=!1!==n["ɵnov"](e,20)._handleKeydown(l)&&o),o}),A.d,A.b)),n["ɵdid"](20,8568832,[[56,4]],0,h.p,[n.ElementRef,n.ChangeDetectorRef,[2,h.j],[2,h.o]],{value:[0,"value"]},null),(e()(),n["ɵted"](21,0,["",""]))],(function(e,t){e(t,12,0,t.component.nonCohortUnmappingMsg),e(t,13,0,"","element.cohortID"),e(t,20,0,"element.cohortID")}),(function(e,t){e(t,0,1,["standard"==n["ɵnov"](t,1).appearance,"fill"==n["ɵnov"](t,1).appearance,"outline"==n["ɵnov"](t,1).appearance,"legacy"==n["ɵnov"](t,1).appearance,n["ɵnov"](t,1)._control.errorState,n["ɵnov"](t,1)._canLabelFloat,n["ɵnov"](t,1)._shouldLabelFloat(),n["ɵnov"](t,1)._hasFloatingLabel(),n["ɵnov"](t,1)._hideControlPlaceholder(),n["ɵnov"](t,1)._control.disabled,n["ɵnov"](t,1)._control.autofilled,n["ɵnov"](t,1)._control.focused,"accent"==n["ɵnov"](t,1).color,"warn"==n["ɵnov"](t,1).color,n["ɵnov"](t,1)._shouldForward("untouched"),n["ɵnov"](t,1)._shouldForward("touched"),n["ɵnov"](t,1)._shouldForward("pristine"),n["ɵnov"](t,1)._shouldForward("dirty"),n["ɵnov"](t,1)._shouldForward("valid"),n["ɵnov"](t,1)._shouldForward("invalid"),n["ɵnov"](t,1)._shouldForward("pending"),!n["ɵnov"](t,1)._animationsEnabled]),e(t,11,1,[n["ɵnov"](t,13).id,n["ɵnov"](t,13).tabIndex,n["ɵnov"](t,13)._getAriaLabel(),n["ɵnov"](t,13)._getAriaLabelledby(),n["ɵnov"](t,13).required.toString(),n["ɵnov"](t,13).disabled.toString(),n["ɵnov"](t,13).errorState,n["ɵnov"](t,13).panelOpen?n["ɵnov"](t,13)._optionIds:null,n["ɵnov"](t,13).multiple,n["ɵnov"](t,13)._ariaDescribedby||null,n["ɵnov"](t,13)._getAriaActiveDescendant(),n["ɵnov"](t,13).disabled,n["ɵnov"](t,13).errorState,n["ɵnov"](t,13).required,n["ɵnov"](t,13).empty]),e(t,19,0,n["ɵnov"](t,20)._getTabIndex(),n["ɵnov"](t,20).selected,n["ɵnov"](t,20).multiple,n["ɵnov"](t,20).active,n["ɵnov"](t,20).id,n["ɵnov"](t,20)._getAriaSelected(),n["ɵnov"](t,20).disabled.toString(),n["ɵnov"](t,20).disabled),e(t,21,0,t.parent.context.$implicit.cohortID)}))}function ne(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,5,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),n["ɵdid"](1,16384,null,0,a.a,[r.d,n.ElementRef],null,null),(e()(),n["ɵand"](16777216,null,null,1,null,te)),n["ɵdid"](3,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["ɵand"](16777216,null,null,1,null,le)),n["ɵdid"](5,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var l=t.component;e(t,3,0,"Y"===(null==l.study?null:null==l.study.info?null:l.study.info.cohortIndicator)),e(t,5,0,"N"===(null==l.study?null:null==l.study.info?null:l.study.info.cohortIndicator))}),null)}function oe(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"tr",[["class","mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,L.f,L.b)),n["ɵprd"](6144,null,r.k,null,[a.j]),n["ɵdid"](2,49152,null,0,a.j,[],null,null)],null,null)}function ae(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,L.g,L.c)),n["ɵprd"](6144,null,r.m,null,[a.l]),n["ɵdid"](2,49152,null,0,a.l,[],null,null)],null,null)}function re(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,93,"div",[["class","manage-cohort-container"]],null,null,null,null,null)),(e()(),n["ɵeld"](1,0,null,null,14,"div",[["class","row cohort-popup-head"]],null,null,null,null,null)),(e()(),n["ɵeld"](2,0,null,null,3,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),n["ɵeld"](3,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),n["ɵdid"](4,81920,null,0,T.m,[[2,T.l],n.ElementRef,T.e],null,null),(e()(),n["ɵted"](5,null,["",""])),(e()(),n["ɵeld"](6,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),n["ɵand"](16777216,null,null,1,null,B)),n["ɵdid"](8,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["ɵeld"](9,0,null,null,6,"div",[["class","col-sm-3 right-align-btn"]],null,null,null,null,null)),(e()(),n["ɵeld"](10,0,null,null,5,"button",[["class","custom-abtn-color"],["color","primary"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.addCohort()&&n),n}),i.b,i.a)),n["ɵdid"](11,180224,null,0,s.b,[n.ElementRef,u.h,[2,c.a]],{color:[0,"color"]},null),(e()(),n["ɵeld"](12,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,I.b,I.a)),n["ɵdid"](13,9158656,null,0,E.b,[n.ElementRef,E.d,[8,null],[2,E.a],[2,n.ErrorHandler]],null,null),(e()(),n["ɵted"](-1,0,["add_circle_outline"])),(e()(),n["ɵted"](15,0,[""," "])),(e()(),n["ɵeld"](16,0,null,null,67,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),n["ɵdid"](17,16384,null,0,T.j,[],null,null),(e()(),n["ɵeld"](18,0,null,null,65,"div",[["class","manage-cohort-data-table"]],null,null,null,null,null)),(e()(),n["ɵeld"](19,0,null,null,64,"table",[["class","mat-table"],["mat-table",""]],null,null,null,L.h,L.d)),n["ɵprd"](6144,null,r.o,null,[a.n]),n["ɵdid"](21,2342912,null,4,a.n,[n.IterableDiffers,n.ChangeDetectorRef,n.ElementRef,[8,null],[2,S.b],o.DOCUMENT,m.a],{dataSource:[0,"dataSource"]},null),n["ɵqud"](603979776,1,{_contentColumnDefs:1}),n["ɵqud"](603979776,2,{_contentRowDefs:1}),n["ɵqud"](603979776,3,{_contentHeaderRowDefs:1}),n["ɵqud"](603979776,4,{_contentFooterRowDefs:1}),(e()(),n["ɵeld"](26,0,null,null,12,null,null,null,null,null,null,null)),n["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[a.c]),n["ɵdid"](28,16384,null,3,a.c,[],{name:[0,"name"]},null),n["ɵqud"](603979776,5,{cell:0}),n["ɵqud"](603979776,6,{headerCell:0}),n["ɵqud"](603979776,7,{footerCell:0}),n["ɵprd"](2048,[[1,4]],r.d,null,[a.c]),(e()(),n["ɵand"](0,null,null,2,null,W)),n["ɵdid"](34,16384,null,0,a.i,[n.TemplateRef],null,null),n["ɵprd"](2048,[[6,4]],r.j,null,[a.i]),(e()(),n["ɵand"](0,null,null,2,null,J)),n["ɵdid"](37,16384,null,0,a.b,[n.TemplateRef],null,null),n["ɵprd"](2048,[[5,4]],r.b,null,[a.b]),(e()(),n["ɵeld"](39,0,null,null,12,null,null,null,null,null,null,null)),n["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[a.c]),n["ɵdid"](41,16384,null,3,a.c,[],{name:[0,"name"]},null),n["ɵqud"](603979776,8,{cell:0}),n["ɵqud"](603979776,9,{headerCell:0}),n["ɵqud"](603979776,10,{footerCell:0}),n["ɵprd"](2048,[[1,4]],r.d,null,[a.c]),(e()(),n["ɵand"](0,null,null,2,null,z)),n["ɵdid"](47,16384,null,0,a.i,[n.TemplateRef],null,null),n["ɵprd"](2048,[[9,4]],r.j,null,[a.i]),(e()(),n["ɵand"](0,null,null,2,null,Y)),n["ɵdid"](50,16384,null,0,a.b,[n.TemplateRef],null,null),n["ɵprd"](2048,[[8,4]],r.b,null,[a.b]),(e()(),n["ɵeld"](52,0,null,null,12,null,null,null,null,null,null,null)),n["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[a.c]),n["ɵdid"](54,16384,null,3,a.c,[],{name:[0,"name"]},null),n["ɵqud"](603979776,20,{cell:0}),n["ɵqud"](603979776,21,{headerCell:0}),n["ɵqud"](603979776,22,{footerCell:0}),n["ɵprd"](2048,[[1,4]],r.d,null,[a.c]),(e()(),n["ɵand"](0,null,null,2,null,Z)),n["ɵdid"](60,16384,null,0,a.i,[n.TemplateRef],null,null),n["ɵprd"](2048,[[21,4]],r.j,null,[a.i]),(e()(),n["ɵand"](0,null,null,2,null,X)),n["ɵdid"](63,16384,null,0,a.b,[n.TemplateRef],null,null),n["ɵprd"](2048,[[20,4]],r.b,null,[a.b]),(e()(),n["ɵeld"](65,0,null,null,12,null,null,null,null,null,null,null)),n["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[a.c]),n["ɵdid"](67,16384,null,3,a.c,[],{name:[0,"name"]},null),n["ɵqud"](603979776,32,{cell:0}),n["ɵqud"](603979776,33,{headerCell:0}),n["ɵqud"](603979776,34,{footerCell:0}),n["ɵprd"](2048,[[1,4]],r.d,null,[a.c]),(e()(),n["ɵand"](0,null,null,2,null,Q)),n["ɵdid"](73,16384,null,0,a.i,[n.TemplateRef],null,null),n["ɵprd"](2048,[[33,4]],r.j,null,[a.i]),(e()(),n["ɵand"](0,null,null,2,null,ne)),n["ɵdid"](76,16384,null,0,a.b,[n.TemplateRef],null,null),n["ɵprd"](2048,[[32,4]],r.b,null,[a.b]),(e()(),n["ɵand"](0,null,null,2,null,oe)),n["ɵdid"](79,540672,null,0,a.k,[n.TemplateRef,n.IterableDiffers],{columns:[0,"columns"],sticky:[1,"sticky"]},null),n["ɵprd"](2048,[[3,4]],r.l,null,[a.k]),(e()(),n["ɵand"](0,null,null,2,null,ae)),n["ɵdid"](82,540672,null,0,a.m,[n.TemplateRef,n.IterableDiffers],{columns:[0,"columns"]},null),n["ɵprd"](2048,[[2,4]],r.n,null,[a.m]),(e()(),n["ɵeld"](84,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),n["ɵdid"](85,16384,null,0,T.f,[],null,null),(e()(),n["ɵeld"](86,0,null,null,7,"div",[["class","manage-cohort-ok-cancel"]],null,null,null,null,null)),(e()(),n["ɵeld"](87,0,null,null,3,"button",[["class","cancel-btn ctos-btn-secondary mat-button"],["mat-dialog-close",""],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(e,t,l){var o=!0,a=e.component;return"click"===t&&(o=!1!==n["ɵnov"](e,89).dialogRef.close(n["ɵnov"](e,89).dialogResult)&&o),"click"===t&&(o=!1!==a.cancelManageCohortPopup()&&o),o}),i.b,i.a)),n["ɵdid"](88,180224,null,0,s.b,[n.ElementRef,u.h,[2,c.a]],null,null),n["ɵdid"](89,606208,null,0,T.g,[[2,T.l],n.ElementRef,T.e],{dialogResult:[0,"dialogResult"]},null),(e()(),n["ɵted"](90,0,["",""])),(e()(),n["ɵeld"](91,0,null,null,2,"button",[["class","ok-btn ctos-btn-primary mat-button"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.saveCohort()&&n),n}),i.b,i.a)),n["ɵdid"](92,180224,null,0,s.b,[n.ElementRef,u.h,[2,c.a]],{disabled:[0,"disabled"]},null),(e()(),n["ɵted"](93,0,["",""]))],(function(e,t){var l=t.component;e(t,4,0),e(t,8,0,"Y"===(null==l.study?null:null==l.study.info?null:l.study.info.cohortIndicator)),e(t,11,0,"primary"),e(t,13,0),e(t,21,0,l.dataSource),e(t,28,0,"delete"),e(t,41,0,"name"),e(t,54,0,"description"),e(t,67,0,"source"),e(t,79,0,l.displayedColumns,!0),e(t,82,0,l.displayedColumns),e(t,89,0,""),e(t,92,0,l.disableSave)}),(function(e,t){var l=t.component;e(t,3,0,n["ɵnov"](t,4).id),e(t,5,0,l.manageCohortLabels.MANAGE_COHORT),e(t,10,0,n["ɵnov"](t,11).disabled||null,"NoopAnimations"===n["ɵnov"](t,11)._animationMode),e(t,12,0,n["ɵnov"](t,13).inline,"primary"!==n["ɵnov"](t,13).color&&"accent"!==n["ɵnov"](t,13).color&&"warn"!==n["ɵnov"](t,13).color),e(t,15,0,l.manageCohortLabels.ADD_COHORT_LABEL),e(t,87,0,n["ɵnov"](t,88).disabled||null,"NoopAnimations"===n["ɵnov"](t,88)._animationMode,n["ɵnov"](t,89).ariaLabel||null,n["ɵnov"](t,89).type),e(t,90,0,l.manageCohortLabels.CANCEL),e(t,91,0,n["ɵnov"](t,92).disabled||null,"NoopAnimations"===n["ɵnov"](t,92)._animationMode),e(t,93,0,l.manageCohortLabels.OK)}))}function ie(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,6,"ctos-manage-cohort",[],null,null,null,re,j)),n["ɵprd"](512,null,_.a,_.a,[N.cb]),n["ɵprd"](512,null,O.a,O.a,[]),n["ɵprd"](512,null,M.a,M.a,[F.a,N.cb,N.e,H.M,N.U,N.ab,w.c,H.D,U.a,U.n,T.e,H.y,N.x]),n["ɵprd"](512,null,k.a,k.a,[F.a,_.a,N.cb,N.ab,H.h,H.S,O.a,N.J,o.DecimalPipe,o.DatePipe,H.M,H.R,N.e,M.a,N.O,T.e,U.n,x.a]),n["ɵprd"](512,null,G.a,G.a,[k.a,H.M]),n["ɵdid"](6,245760,null,0,V.a,[k.a,G.a,T.e,T.l,T.a,H.D,M.a,N.cb],null,null)],(function(e,t){e(t,6,0)}),null)}var se=n["ɵccf"]("ctos-manage-cohort",V.a,ie,{},{},[])},RGOy:function(e,t,l){"use strict";l.d(t,"a",(function(){return E}));var n=l("LoAr"),o=l("s8WJ"),a=l("Gien"),r=l("GcYS"),i=l("0xYh"),s=l("Z5FQ"),u=l("WT9V"),c=l("iEqU"),d=l("uMZP"),p=l("vV4x"),h=l("IW84"),S=l("+xO1"),m=l("6nV5"),f=l("8raB"),v=l("981U"),g=l("gntc"),R=l("bFd/"),y=l("HkLT"),C=l("zXGZ"),D=l("Bl3T"),A=n["ɵcrt"]({encapsulation:2,styles:[],data:{}});function P(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,18,"div",[],null,null,null,null,null)),(e()(),n["ɵeld"](1,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),n["ɵdid"](2,81920,null,0,o.m,[[2,o.l],n.ElementRef,o.e],null,null),(e()(),n["ɵted"](3,null,[" "," "])),(e()(),n["ɵeld"](4,0,null,null,4,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),n["ɵdid"](5,16384,null,0,o.j,[],null,null),(e()(),n["ɵeld"](6,0,null,null,1,"p",[["class","mat-body-1"]],null,null,null,null,null)),(e()(),n["ɵted"](7,null,["",""])),(e()(),n["ɵeld"](8,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),n["ɵeld"](9,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),n["ɵdid"](10,16384,null,0,o.f,[],null,null),(e()(),n["ɵeld"](11,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),n["ɵeld"](12,0,null,null,3,"button",[["mat-dialog-close",""],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(e,t,l){var o=!0;return"click"===t&&(o=!1!==n["ɵnov"](e,14).dialogRef.close(n["ɵnov"](e,14).dialogResult)&&o),o}),a.b,a.a)),n["ɵdid"](13,180224,null,0,r.b,[n.ElementRef,i.h,[2,s.a]],null,null),n["ɵdid"](14,606208,null,0,o.g,[[2,o.l],n.ElementRef,o.e],{dialogResult:[0,"dialogResult"]},null),(e()(),n["ɵted"](15,0,["",""])),(e()(),n["ɵeld"](16,0,null,null,2,"button",[["class","margin-right-20 ctos-btn-secondary"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.deleteCohort()&&n),n}),a.b,a.a)),n["ɵdid"](17,180224,null,0,r.b,[n.ElementRef,i.h,[2,s.a]],{disabled:[0,"disabled"]},null),(e()(),n["ɵted"](18,0,["",""]))],(function(e,t){var l=t.component;e(t,2,0),e(t,14,0,""),e(t,17,0,l.disableOk)}),(function(e,t){var l=t.component;e(t,1,0,n["ɵnov"](t,2).id),e(t,3,0,l.deleteCohortLabels.DELETE_COHORT_LABEL),e(t,7,0,l.deleteCohortLabels.DELETE_COHORT_CONFIRM),e(t,12,0,n["ɵnov"](t,13).disabled||null,"NoopAnimations"===n["ɵnov"](t,13)._animationMode,n["ɵnov"](t,14).ariaLabel||null,n["ɵnov"](t,14).type),e(t,15,0,l.deleteCohortLabels.CANCEL),e(t,16,0,n["ɵnov"](t,17).disabled||null,"NoopAnimations"===n["ɵnov"](t,17)._animationMode),e(t,18,0,l.deleteCohortLabels.OK)}))}function b(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(e()(),n["ɵeld"](1,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),n["ɵdid"](2,81920,null,0,o.m,[[2,o.l],n.ElementRef,o.e],null,null),(e()(),n["ɵted"](3,null,["",""])),(e()(),n["ɵeld"](4,0,null,null,4,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),n["ɵdid"](5,16384,null,0,o.j,[],null,null),(e()(),n["ɵeld"](6,0,null,null,1,"p",[["class","mat-body-1"]],null,null,null,null,null)),(e()(),n["ɵted"](7,null,[""," ",""])),(e()(),n["ɵeld"](8,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),n["ɵeld"](9,0,null,null,6,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),n["ɵdid"](10,16384,null,0,o.f,[],null,null),(e()(),n["ɵeld"](11,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),n["ɵeld"](12,0,null,null,3,"button",[["class","ctos-btn-primary"],["mat-dialog-close",""],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(e,t,l){var o=!0;return"click"===t&&(o=!1!==n["ɵnov"](e,14).dialogRef.close(n["ɵnov"](e,14).dialogResult)&&o),o}),a.b,a.a)),n["ɵdid"](13,180224,null,0,r.b,[n.ElementRef,i.h,[2,s.a]],null,null),n["ɵdid"](14,606208,null,0,o.g,[[2,o.l],n.ElementRef,o.e],{dialogResult:[0,"dialogResult"]},null),(e()(),n["ɵted"](15,0,["",""]))],(function(e,t){e(t,2,0),e(t,14,0,"")}),(function(e,t){var l=t.component;e(t,1,0,n["ɵnov"](t,2).id),e(t,3,0,l.deleteCohortLabels.DELETE_COHORT_ERROR),e(t,7,0,l.deleteCohortLabels.DELETE_COHORT_USED_IN_PLAN,l.usedInPlans),e(t,12,0,n["ɵnov"](t,13).disabled||null,"NoopAnimations"===n["ɵnov"](t,13)._animationMode,n["ɵnov"](t,14).ariaLabel||null,n["ɵnov"](t,14).type),e(t,15,0,l.deleteCohortLabels.OK)}))}function L(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(e()(),n["ɵeld"](1,0,null,null,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(e()(),n["ɵted"](2,null,["",""])),(e()(),n["ɵeld"](3,0,null,null,4,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),n["ɵdid"](4,16384,null,0,o.j,[],null,null),(e()(),n["ɵeld"](5,0,null,null,1,"p",[["class","mat-body-1"]],null,null,null,null,null)),(e()(),n["ɵted"](6,null,["",""])),(e()(),n["ɵeld"](7,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),n["ɵeld"](8,0,null,null,6,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),n["ɵdid"](9,16384,null,0,o.f,[],null,null),(e()(),n["ɵeld"](10,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),n["ɵeld"](11,0,null,null,3,"button",[["class","ctos-btn-primary"],["mat-dialog-close",""],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(e,t,l){var o=!0;return"click"===t&&(o=!1!==n["ɵnov"](e,13).dialogRef.close(n["ɵnov"](e,13).dialogResult)&&o),o}),a.b,a.a)),n["ɵdid"](12,180224,null,0,r.b,[n.ElementRef,i.h,[2,s.a]],null,null),n["ɵdid"](13,606208,null,0,o.g,[[2,o.l],n.ElementRef,o.e],{dialogResult:[0,"dialogResult"]},null),(e()(),n["ɵted"](14,0,["",""]))],(function(e,t){e(t,13,0,"")}),(function(e,t){var l=t.component;e(t,2,0,l.deleteCohortLabels.DELETE_COHORT_ERROR),e(t,6,0,l.deleteCohortLabels.DELETE_COHORT_APPROVED_PLAN),e(t,11,0,n["ɵnov"](t,12).disabled||null,"NoopAnimations"===n["ɵnov"](t,12)._animationMode,n["ɵnov"](t,13).ariaLabel||null,n["ɵnov"](t,13).type),e(t,14,0,l.deleteCohortLabels.OK)}))}function T(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,6,"div",[["class","delete-cohort-container"]],null,null,null,null,null)),(e()(),n["ɵand"](16777216,null,null,1,null,P)),n["ɵdid"](2,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["ɵand"](16777216,null,null,1,null,b)),n["ɵdid"](4,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["ɵand"](16777216,null,null,1,null,L)),n["ɵdid"](6,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var l=t.component;e(t,2,0,l.deleteConfirm),e(t,4,0,l.deleteUsedInPlan),e(t,6,0,l.deleteApprovedPlan)}),null)}function I(e){return n["ɵvid"](0,[(e()(),n["ɵeld"](0,0,null,null,7,"ctos-delete-cohort",[],null,null,null,T,A)),n["ɵprd"](512,null,c.a,c.a,[d.cb]),n["ɵprd"](512,null,p.a,p.a,[]),n["ɵprd"](512,null,h.a,h.a,[S.a,d.cb,d.e,m.M,d.U,d.ab,f.c,m.D,v.a,v.n,o.e,m.y,d.x]),n["ɵprd"](512,null,g.a,g.a,[S.a,c.a,d.cb,d.ab,m.h,m.S,p.a,d.J,u.DecimalPipe,u.DatePipe,m.M,m.R,d.e,h.a,d.O,o.e,v.n,R.a]),n["ɵprd"](512,null,y.a,y.a,[g.a]),n["ɵprd"](512,null,C.a,C.a,[g.a,m.M]),n["ɵdid"](7,245760,null,0,D.a,[g.a,y.a,o.l,o.a,h.a,m.D,C.a,d.cb],null,null)],(function(e,t){e(t,7,0)}),null)}var E=n["ɵccf"]("ctos-delete-cohort",D.a,I,{},{},[])},XllP:function(e,t,l){"use strict";l("+xO1"),l("hl1b")},b9Vd:function(e,t,l){"use strict";l.d(t,"a",(function(){return n}));var n=function(e){return e.CREATE="bs",e.ADJUSTEMENT="adj",e.UPDATEBASE="edb",e.UPDATEADJUSTMENT="eda",e.READONLY="rd",e}({})},"bFd/":function(e,t,l){"use strict";var n=function(e){return e.USER_NAME="HeaderUserName",e.DATE="HeaderDate",e.TAB_NAME="HeaderTabName",e.STUDY_ID="HeaderStudyId",e.STUDY_NAME="HeaderStudyName",e.PLAN_NAME="HeaderPlanName",e.COMPONENT_NAME="HeaderComponentName",e.LAST_SOURCE_DATA_UPDATE="HeaderLastSourceDataUpdate",e.INDIVIDUAL_PLAN_TAB_NAME="HeaderIndividualPlanTabName",e.GEOGRAPHY="HeaderGeography",e.PLAN_TAB_NAME="HeaderPlanTabName",e.GRID_NAME="HeaderGridName",e}({}),o=l("LoAr"),a=l("6nV5");l.d(t,"a",(function(){return r}));var r=function(){function e(e){this.resourceService=e}return e.prototype.getAppResource=function(e){return this.resourceService.getResource(e)},Object.defineProperty(e.prototype,"PCEHeaderResource",{get:function(){return{userName:this.getAppResource(n.USER_NAME),date:this.getAppResource(n.DATE),tabName:this.getAppResource(n.TAB_NAME),studyId:this.getAppResource(n.STUDY_ID),studyName:this.getAppResource(n.STUDY_NAME),planName:this.getAppResource(n.PLAN_NAME),componentName:this.getAppResource(n.COMPONENT_NAME),lastSourceDataUpdate:this.getAppResource(n.LAST_SOURCE_DATA_UPDATE),individualPlanTabName:this.getAppResource(n.INDIVIDUAL_PLAN_TAB_NAME),geography:this.getAppResource(n.GEOGRAPHY),planTabName:this.getAppResource(n.PLAN_TAB_NAME),gridName:this.getAppResource(n.GRID_NAME)}},enumerable:!0,configurable:!0}),e.ngInjectableDef=o["ɵɵdefineInjectable"]({factory:function(){return new e(o["ɵɵinject"](a.M))},token:e,providedIn:"root"}),e}()},gntc:function(e,t,l){"use strict";var n=l("D57K"),o=(l("iEqU"),l("wgY5")),a=l("6nV5"),r=l("fQLH"),i=l("pN2L"),s=l("Jg5f"),u=l("uMZP"),c=(l("+xO1"),l("5IsW")),d=(l("vV4x"),l("1iVT")),p=function(){function e(e,t,l){this.startDate=e,this.endDate=t,this.noOfWeeks=l}return Object.defineProperty(e.prototype,"$startDate",{get:function(){return this.startDate},set:function(e){this.endDate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$endDate",{get:function(){return this.endDate},set:function(e){this.endDate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$noOfWeeks",{get:function(){return this.noOfWeeks},set:function(e){this.noOfWeeks=e},enumerable:!0,configurable:!0}),e}(),h=l("IE7m"),S=(l("IW84"),l("gX7u"));l("bFd/"),l.d(t,"a",(function(){return f}));var m=o,f=function(){function e(e,t,l,n,o,a,i,s,u,c,d,p,h,S,m,f,v,g){var R=this;this.studySummaryService=e,this.managePlansPrivilegeService=t,this.userDataService=l,this.studyListService=n,this.baseConnectionService=o,this.payloadCommandService=a,this.managePlansSortingService=i,this.milestoneGraphService=s,this.dcp=u,this.datePipe=c,this.localeAppResourcesService=d,this.pceService=p,this.appDataService=h,this.plansService=S,this.planOptionsService=m,this.dialog=f,this.route=v,this.pceHeaderResourceService=g,this.plist={},this.mileStones=new Array,this.columnsHeader=[],this.studyDetailObj={studyId:"",studyName:"",studyRefreshDate:""},this.planlist=new r.a,this.planList$=this.planlist.asObservable(),this.planList$.subscribe((function(e){R.plist.plansList=e?e.plansList:[]})),this.planHeader=new r.a,this.planHeader$=this.planHeader.asObservable(),this.sortingOptions=new r.a,this.sortingOptions$=this.sortingOptions.asObservable(),this.planOptionSuccess=new r.a,this.planOptionSuccess$=this.planOptionSuccess.asObservable()}return Object.defineProperty(e.prototype,"studyTag",{get:function(){return this.sTag},set:function(e){this.sTag=e},enumerable:!0,configurable:!0}),e.prototype.getSourceSummary=function(e){if(e)return this.studySummaryService.getSourceSummary(e).pipe(Object(s.a)((function(e){return e})))},e.prototype.getStudySummaryResources=function(){return this.studySummaryService.getStudySummaryResources()},e.prototype.getStudyKey=function(){return this.userDataService.lastVisitedStudy},e.prototype.getPlanList=function(e){var t=this;try{return this.studyTag=this.getStudyTag(e),this.getPlans(e).pipe(Object(s.a)((function(e){var l=e,n=t.plansService.getPlanSortOptions();return n&&n.value&&n.order?(t.plist.plansList=l.plansList,t.plist.planCardHeader=l.planCardHeader,t.sortPlans(Object.assign([],t.plist.plansList),n.value,n.order)):t.setPlanList(l),l})))}catch(l){}},e.prototype.getPlans=function(e,t){var l=this;return l.getPlanListDetails(e,t).pipe(Object(s.a)((function(e){return l.mileStones=new Array,e?l.planDetailsMap(e):null})))},e.prototype.setPlanList=function(e){this.planlist.next(e)},e.prototype.setSorting=function(e){this.sortingOptions.next(e),this.plansService.setPlanSortOptions(e)},e.prototype.getStudyTag=function(e){return this.studyListService.getStudyInfoByKey(e)},e.prototype.getNoPlanMessage=function(){return Object(i.a)(this.localeAppResourcesService.getResource(c.Ib))},e.prototype.getPlanListDetails=function(e,t){var l={commandName:c.p.PLANLIST,param:{studyKey:e}},n=u.m.getModuleInfo(null,e),o=this.payloadCommandService.getCommandDetails(l.commandName,l.param,null,null,n);return t||(t={}),t.cacheKey=a.l.GetPlanListKey+"_"+l.param.studyKey,this.baseConnectionService.sendRequest(o,t).pipe(Object(s.a)((function(e){return e&&e.planList&&e.planList.planThumbnail?e.planList.planThumbnail:null})))},e.prototype.planDetailsMap=function(e){var t=this,l={planCardHeader:{planTimeLine:{}},plansList:[]};return l.planCardHeader.planTimeLine.maxTLSR="",l.planCardHeader.planTimeLine.minTFSI="",l.planCardHeader.planTimeLine.nOfWeeks="",l.planCardHeader.preferences=d.a.card,l.planCardHeader.sortedBy="",e?(Array.isArray(e)?(l.planCardHeader.planCount=e.length,e.map((function(e){l.plansList=t.planListMapping(l.plansList,e,S.b.BASE)}))):(l.planCardHeader.planCount=c.mc,l.plansList=this.planListMapping(l.plansList,e,S.b.BASE)),l.planCardHeader.planCount=l.planCardHeader.planCount+this.calTotalAdjustmentCount(l)):l.planCardHeader.planCount=0,l},e.prototype.calTotalAdjustmentCount=function(e){return e.plansList.reduce((function(e,t){return e+t.adjustementCount}),0)},e.prototype.calAdjustmentCount=function(e){var t=0;return e.adjustPlanList&&(t=Array.isArray(e.adjustPlanList.adjustPlanThumbnail)?e.adjustPlanList.adjustPlanThumbnail.length:c.mc),t},e.prototype.adjustmentMap=function(e){var t=this,l=[];return e.adjustPlanList&&(Array.isArray(e.adjustPlanList.adjustPlanThumbnail)?e.adjustPlanList.adjustPlanThumbnail.map((function(e){l=t.planListMapping(l,e,S.b.ADJ)})):l=this.planListMapping(l,e.adjustPlanList.adjustPlanThumbnail,S.b.ADJ)),l},e.prototype.mileStoneMap=function(e){var t={};return e&&(t.PFSI=e.planFSI?e.planFSI:"",t.PFSR=e.PFSR?e.PFSR:"",t.PFSS=e.planFSS?e.planFSS:"",t.PLSI=e.PLSI?e.PLSI:"",t.PLSR=e.planLSR?e.planLSR:"",t.TFSI=e.FSI?e.FSI:"",t.TLSR=e.LSR?e.LSR:"",t.TLSS=e.LSS?e.LSS:"",t.PLSS=e.planLSS?e.planLSS:""),this.mileStones.push(t),t},e.prototype.planImgStatus=function(e,t){var l="";if(e===S.b.BASE)switch(t){case S.a.APPROVED:l=S.a.BASEAPPROVED;break;case S.a.VALID:l=S.a.BASEVALID;break;case S.a.INVALID:l=S.a.BASEINVALID;break;case S.a.PREVAPPROVED:l=S.a.BASEPREVAPPROVED}else switch(t){case S.a.APPROVED:l=S.a.BASEAPPROVED;break;case S.a.VALID:l=S.a.ADJVALID;break;case S.a.INVALID:l=S.a.ADJINVALID;break;case S.a.PREVAPPROVED:l=S.a.ADJPREVAPPROVED}return l},e.prototype.planListMapping=function(e,t,l){return e.push({planKey:t.key,parentPlankey:t.parentPlankey,planName:t.name,description:t.description,planStatus:t.planStatus?t.planStatus.value:null,planImageStatus:this.planImgStatus(l,t.planStatus?t.planStatus.value:null),isAdjustment:l!==S.b.BASE,planDesign:t.planDesign?t.planDesign:c.M,cohortCount:a.c.isDefined(t.cohortCount,!0)?t.cohortCount:c.M,planCountries:a.c.isDefined(t.planCountries,!0)?t.planCountries:c.M,planSites:a.c.isDefined(t.planSites,!0)?t.planSites:c.M,randomizationRate:t.RR===c.yc?t.RR:a.c.isDefined(t.RR,!0)?this.calculateReportingPeriod(t.RR):c.M,screenFailure:t.SFR===c.yc?t.SFR:a.c.isDefined(t.SFR,!0)?parseFloat(this.dcp.transform(t.SFR,"1.0-1")):c.M,targetRandomization:a.c.isDefined(t.enrollmentTarget,!0)?t.enrollmentTarget:c.M,plannedRandomiztion:a.c.isDefined(t.planEnrollment,!0)?t.planEnrollment:c.M,plannedCycleTime:a.c.isDefined(t.planCycleTime,!0)?t.planCycleTime:c.M,targetCycleTime:a.c.isDefined(t.cycleTime,!0)?t.cycleTime:c.M,diffPlannedTargetCycleTime:t.planCycleTime&&t.cycleTime?parseFloat(this.dcp.transform(t.planCycleTime-t.cycleTime,"1.0-1")):c.M,lastModifiedBy:t.lastModifiedBy,lastModifiedDate:t.lastModifiedDate?m(t.lastModifiedDate).toDate():null,diffTodayModifedDate:t.lastModifiedTimeLine?t.lastModifiedTimeLine:c.M,Version:t.version?t.version:c.M,lastModifiedbyUser:t.lastModifiedUserName?t.lastModifiedUserName:c.M,adjustmentPlan:this.adjustmentMap(t),adjustementCount:this.calAdjustmentCount(t),PFSI:t.planFSI?new Date(t.planFSI):null,PFSR:t.PFSR?new Date(t.PFSR):null,PFSS:t.planFSS?new Date(t.planFSS):null,PLSI:t.PLSI?new Date(t.PLSI):null,PLSR:t.planLSR?new Date(t.planLSR):null,TFSI:t.FSI?new Date(t.FSI):null,TLSR:t.LSR?new Date(t.LSR):null,TLSS:t.LSS?new Date(t.LSS):null,PLSS:t.planLSS?new Date(t.planLSS):null,mileStones:this.mileStoneMap(t),isAutoDeleted:t.isAutoDeleted,costAlert:!!t.costParams&&t.costParams.costAlert,isPlan:t.isPlan,isDeletable:t.isDeletable,isReadOnly:t.isReadOnly,planActionsObject:{planKey:t.key,studyKey:this.getStudyId(),parentPlankey:t.parentPlankey},planNameStatus:{name:t.name,status:this.planImgStatus(l,t.planStatus?t.planStatus.value:null)},planType:t.planType?t.planType:c.M,DTFSI:t.FSI?this.dateFormatter(t.FSI):c.M,DPFSI:t.planFSI?this.dateFormatter(t.planFSI):c.M,DPFSR:t.PFSR?this.dateFormatter(t.PFSR):c.M,DPFSS:t.planFSS?this.dateFormatter(t.planFSS):c.M,DPLSI:t.PLSI?this.dateFormatter(t.PLSI):c.M,DPLSR:t.planLSR?this.dateFormatter(t.planLSR):c.M,DTLSR:t.LSR?this.dateFormatter(t.LSR):c.M,DTLSS:t.LSS?this.dateFormatter(t.LSS):c.M,DPLSS:t.planLSS?this.dateFormatter(t.planLSS):c.M,DMBY:t.lastModifiedDate?this.dateFormatter(m(t.lastModifiedDate)):c.M,screeningPeriod:a.c.isDefined(t.screeningPeriod,!0)?t.screeningPeriod:c.M,planScreened:a.c.isDefined(t.planScreened,!0)?t.planScreened:c.M,siteActivelyScreeing:t.ARC===c.yc?t.ARC:a.c.isDefined(t.ARC,!0)?parseFloat(this.dcp.transform(t.ARC,"1.0-1")):c.M,plannedSlot1Site:t.centerInitInfo?this.getPlannedSlot(t.centerInitInfo,1,!0):c.M,plannedSlot2Site:t.centerInitInfo?this.getPlannedSlot(t.centerInitInfo,2,!0):c.M,plannedSlot3Site:t.centerInitInfo?this.getPlannedSlot(t.centerInitInfo,3,!0):c.M,totalCost:t.costParams?this.costFormatter(t.costParams.totalCost):c.M,screeningCost:t.costParams?this.costFormatter(t.costParams.screeningCost):c.M,treatmentCost:t.costParams?this.costFormatter(t.costParams.treatmentCost):c.M,siteInitCost:t.costParams?this.costFormatter(t.costParams.siteInitCost):c.M,countrySetupCost:t.costParams?this.costFormatter(t.costParams.countrySetupCost):c.M,slot1Site:t.centerInitInfo?this.getPlannedSlot(t.centerInitInfo,1,!1):c.M,slot2Site:t.centerInitInfo?this.getPlannedSlot(t.centerInitInfo,2,!1):c.M,slot3Site:t.centerInitInfo?this.getPlannedSlot(t.centerInitInfo,3,!1):c.M,screeningRate:t.SR===c.yc?t.SR:a.c.isDefined(t.SR,!0)?this.calculateReportingPeriod(t.SR):c.M,PRTRDiff:t.enrollmentTarget&&t.planEnrollment?parseFloat(this.dcp.transform(this.getFillPercentage(t.enrollmentTarget,t.planEnrollment),"1.0-2")):c.M,PFSITFSIDiff:t.PFSI&&t.TFSI?this.calculateWeekDiff(t.PFSI,t.TFSI):c.M,PLSRTLSRDiff:t.PLSR&&t.TLSR?this.calculateWeekDiff(t.PLSR,t.TLSR):c.M,SF:a.c.isDefined(t.SFR,!0)?parseFloat(this.dcp.transform(t.SFR,"1.0-1"))+h.h:c.M,SAS:a.c.isDefined(t.ARC,!0)?parseFloat(this.dcp.transform(t.ARC,"1.0-1"))+h.h:c.M}),e},e.prototype.costFormatter=function(e){return 0===e||""===e?c.M:(Math.round(100*e)/100).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},e.prototype.isPlanApprovedOrPreviousApproved=function(e){return e.planStatus.value===S.a.APPROVED||e.planStatus.value===S.a.PREVAPPROVED},e.prototype.setAdjustment=function(e,t){this.plist.plansList&&this.plist.plansList.map((function(l){l.planKey===t&&(l.showAdjustments=e)}))},e.prototype.calculateReportingPeriod=function(e){var t;return t=e,this.studyTag&&(t=e),t.toFixed(3)},e.prototype.getReportingPeriodLabel=function(){if(this.studyTag)switch(this.studyTag.reportingPeriod){case c.Wb.WEEK.NAME:return c.Wb.WEEK.LABEL;case c.Wb.MONTH.NAME:return c.Wb.MONTH.LABEL;case c.Wb.QUARTER.NAME:return c.Wb.QUARTER.LABEL;case c.Wb.DAY.NAME:return c.Wb.DAY.LABEL}},e.prototype.getFillPercentage=function(e,t){return"-"===e||0===t||"-"===t?c.Kb.ZERO:e/t*c.Kb.HUNDRED},e.prototype.sortPlans=function(e,t,l){if(e&&t&&l){var n=this.managePlansSortingService.getSortedPlans(Object.assign([],this.plist.plansList),t,l),o=Object.assign({},this.plist);o.plansList=this.managePlansSortingService.getSegregatePlans(n),this.setSorting({value:t,order:l}),this.setPlanList(o)}},e.prototype.getTimeLine=function(){var e=this.milestoneGraphService.rangeFinder(this.mileStones);return new p(this.datePipe.transform(e.start,"dd-MMM-yyyy"),this.datePipe.transform(e.end,"dd-MMM-yyyy"),this.getNoOfWeeks(e.difference))},e.prototype.getNoOfWeeks=function(e){var t=parseFloat(e);return(t?this.dcp.transform(t,"1.0-2"):"-")+" "+(t>1?"Weeks":"Week")},e.prototype.getSortOptions=function(e){return this.managePlansSortingService.getSortOptions(e)},e.prototype.getPlanListHeaderResources=function(){return{createPlanLabel:this.localeAppResourcesService.getResource("CNPPanelTitle"),plansLabel:this.localeAppResourcesService.getResource("Plans"),gridSortingLabel:"Select field for Sorting",noSelectLabel:"Select field for Sorting",prefixLabel:"Sorted by",deleteAllLabel:this.localeAppResourcesService.getResource("DeleteAllLabel"),deleteAllHeading:this.localeAppResourcesService.getResource("DeleteAllHeading"),deleteAllPlanMessage:this.localeAppResourcesService.getResource("DeleteAllPlanMessage"),cancel:this.localeAppResourcesService.getResource("CancelLabel")}},e.prototype.getPlanCardResources=function(){return{SHOW_ADJUSTMENTS:this.localeAppResourcesService.getResource("SHOW_ADJUSTMENTS"),HIDE_ADJUSTMENTS:this.localeAppResourcesService.getResource("HIDE_ADJUSTMENTS"),WEEKS:this.localeAppResourcesService.getResource("WEEKS"),RANDOMIZATION_RATE:this.localeAppResourcesService.getResource("RANDOMIZATION_RATE_ABR"),SCREEN_FAILURE:this.localeAppResourcesService.getResource("SCREEN_FAILURE_ABR"),TARGET_RANDOMIZATION:this.localeAppResourcesService.getResource("TARGET_RANDOMIZATION_ABR"),PLANNED_RANDOMIZATION:this.localeAppResourcesService.getResource("PLANNED_RANDOMIZATION_ABR"),PLANNED_CYCLE:this.localeAppResourcesService.getResource("PLANNED_CYCLE"),TCT:this.localeAppResourcesService.getResource("TCT"),PCT:this.localeAppResourcesService.getResource("PCT"),AHEAD:this.localeAppResourcesService.getResource("AHEAD"),BEHIND:this.localeAppResourcesService.getResource("BEHIND"),COST_ALERT:this.localeAppResourcesService.getResource("COST_ALERT"),PLAN_ACTION_LABELS:this.planOptionsService.getPlanOptionLabels(),TOOLTIP_LABELS:{COUNTRIES:this.localeAppResourcesService.getResource("TOOLTIP_LABELS_COUNTRIES"),SITES:this.localeAppResourcesService.getResource("TOOLTIP_LABELS_SITES"),RR:this.getReportingPeriodLabel()+" "+this.localeAppResourcesService.getResource("TOOLTIP_LABELS_RR"),SF:this.localeAppResourcesService.getResource("TOOLTIP_LABELS_SF"),TR:this.localeAppResourcesService.getResource("TOOLTIP_LABELS_TR"),PR:this.localeAppResourcesService.getResource("TOOLTIP_LABELS_PR")},BANNER_LABELS:this.planOptionsService.getBannerLabels()}},e.prototype.delete=function(e,t,l){var n,o=this,a=c.p,r=e,i=u.m.getModuleInfo(null,r);return n=t||l?this.payloadCommandService.getCommandDetails(a.DELTEPLAN,{studyKey:r,planKey:t,version:l},null,null,i):this.payloadCommandService.getCommandDetails(a.DELETEALLPLAN,{studyKey:r},null,null,i),this.baseConnectionService.sendRequest(n).pipe(Object(s.a)((function(e){return e&&e.planList&&e.planList.planThumbnail?o.planDetailsMap(e.planList.planThumbnail):null})))},e.prototype.deletePlans=function(e,t,l){var n=this;return this.delete(e,t,l).pipe(Object(s.a)((function(e){return n.setPlanList(e),n.setPlanCount(e),e})))},e.prototype.onDeletePlanSuccess=function(e,t,l){if(e&&e.result===a.k.RESULT_OK)this.plansService.showSuccessMessage(t.BANNER_LABELS.SUCCESS.DELETE_PLAN),this.refreshPlanList(e),this.updateUsageMetrics(l);else{var n=this.planOptionsService.getErrorMsg(e.error.errorCode,c.U);this.plansService.showErrorMessage(n)}},e.prototype.onCopyPlanSuccess=function(e,t,l,n){var o=this,s=new r.a;if(!e||e.responseData.result!==a.k.RESULT_OK){var d=this.planOptionsService.getErrorMsg(e.responseData.error.errorCode,c.U);return this.plansService.showErrorMessage(d),Object(i.a)(null)}return setTimeout((function(){o.dialog.open(a.t,{width:u.t.COPY_PLAN_SUCCESS.WIDTH,data:o.getCopySuccessModalProp(e,t),panelClass:u.t.COPY_PLAN_SUCCESS.PANEL_CLASS,id:l}).afterClosed().subscribe((function(e){s.next(e)})),o.updateUsageMetrics(n)})),s.asObservable()},e.prototype.getCopySuccessModalProp=function(e,t){return{heading:t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_HEADING,message:"<b>'"+e.requestData.planName+"'</b><br>"+t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_MSG_PART_1+"<b>"+e.requestData.studyName+"</b><br>"+t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_MSG_PART_2+"<br><b>'"+e.requestData.destPlanName+"'</b><br>"+t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_MSG_PART_3+"<b>"+e.requestData.destStudyName+"</b><br>",okLabel:t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_ACTION_STAY,cancelLabel:t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_ACTION_GO,contentClass:"copy-success-dialog-class"}},e.prototype.onApprovePlanSuccess=function(e,t,l){if(e&&e.result===a.k.RESULT_OK)this.plansService.showSuccessMessage(t.BANNER_LABELS.SUCCESS.APPROVE_PLAN),this.refreshPlanList(e),this.updateUsageMetrics(l);else{var n=this.planOptionsService.getErrorMsg(e.error.errorCode,c.U);this.plansService.showErrorMessage(n)}},e.prototype.refreshPlanList=function(e){var t=this.planDetailsMap(e&&(""!==e.planList?e.planList.planThumbnail:e.planList));this.planOptionSuccess.next(),this.setPlanList(t),this.setPlanCount(t)},e.prototype.getPlanInfoForPlanOptions=function(e,t){return t?this.getAdjustment(e,t):this.getPlan(e)},e.prototype.getPlan=function(e){if(this.plist.plansList)return this.plist.plansList.find((function(t){return t.planKey===e}))},e.prototype.getAdjustment=function(e,t){if(this.plist.plansList)return this.plist.plansList.find((function(e){return e.planKey===t})).adjustmentPlan.find((function(t){return t.planKey===e}))},e.prototype.setPlanCount=function(e){var t=0;e&&(t=e.planCardHeader.planCount),this.planHeader.next(t)},e.prototype.hasDeletePrivilege=function(){return this.managePlansPrivilegeService.getPrivileges()},e.prototype.isDeleteAllEnabled=function(){var e,t;if(this.hasDeletePrivilege()&&this.plist&&this.plist.plansList)try{for(var l=n.__values(this.plist.plansList),o=l.next();!o.done;o=l.next()){var a=o.value;if(a.planStatus===S.a.VALID||a.planStatus===S.a.INVALID||S.a.APPROVED===a.planStatus&&!0===this.hasDeletableAdjustments(a))return!0}}catch(r){e={error:r}}finally{try{o&&!o.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return!1},e.prototype.hasDeletableAdjustments=function(e){var t,l;if(e&&e.adjustmentPlan.length>0)try{for(var o=n.__values(e.adjustmentPlan),a=o.next();!a.done;a=o.next()){var r=a.value;if(r.planImageStatus===S.a.ADJVALID||r.planImageStatus===S.a.ADJINVALID)return!0}}catch(i){t={error:i}}finally{try{a&&!a.done&&(l=o.return)&&l.call(o)}finally{if(t)throw t.error}}return!1},e.prototype.getPrevApprovedPlanCount=function(){return this.plist&&this.plist.plansList?this.plist.plansList.filter((function(e){return e.planStatus===S.a.PREVAPPROVED})).length:0},e.prototype.getApprovedPlanCount=function(){return this.plist&&this.plist.plansList?this.plist.plansList.filter((function(e){return e.planStatus===S.a.APPROVED})).length:0},e.prototype.getOtherPlanCount=function(){return this.plist&&this.plist.plansList?this.plist.plansList.filter((function(e){return e.planStatus===S.a.VALID||e.planStatus!==S.a.INVALID})).length:0},e.prototype.getPlansHeaderActions=function(){var e=this,t=new Array,l=this.getManagePlanHeaderActions(),n=this.localeAppResourcesService.getResource("DeleteAllHeading");return l.forEach((function(l){l.name!==n||e.isDeleteAllEnabled()||(l.isEnabled=!1),t.push(l)})),t},e.prototype.getActionResources=function(){return{PRINT:this.localeAppResourcesService.getResource("Print"),COPY:this.localeAppResourcesService.getResource("Copy"),EXPORT:this.localeAppResourcesService.getResource("Export"),DELETE_ALL_PLANS:this.localeAppResourcesService.getResource("DeleteAllHeading")}},e.prototype.getManagePlanHeaderActions=function(){return[{name:this.localeAppResourcesService.getResource("Print"),isVisible:!0,isEnabled:!0},{name:this.localeAppResourcesService.getResource("Copy"),isVisible:!0,isEnabled:!0},{name:this.localeAppResourcesService.getResource("Export"),isVisible:!0,isEnabled:!0},{name:this.localeAppResourcesService.getResource("DeleteAllHeading"),isVisible:!0,isEnabled:!0}]},e.prototype.getHeaderForPCE=function(){return this.pceService.jsonfyPlanCardHeaderData(this.planCardHeaderData())},e.prototype.getFooterForPCE=function(){return this.pceService.getFooter()},e.prototype.sendDataToPrint=function(e){var t=JSON.parse(JSON.stringify(this.plist.plansList)),l=this.PCEData(t,e);this.pceService.planCardHeaderData(this.planCardHeaderData()),this.pceService.setDataForPrint(l)},e.prototype.sendDataToCopy=function(e){this.tempPlist=JSON.parse(JSON.stringify(this.plist.plansList));var t=this.PCEData(this.tempPlist,e);this.pceService.planCardHeaderData(this.planCardHeaderData()),this.pceService.setDataForCopy(t)},e.prototype.sendExcelExport=function(e,t){this.tempPlist=JSON.parse(JSON.stringify(this.plist.plansList));var l=this.PCEData(this.tempPlist,e);this.pceService.planCardHeaderData(this.planCardHeaderData()),this.pceService.exportExcelData(l,t)},e.prototype.PCEData=function(e,t){var l=this,n=[],o=[],a=[],r=[],i=[];return Object.assign([],e).map((function(e){e.adjustmentPlan.length>0?(n=e.adjustmentPlan,delete e.adjustmentPlan,o.push(e),n.length>0&&n.map((function(e){e.planName="[Adj. Plan] "+e.planName,o.push(e)}))):o.push(e)})),t?(o.map((function(e){r.push(l.planExportMapping(e,!0))})),a=JSON.parse(JSON.stringify(r))):(o.map((function(e){i.push(l.planExportMapping(e))})),a=JSON.parse(JSON.stringify(i))),a},e.prototype.planExportMapping=function(e,t){var l=this,n=this.localeAppResourcesService.getResource("PMPPlanName"),o=this.localeAppResourcesService.getResource("PMPOptions"),a=this.localeAppResourcesService.getResource("PMPPlanStatus"),r={};return t?this.columnsHeader&&this.columnsHeader.map((function(t){if(e.hasOwnProperty(t.field)){var l=t.HeaderName;l!==o&&(r[t.HeaderName]=l===n?e.planName:l===a?e.planStatus:e[t.field])}})):this.getplancardHeader().map((function(t){if(e.hasOwnProperty(t.field)){var n;if(n=e[t.field],"randomizationRate"===t.field){var o=l.localeAppResourcesService.getResource("PCHRRRandomizationRateUpdated");t.HeaderName=o.replace("{0}",l.getReportingPeriodLabel())}r[t.HeaderName]=n}})),r},e.prototype.getplancardHeader=function(){return[{HeaderName:this.localeAppResourcesService.getResource("PCHPlanName"),field:"planName"},{HeaderName:this.localeAppResourcesService.getResource("PCHNumberofCountries"),field:"planCountries"},{HeaderName:this.localeAppResourcesService.getResource("PCHNumberofSites"),field:"planSites"},{HeaderName:this.localeAppResourcesService.getResource("PCHRRRandomizationRate"),field:"randomizationRate"},{HeaderName:this.localeAppResourcesService.getResource("PCHSFScreenFailure"),field:"SF"},{HeaderName:this.localeAppResourcesService.getResource("PCHTRTargetRandomization"),field:"targetRandomization"},{HeaderName:this.localeAppResourcesService.getResource("PCHPRPlannedRandomization"),field:"plannedRandomiztion"},{HeaderName:this.localeAppResourcesService.getResource("PCHPRtoTRDifference"),field:"PRTRDiff"},{HeaderName:this.localeAppResourcesService.getResource("PCHPlannedCycletimePFSItoPLSR"),field:"plannedCycleTime"},{HeaderName:this.localeAppResourcesService.getResource("PCHTargetCycleTimeTFSItoTLSR"),field:"targetCycleTime"},{HeaderName:this.localeAppResourcesService.getResource("PCHPlannedtoTargetCycleTimeDiff"),field:"diffPlannedTargetCycleTime"},{HeaderName:this.localeAppResourcesService.getResource("PCHCostAlertFlag"),field:"costAlert"},{HeaderName:this.localeAppResourcesService.getResource("PCHPFSI"),field:"DPFSI"},{HeaderName:this.localeAppResourcesService.getResource("PCHPLSI"),field:"DPLSI"},{HeaderName:this.localeAppResourcesService.getResource("PCHTFSI"),field:"DTFSI"},{HeaderName:this.localeAppResourcesService.getResource("PCHPFSItoTFSIDiff"),field:"PFSITFSIDiff"},{HeaderName:this.localeAppResourcesService.getResource("PCHPFSR"),field:"DPFSR"},{HeaderName:this.localeAppResourcesService.getResource("PCHPLSR"),field:"DPLSR"},{HeaderName:this.localeAppResourcesService.getResource("PCHTLSR"),field:"DTLSR"},{HeaderName:this.localeAppResourcesService.getResource("PCHPLSRtoTLSRDiff"),field:"PLSRTLSRDiff"},{HeaderName:this.localeAppResourcesService.getResource("PCHModifiedBy"),field:"lastModifiedbyUser"},{HeaderName:this.localeAppResourcesService.getResource("PCHModifiedDate"),field:"diffTodayModifedDate"}]},e.prototype.setDataForExport=function(e){this.pceService.exportData(e)},e.prototype.calculateWeekDiff=function(e,t){if(" "===e&&" "===t)return c.M;var l=a.c.dayDiff(e,t)/7;return l?l.toFixed(1)+" "+c.vc:c.M},e.prototype.getStudyDetails=function(){var e=this,t=this.getStudyId();t&&this.studySummaryService.getStudyName(t).subscribe((function(t){e.studyDetailObj.studyId=t.id,e.studyDetailObj.studyName=t.name,e.studyDetailObj.studyRefreshDate=t.studyRefreshDate,e.plansService.studyDetailData=t}))},Object.defineProperty(e.prototype,"headerResource",{get:function(){return this.pceHeaderResourceService.PCEHeaderResource},enumerable:!0,configurable:!0}),e.prototype.planCardHeaderData=function(){var e,t=this.userDataService.getUserName(),l=this.headerResource;return(e={})[l.userName]=t,e[l.date]=this.datePipe.transform(Date.now(),"dd-MMM-yyyy"),e[l.tabName]="New Plans",e[l.studyId]=this.studyDetailObj.studyId,e[l.studyName]=this.studyDetailObj.studyName,e[l.lastSourceDataUpdate]=this.datePipe.transform(this.studyDetailObj.studyRefreshDate,"dd-MMM-yyyy"),e},e.prototype.getStudyRefreshDate=function(e){return this.studySummaryService.getStudyRefreshDate(e)},e.prototype.getPreferencesByCategory=function(e){var t=null,l=this.userDataService.getUserPreferences();return l&&l.length>0&&(t=l.find((function(t){return t.category===e}))||null),t},e.prototype.getUserData=function(){var e=this;return this.userDataService.getUserData(u.bb).pipe(Object(s.a)((function(t){if(t)return e.getPreferencesByCategory("PreferenceGridColumns")})))},e.prototype.getUserPrivilege=function(e){return this.userDataService.checkModulePrivilege(e)},e.prototype.updatePreferencesByCategory=function(e,t){var l={};l[e.category]=e[e.category];var n={userPreference:{params:{appType:e.appType,category:e.category},value:JSON.stringify(l)}},o=u.m.getModuleInfo(),r=this.payloadCommandService.getCommandDetails("updateUserPreference",null,null,n,o),i={};return t||((t=i).dependencyList=[a.l.UserDataKey]),this.baseConnectionService.sendRequest(r,i).pipe(Object(s.a)((function(e){return e||null})))},e.prototype.setStudyKey=function(e){this.studyKey=e},e.prototype.getStudyId=function(){return this.studyKey},e.prototype.updateUsageMetrics=function(e){this.userDataService.updateUsageMetrics(e).subscribe()},e.prototype.getPlansHeaderResource=function(){return{planName:this.localeAppResourcesService.getResource("PMPPlanName"),options:this.localeAppResourcesService.getResource("PMPOptions"),planType:this.localeAppResourcesService.getResource("PMPPlanType"),planDesign:this.localeAppResourcesService.getResource("planDesign"),cohorts:this.localeAppResourcesService.getResource("cohortCount"),NonCohortPlan:this.localeAppResourcesService.getResource("NonCohortPlan"),CohortPlan:this.localeAppResourcesService.getResource("CohortPlan"),randomizationTarget:this.localeAppResourcesService.getResource("PMPRandomizationTarget"),TFSI:this.localeAppResourcesService.getResource("PMPTargetFSI"),TLSS:this.localeAppResourcesService.getResource("PMPTargetLSS"),TLSR:this.localeAppResourcesService.getResource("PMPTargetLSR"),cycleTimeTFSITLSR:this.localeAppResourcesService.getResource("PMPCycleTimeTFSItoTLSR"),screeningPeriod:this.localeAppResourcesService.getResource("PMPTScreeningPeriod"),approvalStatus:this.localeAppResourcesService.getResource("PMPPlanStatus"),plannedRandomiztion:this.localeAppResourcesService.getResource("PMPRand"),plannedScreening:this.localeAppResourcesService.getResource("PMPScreen"),plannedSites:this.localeAppResourcesService.getResource("PMPSites"),plannedCountries:this.localeAppResourcesService.getResource("PMPCountries"),plannedFSI:this.localeAppResourcesService.getResource("PMPPFSI"),planned25Site:this.localeAppResourcesService.getResource("PMP25Site"),planned50Site:this.localeAppResourcesService.getResource("PMP50Site"),planned90Site:this.localeAppResourcesService.getResource("PMP90Site"),siteActivelyScreening:this.localeAppResourcesService.getResource("PMPActiveSites"),SR:this.localeAppResourcesService.getResource("PMPSR"),SF:this.localeAppResourcesService.getResource("PMPSFRPerc"),RR:this.localeAppResourcesService.getResource("PMPReqRate"),PLSS:this.localeAppResourcesService.getResource("PMPLSS"),PLSR:this.localeAppResourcesService.getResource("PMPLSR"),cycleTimePFSIPLSR:this.localeAppResourcesService.getResource("PMPCycleTimePFSItoPLSR"),modifiedBy:this.localeAppResourcesService.getResource("PMPModifiedby"),modifiedDate:this.localeAppResourcesService.getResource("PMPModifiedDate"),costAlert:this.localeAppResourcesService.getResource("PMPCostAlert"),PLANGRID_RT:this.localeAppResourcesService.getResource("PLANGRID_RT"),PLANGRID_TFSI:this.localeAppResourcesService.getResource("PLANGRID_TFSI"),PLANGRID_TLSS:this.localeAppResourcesService.getResource("PLANGRID_TLSS"),PLANGRID_TLSR:this.localeAppResourcesService.getResource("PLANGRID_TLSR"),PLANGRID_TCT:this.localeAppResourcesService.getResource("PLANGRID_TCT"),PLANGRID_SP:this.localeAppResourcesService.getResource("PLANGRID_SP"),PLANGRID_APPROVAL:this.localeAppResourcesService.getResource("PLANGRID_APPROVAL"),PLANGRID_PL_RANDOMIZATION:this.localeAppResourcesService.getResource("PLANGRID_PL_RANDOMIZATION"),PLANGRID_PL_SCREENING:this.localeAppResourcesService.getResource("PLANGRID_PL_SCREENING"),PLANGRID_PL_SITES:this.localeAppResourcesService.getResource("PLANGRID_PL_SITES"),PLANGRID_PL_COUNTRIES:this.localeAppResourcesService.getResource("PLANGRID_PL_COUNTRIES"),PLANGRID_PFSI:this.localeAppResourcesService.getResource("PLANGRID_PFSI"),PLANGRID_25SI:this.localeAppResourcesService.getResource("PLANGRID_25SI"),PLANGRID_50SI:this.localeAppResourcesService.getResource("PLANGRID_50SI"),PLANGRID_90SI:this.localeAppResourcesService.getResource("PLANGRID_90SI"),PLANGRID_SAS:this.localeAppResourcesService.getResource("PLANGRID_SAS"),PLANGRID_SR:this.localeAppResourcesService.getResource("PLANGRID_SR"),PLANGRID_SF:this.localeAppResourcesService.getResource("PLANGRID_SF"),PLANGRID_RR:this.localeAppResourcesService.getResource("PLANGRID_RR"),PLANGRID_PLSS:this.localeAppResourcesService.getResource("PLANGRID_PLSS"),PLANGRID_PLSR:this.localeAppResourcesService.getResource("PLANGRID_PLSR"),PLANGRID_PCT:this.localeAppResourcesService.getResource("PLANGRID_PCT"),PLANGRID_MODIFIEDBY:this.localeAppResourcesService.getResource("PLANGRID_MODIFIEDBY"),PLANGRID_MODIFIEDDATE:this.localeAppResourcesService.getResource("PLANGRID_MODIFIEDDATE"),totalCost:this.localeAppResourcesService.getResource("PMPTotalCost"),scrCost:this.localeAppResourcesService.getResource("PMPScrCost"),trCost:this.localeAppResourcesService.getResource("PMPTrCost"),ctrCost:this.localeAppResourcesService.getResource("PMPCountryCost"),siCost:this.localeAppResourcesService.getResource("PMPSiteInitCost"),createPlan:this.localeAppResourcesService.getResource("createPlan"),createPlanLabel:this.localeAppResourcesService.getResource("createPlanLabel"),SelectPlanType:this.localeAppResourcesService.getResource("SelectPlanType")}},e.prototype.dateFormatter=function(e){return e?this.datePipe.transform(e,"dd")+"-"+this.datePipe.transform(e,"MMM")+"-"+this.datePipe.transform(e,"yyyy"):c.M},e.prototype.getPlannedSlot=function(e,t,l){var n,o;return e&&e.percentCenterInitInfo&&e.percentCenterInitInfo.centerInitSlot&&(n=e.percentCenterInitInfo.centerInitSlot.find((function(e){return e.slotNum===t})))&&n.slotPlannedDate&&(o=n.slotPlannedDate),l?o?this.dateFormatter(o):c.M:o?new Date(o):c.M},e.prototype.setVisibleColumnsofGrid=function(e){this.columnsHeader=e},e.prototype.getPlanType=function(){return!!(this.appDataService&&this.appDataService.appDataResponse&&this.appDataService.appDataResponse.appMetadata&&this.appDataService.appDataResponse.appMetadata.isPlanTypeEnable)&&this.appDataService.appDataResponse.appMetadata.isPlanTypeEnable},e.prototype.setSelecteVal=function(e){this.selectedVal=e?"sortedByOther"!==e.value?e.value:this.selectedVal:"",this.selectedOrder=e?e.order:"desc"},e.prototype.getCohortsData=function(e,t){return this.studySummaryService.getCohortsData(e,t)},e.prototype.getCohortsSourceData=function(e){return this.studySummaryService.getCohortsSourceData(e)},e.prototype.deleteCohort=function(e,t,l){return this.studySummaryService.saveDeleteCohort(e,t,l)},e.prototype.saveCohorts=function(e,t,l){return this.studySummaryService.saveDeleteCohort(e,t,l)},e}()},hl1b:function(e,t,l){"use strict";l.d(t,"a",(function(){return s}));var n=l("D57K"),o=l("6nV5"),a=l("5IsW"),r=l("b9Vd"),i=l("LoAr"),s=function(){function e(){}return e.prototype.customValidator=function(e,t,l){if(this.prop=t,l&&this.planFormVal){if(l===a.Rb.FPA)return this.validateFPA(e);if(l===a.Rb.FSI)return this.validateFSI(e);if(l===a.Rb.ENROLLEMENTTARGET)return this.validateEnrollmentTarget(e);if(l===a.Rb.LSS)return this.validateLSS(e);if(l===a.Rb.LSR)return this.validateLSR(e);if(l===a.Rb.NEWFSI)return this.validateNewFSI(e);if(l===a.Rb.SCREENINGPERIOD)return this.validateScreeningPeriod(e)}return null},e.prototype.customRAValidators=function(e,t,l){return"STARTDATE"===t?this.validateStartDate(e,l):"ENDDATE"===t?this.validateEndDate(e,l):void 0},Object.defineProperty(e.prototype,"planFormVal",{get:function(){if(this.prop.planForm&&this.prop.planForm.value){var e=Object.assign({},this.prop.planForm.getRawValue());return this.prop.planSaveType===r.a.ADJUSTEMENT&&(e.parentPlanKey=this.prop.planProperty.planKey),this.prop.planSaveType!==r.a.UPDATEADJUSTMENT&&this.prop.planSaveType!==r.a.UPDATEBASE||(e.version=this.prop.planProperty.version,e.planKey=this.prop.planProperty.planKey),e}},enumerable:!0,configurable:!0}),e.prototype.validateFPA=function(e){var t=e.value;if(t&&this.planFormVal.FSI&&!1===o.c.dateCompare(t,this.planFormVal.FSI))return{NGFpaLesser:!0}},e.prototype.validateFSI=function(e){var t,l,i=e.value;if(null===i||i===a.M)return{required:!0};if(this.planFormVal.LSS&&!1===o.c.dateCompare(i,this.planFormVal.LSS))return{NGFsiLesser:!0};if(this.prop&&(this.prop.planSaveType===r.a.CREATE||this.prop.planSaveType===r.a.UPDATEBASE)&&this.prop.studyPlanApproval&&this.prop.studySource&&this.prop.studySource.sourceTarget&&null!==this.prop.studySource.sourceTarget.FSI&&!1===o.c.dateCompare(this.prop.studySource.sourceTarget.FSI,i))return{NGSourceFSIGreater:!0};if(this.prop&&(this.prop.planSaveType===r.a.ADJUSTEMENT||this.prop.planSaveType===r.a.UPDATEADJUSTMENT)&&this.prop.adjustPlanApproval&&null!==this.prop.studySource.sourceTarget.FSI&&!1===o.c.dateCompare(this.prop.studySource.sourceTarget.FSI,i))return{NGSourceFSIGreater:!0};if(this.prop&&this.prop.geoList&&this.prop.geoList.geography){var s=this.prop.geoList.geography.filter((function(e){return"WW"!==e.geographyLevel}));this.prop&&this.prop.isCohortPlan&&"Y"===this.prop.isCohortPlan&&(s=s.filter((function(e){return void 0!==e.isCohortCountry&&!1===e.isCohortCountry})));try{for(var u=n.__values(s),c=u.next();!c.done;c=u.next()){var d=c.value;if(d.planParamsDetails&&d.planParamsDetails.FSI&&null!=i&&!1===o.c.dateCompare(i,d.planParamsDetails.FSI))return{CNPFSIWarningMsg:!0}}}catch(p){t={error:p}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(t)throw t.error}}}},e.prototype.validateEnrollmentTarget=function(e){if(null===e.value||e.value===a.M)return{required:!0};if(void 0!==e.value){if(e.value<a.Bb.MIN)return{minNumExceedError:!0};if(e.value>a.Bb.MAX)return{maxNumExceedError:!0}}},e.prototype.validateLSS=function(e){var t=e.value;if(t){if(null===this.planFormVal.LSR||this.planFormVal.LSR===a.M)return{CNPTLSRBlank:!0};if(this.planFormVal.LSR){if(this.planFormVal.screeningPeriod&&"N"===this.prop.isCohortPlan){var l=o.c.dateSubstract(this.planFormVal.LSR,this.planFormVal.screeningPeriod);if(l=o.c.dateFormatter(l),!1===o.c.dateCompare(this.planFormVal.LSS,l))return{NGLssGreater:!0};if(o.c.dateDiff(l,this.planFormVal.LSS,"d")<0)return{NGLssLesser:!0}}if(!1===o.c.dateCompare(t,this.planFormVal.LSR))return"N"===this.prop.isCohortPlan?{NGLssGreater:!0}:{NGLssGreaterCohort:!0}}if(this.planFormVal.FSI&&!1===o.c.dateCompare(this.planFormVal.FSI,t))return{NGFsiLesser:!0}}else if(!(this.prop.planSaveType!==r.a.ADJUSTEMENT&&this.prop.planSaveType!==r.a.UPDATEADJUSTMENT||null!==t&&t!==a.M))return{required:!0}},e.prototype.validateLSR=function(e){var t=e.value;if(t){if(null===this.planFormVal.LSS||this.planFormVal.LSS===a.M)return{CNPTLSSBlank:!0};if(this.planFormVal.LSS&&!1===o.c.dateCompare(this.planFormVal.LSS,t))return"N"===this.prop.isCohortPlan?{NGLsrGreater:!0}:{NGLsrLesserCohort:!0};if(this.prop&&(this.prop.planSaveType===r.a.CREATE||this.prop.planSaveType===r.a.UPDATEBASE)&&this.prop.studyPlanApproval&&null!==this.prop.studySource.sourceTarget.LSR&&!1===o.c.dateCompare(t,this.prop.studySource.sourceTarget.LSR))return{NGSourceLSRLesser:!0};if(this.prop&&(this.prop.planSaveType===r.a.CREATE||this.prop.planSaveType===r.a.UPDATEBASE)&&this.prop.adjustPlanApproval&&null!==this.prop.studySource.sourceTarget.LSR&&!1===o.c.dateCompare(t,this.prop.studySource.sourceTarget.LSR))return{NGSourceLSRLesser:!0}}else if(!(this.prop.planSaveType!==r.a.ADJUSTEMENT&&this.prop.planSaveType!==r.a.UPDATEADJUSTMENT||null!==t&&t!==a.M))return{required:!0}},e.prototype.validateNewFSI=function(e){var t=e.value;if(t&&this.planFormVal.FPA&&!1===o.c.dateCompare(this.planFormVal.FPA,t))return{NGFPAGreater:!0}},e.prototype.validateScreeningPeriod=function(e){return null===e.value||e.value===a.M?{required:!0}:void 0!==e.value&&e.value>a.Bb.MAX?{maxNumExceedErrorScreening:!0}:void 0},e.prototype.validateStartDate=function(e,t){if(null===e.value||e.value===a.M)return{required:!0};if(void 0!==e.value){if(!1===o.c.dateCompare(e.value,t))return{startLesser:!0};if(null!=e.parent.controls.endDate.value&&e.value>e.parent.controls.endDate.value)return{startGreaterEnd:!0}}},e.prototype.validateEndDate=function(e,t){if(null===e.value||e.value===a.M)return{required:!0};if(void 0!==e.value){if(!1===o.c.dateCompare(t,e.value))return{endDateGreater:!0};if(null!=e.parent.controls.startDate.value&&e.value<e.parent.controls.startDate.value)return{endDateGreaterStart:!0}}},e.prototype.validateRecuringStartDate=function(e,t){if(new Array,null===e.value||e.value===a.M)return{required:!0};if(void 0!==e.value){if(!1===this.recurringDateCompare(e.value,t))return{reccurringStartLesser:!0};if(null!=t&&e.value>t)return{reccurringstartLesser:!0}}},e.prototype.validateRecuringEndDate=function(e,t){if(null===e.value||e.value===a.M)return{required:!0};if(void 0!==e.value){if(!1===this.recurringDateCompare(t,e.value))return{recurringEndGreater:!0};if(null!=e.parent.controls.startDate.value&&e.value<e.parent.controls.startDate.value)return{recurringEndGreater:!0}}},e.prototype.customRecurringValidators=function(e,t,l){return"RECURRINGSTARTDATE"===t?this.validateRecuringStartDate(e,l):"RECURRINGENDDATE"===t?this.validateRecuringEndDate(e,l):void 0},e.prototype.recurringDateCompare=function(e,t){return!(e>t)&&(e<t||e===t||void 0)},e.prototype.isValidDateFormat=function(e,t){return!1!==o.c.isValidDate(t)||(e.setErrors({DateFormatIncorrect:!0}),!1)},e.prototype.validateFormField=function(e){var t=this.prop.planForm.get(e);this.customValidator(t,this.prop,e),t.markAsTouched({onlySelf:!0}),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1})},e.ngInjectableDef=i["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e}()},iEqU:function(e,t,l){"use strict";l.d(t,"a",(function(){return r}));var n=l("D57K"),o=(l("XllP"),l("5IsW")),a=l("uMZP"),r=function(){function e(e){this.userDataService=e}return e.prototype.getModulePrivilege=function(e){return this.userDataService.getUserPrivilegesForModule(e)},e.prototype.getPrivileges=function(){var e=this.getModulePrivilege(a.F.MODULE_PLANNING);if(e){var t=this.hasApprovePlanAccess(e),l=this.hasEditPlanAccess(e),n=this.hasHASuperUserAccess(e);return!!(t||l||n)}},e.prototype.hasApprovePlanAccess=function(e){var t,l;try{for(var a=n.__values(e),r=a.next();!r.done;r=a.next())if(r.value.name===o.h)return!0}catch(i){t={error:i}}finally{try{r&&!r.done&&(l=a.return)&&l.call(a)}finally{if(t)throw t.error}}return!1},e.prototype.hasEditPlanAccess=function(e){var t,l;try{for(var a=n.__values(e),r=a.next();!r.done;r=a.next())if(r.value.name===o.L)return!0}catch(i){t={error:i}}finally{try{r&&!r.done&&(l=a.return)&&l.call(a)}finally{if(t)throw t.error}}return!1},e.prototype.hasViewPlanAccess=function(e){var t,l;try{for(var a=n.__values(e),r=a.next();!r.done;r=a.next())if(r.value.name===o.tc)return!0}catch(i){t={error:i}}finally{try{r&&!r.done&&(l=a.return)&&l.call(a)}finally{if(t)throw t.error}}return!1},e.prototype.hasHASuperUserAccess=function(e){var t,l;try{for(var a=n.__values(e),r=a.next();!r.done;r=a.next())if(r.value.name===o.gb)return!0}catch(i){t={error:i}}finally{try{r&&!r.done&&(l=a.return)&&l.call(a)}finally{if(t)throw t.error}}return!1},e}()},vV4x:function(e,t,l){"use strict";l.d(t,"a",(function(){return i}));var n=l("D57K"),o=l("1iVT"),a=l("IE7m"),r=l("gX7u"),i=function(){function e(){}return e.prototype.getSortOptions=function(e){var t,l=JSON.parse(JSON.stringify(a.i));return e?(t=l.filter((function(e){return"sortedByOther"!==e.value})),l.find((function(t){return t.value===e}))||t.push({text:"other",value:"sortedByOther"})):t=l,t},e.prototype.sortByProperty=function(e,t,l){if(e&&0!==e.length&&t)return e.sort((function(e,n){var a=e[t],r=n[t];return"string"==typeof a&&"string"==typeof r&&(a=a.toLowerCase(),r=r.toLowerCase()),l===o.b.SORT_ORDER_DESC?r<a||""===r?-1:r>a||""===a?1:0:a<r||""===a?-1:a>r||""===r?1:0}))},e.prototype.getSegregatePlans=function(e){if(e&&0!==e.length){var t=[],l=[],o=[];e.forEach((function(e){e.planStatus===r.a.APPROVED?t.push(e):e.planStatus===r.a.PREVAPPROVED?l.push(e):o.push(e)}));var a=new Array;return a.push.apply(a,n.__spread(t)),a.push.apply(a,n.__spread(l)),a.push.apply(a,n.__spread(o)),a}},e.prototype.getSortedPlans=function(e,t,l){var n=this;if(e&&t&&l){var o=a.b.filter((function(e){return e.key===t})).length>0?a.b.find((function(e){return e.key===t})).value:t;return t=o,new Array,new Array,e.forEach((function(e){e.adjustmentPlan=n.sortAdjustmentPlan(e,t,l)})),this.sortByProperty(e,t,l)||[]}},e.prototype.sortAdjustmentPlan=function(e,t,l){if(e&&t&&l){var n,o=Object.assign({},e);return o.adjustementCount>1&&(n=this.sortByProperty(o.adjustmentPlan,t,l)||[],o.adjustmentPlan=n),o.adjustmentPlan}},e}()},zXGZ:function(e,t,l){"use strict";l.d(t,"a",(function(){return i}));var n=l("gntc"),o=l("5IsW"),a=l("LoAr"),r=l("6nV5"),i=function(){function e(e,t){this.managePlansService=e,this.localeAppResourcesService=t}return e.prototype.getCohortsDataList=function(e,t){return this.managePlansService.getCohortsData(e,t)},e.prototype.getCohortsSourceIDList=function(e){return this.managePlansService.getCohortsSourceData(e)},e.prototype.saveCohortData=function(e,t,l){return this.managePlansService.saveCohorts(e,t,l)},e.prototype.getManageCohortLabels=function(){return{MANAGE_COHORT:this.localeAppResourcesService.getResource("MANAGE_COHORT"),PLAN_DESIGN:this.localeAppResourcesService.getResource("planDesign"),COHORT_COUNT:this.localeAppResourcesService.getResource("cohortCount"),COHORT_IMAGE:o.kb.COHORT_IMG,MAX_COHORT_NAME:o.sc.MAX_COHORT_NAME,MAX_COHORT_DESCRIPTION:o.sc.MAX_COHORT_DESCRIPTION,DELETE_COHORT_LABEL:this.localeAppResourcesService.getResource("DELETE_COHORT_LABEL"),DELETE_COHORT_CONFIRM:this.localeAppResourcesService.getResource("CohDelMsg"),DELETE_COHORT_ERROR:this.localeAppResourcesService.getResource("DELETE_COHORT_ERROR"),DELETE_COHORT_USED_IN_PLAN:this.localeAppResourcesService.getResource("CohUsedInPlanDelMsg"),DELETE_COHORT_APPROVED_PLAN:this.localeAppResourcesService.getResource("DELETE_COHORT_APPROVED_PLAN"),COHORT_AVAILABLE:this.localeAppResourcesService.getResource("CohortAvailbleLbl"),COHORT_NAME_HEADER:this.localeAppResourcesService.getResource("CohNameHeaderShort"),COHORT_Randomization:this.localeAppResourcesService.getResource("CohTypeR"),COHORT_Screening:this.localeAppResourcesService.getResource("CohTypeS"),ADD_COHORT_LABEL:this.localeAppResourcesService.getResource("AddCohortLinkLbl"),COHORT_DESC_HEADER:this.localeAppResourcesService.getResource("CohDescripHeader"),CANCEL:this.localeAppResourcesService.getResource("CANCEL"),OK:this.localeAppResourcesService.getResource("OK"),NEW_COHORT_NAME:this.localeAppResourcesService.getResource("NEW_COHORT_NAME"),COHORT_ID_HEADER:this.localeAppResourcesService.getResource("CohIdHeader")}},e.ngInjectableDef=a["ɵɵdefineInjectable"]({factory:function(){return new e(a["ɵɵinject"](n.a),a["ɵɵinject"](r.M))},token:e,providedIn:"root"}),e}()}}]);