(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+Ve9":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(e){return e.CHECKBOX="checkBox",e.PLAN_STATUS="planParamsDetails.planStatus.value",e.GEOGRAPHY_NAME="geographyName",e.COUNTRY_OPTION_ID="countryOptionId",e.GEOGRAPHY_REGION_NAME="geographyRegionName",e.IS_COHORT_EXCLUDED="isCohortExcluded",e.COHORT_NAME="cohortName",e.RT="planParamsDetails.enrollmentTarget",e.ARTB="planParamsDetails.ARTB",e.PLSR="planParamsDetails.PLSR",e.OE="planParamsDetails.overRecruitmentPercent",e.SR="planParamsDetails.SR",e.RR="planParamsDetails.RR",e.SFR="planParamsDetails.SFR",e.FPA="planParamsDetails.FPA",e.DAYS_TO_FSI="planParamsDetails.daysToFSI",e.FSI="planParamsDetails.FSI",e.DAYS_TO_FSS="planParamsDetails.daysToFSS",e.FSS="planParamsDetails.FSS",e.NUM_SITES="planParamsDetails.numSites",e.RE_DIST_SITES="planParamsDetails.redistSites",e.SAS="planParamsDetails.ARC",e.SI="planParamsDetails.siteInitiation",e.SITE_COMP_ID="planParamsDetails.algorithmSiteCompId",e.DAYS_TO_25="planParamsDetails.daysTo25",e.DAYS_TO_50="planParamsDetails.daysTo50",e.DAYS_TO_90="planParamsDetails.daysTo90",e.PROJECTED_RR="planParamsDetails.countryCalcQuantity.effectiveRR",e.PROJECTED_SR="planParamsDetails.countryCalcQuantity.effectiveSR",e.PROJECTED_SFR="planParamsDetails.countryCalcQuantity.effectiveSFR",e.PROJECTED_SAS="planParamsDetails.countryCalcQuantity.effectiveSAS",e.SCREENING_TARGET="planParamsDetails.screeningTarget",e.FIRST_SUBJECT_RANDOMIZED="planParamsDetails.PFSR",e.PLSS="planParamsDetails.PLSS",e.CALC_SAS="planParamsDetails.CalcSAS",e}({})},"+vxY":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var l=n("uMZP"),r=n("6nV5"),a=n("5IsW"),o=n("3hp2"),i=n("Jg5f"),s=function(){function e(e,t,n,l,r,a,o){this.payloadCommandService=e,this.baseConnectionService=t,this.resourceService=n,this.errorTermsService=l,this.dialog=r,this.snackBar=a,this.route=o}return e.prototype.updatePlan=function(e){if(e)return this.save(e)},e.prototype.confirmationDialog=function(e){this.dialog.open(r.t,{width:a.F.CONFIRM_DIALOG_IH.WIDTH,height:a.F.CONFIRM_DIALOG_IH.HEIGHT,data:e,panelClass:a.F.PLAN_OUTDATED.PANEL_CLASS})},e.prototype.getResouces=function(){return{okLabel:this.resourceService.getResource("OK"),cancelLabel:this.resourceService.getResource("Cancel"),randTargetConfirmTitle:this.getErrorMessage("RandTargetConfirmTitle"),randTargetConfirmMsg:this.getErrorMessage("RandTargetConfirmMsg"),countryPlanParamsSavedMsg:this.resourceService.getResource("CountryPlanParamsSavedMsg")}},e.prototype.getErrorMessage=function(e){return this.errorTermsService.getErrorMessage(e)},e.prototype.save=function(e){var t=this;if(e){var n=this.getParams(e);if(e&&e.studyKey){var s=this.getCommandName(e.isPlan),u={},c="";e.hasOwnProperty(o.a.singleCountry)?(u=this.getCommandTags(e.isPlan,e.singleCountry,o.b.single,e.commandParam),c=a.Xb.updateCountryDCPView):(u=this.getCommandTags(e.isPlan,e.multiCountry,o.b.multiple),c=a.Xb.updateCountryMCEView);var d=l.m.getModuleInfo(c,e.studyKey),p=this.payloadCommandService.getCommandDetails(s,n,null,u,d);console.log(p.xmlRequest);var h={};return h.dependencyList=[r.l.GetPlanDetails+"_"+e.studyKey+"_"+e.planKey,r.l.GetPlanListKey+"_"+e.studyKey],this.baseConnectionService.sendRequest(p,h).pipe(Object(i.a)((function(n){if(n)return n.result&&n.result.toString().toLowerCase()===a.Yb.Okay.toString().toLowerCase()?e.hasOwnProperty(o.a.singleCountry)?(t.showSuccessMessage(),a.Yb.Okay):n:e.hasOwnProperty(o.a.singleCountry)?(n.error.errorCode!==a.bb?t.showErrorMessage(n):t.navigateToManagePlan(n.error.errorCode),a.Yb.Errors):(n.error.errorCode!==a.bb&&t.showErrorMessage(n),n)})))}throw new Error("Invalid update params")}},e.prototype.showSuccessMessage=function(){var e=this.getResouces().countryPlanParamsSavedMsg;this.snackBar.openFromComponent(r.z,{data:{message:e,icon:a.jb,messageType:a.zb},panelClass:[a.ec]})},e.prototype.showErrorMessage=function(e){if(r.c.isDefined(e)&&r.c.isDefined(e.error)){var t=e.error.errorCode,n=a.V.find((function(e){return e.toString()===t.toString()})),l=e.error.message,o=l.indexOf(":");if(l=l.substring(o+1),n){var i;i=t.toString()===a.Y.PLAN_OUTDATED?this.getInfoProp(a.U+t):a.Z[t.toString()]?this.getInfoProp(t,l):this.getInfoProp(a.T+t),this.confirmationDialog(i)}else{var s=this.getErrorMessage(t=a.T+t);s||(s=this.getErrorMessage(a.W)),this.snackBar.openFromComponent(r.z,{data:{message:s,icon:a.ib,messageType:a.yb},panelClass:[a.dc]})}}},e.prototype.getInfoProp=function(e,t){var n;if((21063===e||21064===e||21065===e)&&(n=a.ab[e],t!==a.M)){var r=t.indexOf(":"),o=t.substring(r+1);t=this.getErrorMessage(e).toString().replace("{0}",o)}return{heading:n||this.getErrorMessage("Info"),message:t||this.getErrorMessage(e),okLabel:this.resourceService.getResource(l.a.OkLabel),showCancel:!1}},e.prototype.getCommandTags=function(e,t,n,l){var r={},i=e?a.s:a.a;r[i]={value:[]};var s={params:{},value:{}};return n===o.b.single?(s.params=t,s.value=l,r[i].value.push(e?{countryPlanParams:s}:{adjustCountryPlanParams:s})):r=t,r},e.prototype.getCommandName=function(e){return e?a.p.UPDATE_COUNTRY_PLAN:a.p.UPDATE_ADJ_COUNTRY_PLAN},e.prototype.getParams=function(e){var t={};return t.studyKey=e.studyKey,!0===e.isPlan?t.planKey=e.planKey:t.adjustStudyPlanKey=e.planKey,t.version=e.version,t.updatePlanDetails=e.updatePlanDetails,t.isCohortPlan=e.isCohortPlan,e.isDepCohortPlan&&(t.isDepCohortPlan=e.isDepCohortPlan),t},e.prototype.navigateToManagePlan=function(e){if(e){var t,n=this;t=this.getInfoProp(a.U+e),this.informationDialog(t).afterClosed().subscribe((function(e){e&&e.action&&e.action===t.okLabel&&n.route.navigate(["/plans","manageplan"])}))}},e.prototype.informationDialog=function(e){return this.dialog.open(r.t,{width:a.F.CONFIRM_DIALOG_IH.WIDTH,height:a.F.CONFIRM_DIALOG_IH.HEIGHT,data:e,panelClass:a.F.PLAN_OUTDATED.PANEL_CLASS})},e}()},"+xO1":function(e,t,n){"use strict";var l=n("6nV5"),r=n("pN2L"),a=n("Jg5f"),o=n("AouM"),i=n("uMZP"),s=n("5IsW"),u=function(e){return e.StudySummaryId="StudySummaryId",e.StudySummaryPhase="StudySummaryPhase",e.StudySummaryTherapetuicArea="StudySummaryTherapetuicArea",e.StudySummaryIndication="StudySummaryIndication",e.StudySummaryRandomization="StudySummaryRandomization",e.StudySummaryFSI="StudySummaryFSI",e.StudySummaryLSS="StudySummaryLSS",e.StudySummaryLSR="StudySummaryLSR",e.StudySummaryCycleTime="StudySummaryCycleTime",e.StudySummaryScreeningPeriod="StudySummaryScreeningPeriod",e.StudySummaryCohort="StudySummaryCohort",e.StudyDesign="StudyDesign",e.ManageCohorts="ManageCohorts",e}({});n.d(t,"a",(function(){return c}));var c=function(){function e(e,t,n,l,r,a,o){this.userDataService=e,this.payloadCommandService=t,this.baseConnectionService=n,this.localeAppResourcesService=l,this.studyListService=r,this.studySearchFB=a,this.dp=o,this.studySummaryData={},this.sourceSummaryData={},this.searchListFormGroupName=this.studySearchFB.group({searchListControl:[""],filterListControl:[""]}),console.log("Study Summary service constructor called")}return Object.defineProperty(e.prototype,"cohortList",{get:function(){return this._allCohortList},set:function(e){this._allCohortList=e},enumerable:!0,configurable:!0}),e.prototype.getSourceSummary=function(e,t){var n=this,u=this;return u.getSourceSummaryDetails(e,t).pipe(Object(a.a)((function(t){return u.souceSummaryMap(t,e)})),Object(o.a)((function(o){if(o&&o.tag){if("true"===o.tag.cohortInd.toString()){n.cohortList=[];var c={commandName:s.p.ALLCOHORTLIST,param:{studyKey:e}},d=i.m.getModuleInfo("PLANCARD",e),p=u.payloadCommandService.getCommandDetails(c.commandName,c.param,null,null,d);return t||(t={}),t.cacheKey=l.l.getAllCohortList+"_"+c.param.studyKey,u.baseConnectionService.sendRequest(p,t).pipe(Object(a.a)((function(e){if(e&&e.cohortThumbnailList&&e.cohortThumbnailList.cohortThumbnail){var t=e.cohortThumbnailList.cohortThumbnail;if(Array.isArray(t)){n.cohortList=t;var l=t.filter((function(e){return e.cohortID!==s.pc}));o.cohort=l.length}else n.cohortList=[t],o.cohort=t.cohortID!==s.pc?s.nc:s.Hb}return o})))}return Object(r.a)(o)}return Object(r.a)(o)})))},e.prototype.getStudySummary=function(e,t){var n=this;return n.getStudySummaryDetails(e,t).pipe(Object(a.a)((function(t){return n.studySummaryMap(t,e)})),Object(o.a)((function(o){if(o&&o.tag){if("true"===o.tag.cohortInd.toString()){var u={commandName:s.p.SOURCECOHORTLIST,param:{studyKey:e}},c=i.m.getModuleInfo("PLANCARD",e),d=n.payloadCommandService.getCommandDetails(u.commandName,u.param,null,null,c);return t||(t={}),t.cacheKey=l.l.getSourceCohortList+"_"+u.param.studyKey,n.baseConnectionService.sendRequest(d,t).pipe(Object(a.a)((function(e){if(e&&e.cohortThumbnailList){var t=e.cohortThumbnailList.cohortThumbnail;if(Array.isArray(t)){var n=t.filter((function(e){return e.cohortID!==s.pc}));o.cohort=n.length}else o.cohort=t.cohortID!==s.pc?s.nc:s.Jb}return o})))}return Object(r.a)(o)}return Object(r.a)(o)})))},e.prototype.studySummaryMap=function(e,t){var n={};if(e&&e.studyThumbnail){if(n.id=e.studyThumbnail.id?e.studyThumbnail.id:s.Jb,n.phase=e.studyThumbnail.phase?e.studyThumbnail.phase:s.Jb,n.name=e.studyThumbnail.name?e.studyThumbnail.name:s.Jb,n.sdta=e.studyThumbnail.sdta?e.studyThumbnail.sdta:s.Jb,n.medicalCondition=e.studyThumbnail.medicalCondition?e.studyThumbnail.medicalCondition:s.Jb,n.targetEnrollment=e.studyThumbnail.targetEnrollment?e.studyThumbnail.targetEnrollment:s.Jb,n.screeningPeriod=e.studyThumbnail.screeningPeriod?e.studyThumbnail.screeningPeriod+" "+s.z:s.Jb,e.studyThumbnail.cohortList){var r=e.studyThumbnail.cohortList.cohortPlanParams;n.cohort=Array.isArray(r)?r.length:s.nc}else n.cohort=s.Jb;n.tag=this.studyListService.getStudyInfoByKey(t)}var a={};if(e&&e.studyMilestones&&e.studyMilestones.milestone&&(a=e.studyMilestones.milestone.find((function(e){return e.name===s.kc})))){var o=a;if(n.studySummaryMileStone={},n.studySummaryMileStone.FSI=o.FSI?this.dp.transform(o.FSI,"dd-MMM-yyy"):s.Jb,n.studySummaryMileStone.LSR=o.LSR?this.dp.transform(o.LSR,"dd-MMM-yyy"):s.Jb,n.studySummaryMileStone.LSS=o.LSS?this.dp.transform(o.LSS,"dd-MMM-yyy"):s.Jb,o.FSI&&o.LSR){var i=(l.c.dayDiff(o.FSI,o.LSR)+1)/7;n.studySummaryMileStone.cycleTime=i?i.toFixed(1)+" "+s.vc:s.Jb}else n.studySummaryMileStone.cycleTime=s.Jb}return n},e.prototype.souceSummaryMap=function(e,t){var n={};if(e)if(n.id=e.id?e.id:s.Jb,n.cohortIndicator=e.cohortIndicator?e.cohortIndicator:s.Jb,n.studyCohortType=e.studyCohortType?e.studyCohortType:s.Jb,n.sdesign=e.sdesign?e.sdesign:s.Jb,n.phase=e.phase?e.phase:s.Jb,n.name=e.name?e.name:s.Jb,n.sdta=e.sdta?e.sdta:s.Jb,n.medicalCondition=e.medicalCondition?e.medicalCondition:s.Jb,n.targetEnrollment=e.targetEnrollment?e.targetEnrollment:s.Jb,n.studySummaryMileStone={},n.studySummaryMileStone.FSI=e.FSI?this.dp.transform(e.FSI,"dd-MMM-yyy"):s.Jb,n.studySummaryMileStone.LSR=e.LSR?this.dp.transform(e.LSR,"dd-MMM-yyy"):s.Jb,n.studySummaryMileStone.LSS=e.LSS?this.dp.transform(e.LSS,"dd-MMM-yyy"):s.Jb,n.screeningPeriod=e.screeningPeriod?e.screeningPeriod+" "+s.z:s.Jb,e.FSI&&e.LSR){var r=(l.c.dayDiff(e.FSI,e.LSR)+1)/7;n.studySummaryMileStone.cycleTime=r?r.toFixed(1)+" "+s.vc:s.Jb}else n.studySummaryMileStone.cycleTime=s.Jb;return n.tag=this.studyListService.getStudyInfoByKey(t),n},e.prototype.getStudyRefreshDate=function(e,t){var n=this;return n.getStudySummaryDetails(e,t).pipe(Object(a.a)((function(e){return n.studyRefreshDateMap(e)})))},e.prototype.studyRefreshDateMap=function(e){var t="";return e&&e.studyThumbnail&&l.c.isDefined(e.studyThumbnail.studyRefreshDate,!1)&&(t=e.studyThumbnail.studyRefreshDate),t},e.prototype.getStudyName=function(e,t){var n=this;return n.getStudySummaryDetails(e,t).pipe(Object(a.a)((function(e){return n.studyNameMap(e)})))},e.prototype.studyNameMap=function(e){var t={id:"",name:"",studyRefreshDate:""};return e&&e.studyThumbnail&&(t.id=e.studyThumbnail.id?e.studyThumbnail.id:s.Jb,t.name=e.studyThumbnail.name?e.studyThumbnail.name:s.Jb),e&&e.studyThumbnail&&l.c.isDefined(e.studyThumbnail.studyRefreshDate,!1)&&(t.studyRefreshDate=e.studyThumbnail.studyRefreshDate),t},e.prototype.getStudySummaryDetails=function(e,t){var n=this,r={commandName:s.p.STUDYSUMMARY,param:{studyKey:e}},o=i.m.getModuleInfo("PLANCARD",e),u=this.payloadCommandService.getCommandDetails(r.commandName,r.param,null,null,o);return t||(t={}),t.cacheKey=l.l.GetStudySummary+"_"+r.param.studyKey,this.baseConnectionService.sendRequest(u,t).pipe(Object(a.a)((function(e){return n.studySummaryData=e,e.studySummary})))},e.prototype.getSourceSummaryDetails=function(e,t){var n=this,l={commandName:s.p.SOURCESUMMARY,param:{studyKey:e}},r=i.m.getModuleInfo("PLANCARD",e),o=this.payloadCommandService.getCommandDetails(l.commandName,l.param,null,null,r);return t||(t={}),t.cacheKey="GetSourceSummaryKey_"+l.param.studyKey,this.baseConnectionService.sendRequest(o,t).pipe(Object(a.a)((function(e){return n.sourceSummaryData=e,e.sourceSummary})))},e.prototype.getStudySummaryResources=function(){var e={};return e.StudySummaryCohort=this.localeAppResourcesService.getResource(u.StudySummaryCohort),e.StudyDesign=this.localeAppResourcesService.getResource(u.StudyDesign),e.StudySummaryCycleTime=this.localeAppResourcesService.getResource(u.StudySummaryCycleTime),e.StudySummaryFSI=this.localeAppResourcesService.getResource(u.StudySummaryFSI),e.StudySummaryId=this.localeAppResourcesService.getResource(u.StudySummaryId),e.StudySummaryIndication=this.localeAppResourcesService.getResource(u.StudySummaryIndication),e.StudySummaryLSR=this.localeAppResourcesService.getResource(u.StudySummaryLSR),e.StudySummaryLSS=this.localeAppResourcesService.getResource(u.StudySummaryLSS),e.StudySummaryPhase=this.localeAppResourcesService.getResource(u.StudySummaryPhase),e.ManageCohorts=this.localeAppResourcesService.getResource(u.ManageCohorts),e.StudySummaryRandomization=this.localeAppResourcesService.getResource(u.StudySummaryRandomization),e.StudySummaryTherapetuicArea=this.localeAppResourcesService.getResource(u.StudySummaryTherapetuicArea),e.StudySummaryScreeningPeriod=this.localeAppResourcesService.getResource(u.StudySummaryScreeningPeriod),e},e.prototype.getMilestones=function(e){if(!this.studySummaryData)return null;var t=this.studySummaryData;if(t&&t.studySummary&&t.studySummary.studyMilestones&&t.studySummary.studyMilestones.milestone){var n=t.studySummary.studyMilestones.milestone.find((function(t){return t.name===e}));if(n)return n}},e.prototype.getCohortsData=function(e,t,n){console.log("getCohortsData>>>");var l={commandName:s.p.ALLCOHORTLIST,param:{studyKey:e}},r=i.m.getModuleInfo("PLANCARD",e),o=this.payloadCommandService.getCommandDetails(l.commandName,l.param,null,null,r);return n||(n={}),this.baseConnectionService.sendRequest(o,n).pipe(Object(a.a)((function(e){return e})))},e.prototype.resetStudyList=function(){var e=this,t=(this.userDataService.getLastVisitedStudyKey(),this.searchListFormGroupName.get("searchListControl").value);t&&(this.searchListFormGroupName.get("searchListControl").setValue(s.M),setTimeout((function(){e.searchListFormGroupName.get("searchListControl").setValue(t.id),e.planApproved.next(t.id)}),1e3))},e.prototype.getCohortsSourceData=function(e,t){var n={commandName:s.p.SOURCECOHORTLIST,param:{studyKey:e}},l=i.m.getModuleInfo("PLANCARD",e),r=this.payloadCommandService.getCommandDetails(n.commandName,n.param,null,null,l);return t||(t={}),this.baseConnectionService.sendRequest(r,t).pipe(Object(a.a)((function(e){if(e&&e.cohortThumbnailList&&e.cohortThumbnailList.cohortThumbnail)return e.cohortThumbnailList.cohortThumbnail})))},e.prototype.saveDeleteCohort=function(e,t,n,l){var r={commandName:s.p.SAVECOHORTS,param:{studyKey:t,cohortReadinessTypeCode:""}},o=this.payloadCommandService.getCommandDetails(r.commandName,r.param,{},e,n);return l||(l={}),this.baseConnectionService.sendRequest(o,l).pipe(Object(a.a)((function(e){return e})))},e}()},"/DOc":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l={"approved-centerInit":"AppPSI","base-centerInit":"BasPSI","actual-centerInit":"ActSI","adjustment-centerInit":"AdjPSI","adj-centerInit updprojected":"UpdPrSI","projected-centerInit":"CurPrSI","base-centerInit updprojected":"UpdPrSI","frozen-centerInit":"FroPrSI","approved-screenings":"AppPSS","base-screenings":"BasPSS","actual-screenings":"ActSS","adjustment-screenings":"AdjPSS","projected-screenings projected":"CurPrSS","projected-screenings":"CurPrSS","base-screenings updprojected":"UpdPrSS","frozen-screenings":"FroPrSS","actual-screen_failures":"ActSF","projected-screenings extended projected":"CurExtPrSS","base-screenings extended updprojected":"UpdExtPrSS","adj-screenings updprojected":"UpdPrSS","adj-screenings extended updprojected":"UpdExtPrSS","approved-enrollments planned":"AppPSR","base-enrollments planned":"BasPSR","actual-enrollments":"ActPSR","adjustment-enrollments planned":"AdjPSR","projected-enrollments projected":"CurPrSR","base-enrollments updprojected":"UpdPrSR","adj-enrollments updprojected":"UpdPrSR","projected-enrollments extended projected":"CurExtPrSR","base-enrollments extended updprojected":"UpdExtPrSR","adj-enrollments extended updprojected":"UpdExtPrSR","frozen-enrollments":"FroPrSR","actual-dropouts":"ActDO","base-enrollments interim":"BasEP","adjustment-enrollments interim":"AdjEP","approved-enrollments interim":"AppEP","approved-enrollments lower conf bound":"CBAppPL","approved-enrollments upper conf bound":"CBAppPU","base-enrollments lower conf bound":"CBBasPL","base-enrollments upper conf bound":"CBBasPU","adjustment-enrollments lower conf bound":"CBAdjPL","adjustment-enrollments upper conf bound":"CBAdjPU","projected-enrollments prj lower conf bound":"CBCurPrL","projected-enrollments prj upper conf bound":"CBCurPrU","projected-enrollments extended prj lower conf bound":"CBCurExtPrL","projected-enrollments extended prj upper conf bound":"CBCurExtPrU"}},0:function(e,t){},1:function(e,t,n){e.exports=n("zUnb")},"1i3o":function(e,t,n){"use strict";n.d(t,"f",(function(){return z})),n.d(t,"q",(function(){return Q})),n.d(t,"d",(function(){return ee})),n.d(t,"o",(function(){return le})),n.d(t,"g",(function(){return re})),n.d(t,"r",(function(){return ue})),n.d(t,"b",(function(){return ce})),n.d(t,"m",(function(){return Le})),n.d(t,"a",(function(){return _e})),n.d(t,"c",(function(){return Ne})),n.d(t,"n",(function(){return Me})),n.d(t,"e",(function(){return je})),n.d(t,"p",(function(){return Ve})),n.d(t,"h",(function(){return Ke})),n.d(t,"s",(function(){return He})),n.d(t,"i",(function(){return Be})),n.d(t,"t",(function(){return qe})),n.d(t,"j",(function(){return We})),n.d(t,"u",(function(){return Je})),n.d(t,"k",(function(){return Xe})),n.d(t,"v",(function(){return tt})),n.d(t,"x",(function(){return at})),n.d(t,"y",(function(){return ut})),n.d(t,"l",(function(){return ct})),n.d(t,"w",(function(){return dt}));var l=n("LoAr"),r=n("uMZP"),a=(n("7tlY"),n("pLqg"),n("C9Ky"),n("tjWy"),n("UUMc"),n("EQPj")),o=(n("f8B5"),n("sS9F"),n("WT9V")),i=n("eXL1"),s=n("C7Lb"),u=n("5kg2"),c=n("6nV5"),d=n("s8WJ"),p=(n("y7gG"),n("SECt")),h=n("SeAg"),f=n("LYzL"),m=n("IfiR"),g=(n("D5nm"),n("0xYh")),y=n("WV+C"),v=(n("pnMH"),n("CRa1")),S=(n("O0P8"),n("7qGT"),n("981U")),R=n("ObLR"),C=n("lrIK"),b=n("8raB"),P=(n("abkR"),n("IvSS")),D=n("GcYS"),A=(n("rXXt"),n("6RHh"),n("X7Hn"),n("EAoM"),n("Ho7M")),E=(n("+3V+"),n("dgjn"),n("w9fW"),n("z1EI"),n("bdSb"),n("e5Hd"),n("Hfg7"),n("QIIz"),n("euho"),n("JpOG")),T=(n("tEO3"),n("u/zR"),n("Pp+3"),n("/mMU"),n("RtN7"),n("r5w+"),n("FJLO"),n("O+zZ"),n("PVko"),n("tp4h"),n("z9W5"),n("PhZK"),n("vlok"),n("l6BU"),n("OJVq"),n("QH8h")),I=n("QsvA"),L=n("Z5FQ"),O=n("rW4h"),_=n("2tfK"),N=n("Gien"),M=n("Iz1V"),w=n("vv3O"),x=n("or9w"),F=n("klTF"),k=n("8ZiC"),j=n("U3FA"),U=n("f3Fe"),V=(n("Kej7"),n("2hsQ")),K=n("psHg"),Y=n("ODuD"),G=n("0MxN"),H=n("HDDF"),B=n("yhaZ"),q=n("4Rco"),W=n("hiiC"),$=n("xi8z"),z=l["ɵcrt"]({encapsulation:2,styles:[""],data:{}});function J(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,9,":svg:g",[["class","site"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,0,":svg:line",[["class","line"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(e()(),l["ɵeld"](2,16777216,null,null,1,":svg:polygon",[["class","polygon1"]],[[1,"points",0],[1,"stroke",0],[1,"stroke-width",0],[1,"fill",0],[1,"d",0]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,3).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,3)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,3)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](3,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵeld"](4,0,null,null,1,":svg:text",[],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](5,null,["",""])),(e()(),l["ɵeld"](6,16777216,null,null,1,":svg:polygon",[["class","polygon2"]],[[1,"points",0],[1,"stroke",0],[1,"stroke-width",0],[1,"fill",0],[1,"d",0]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,7).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,7)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,7)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](7,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵeld"](8,0,null,null,1,":svg:text",[],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](9,null,["",""]))],(function(e,t){var n=t.component;e(t,3,0,n.getTooltipData(n.labels.PFSI,n.labels.PFSI_SHORT,n.diffFSI),"ctos-text-centered-tooltip"),e(t,7,0,n.getTooltipData(n.labels.PLSI,n.labels.PLSI_SHORT),"ctos-text-centered-tooltip")}),(function(e,t){var n=t.component;e(t,1,0,n.xPFSI,n.siteY,n.xPLSI,n.siteY),e(t,2,0,n.xPFSI+","+(n.siteY-6)+" "+(n.xPFSI-5)+","+(n.siteY-14)+" "+(n.xPFSI+5)+","+(n.siteY-14),n.aheadBehindDaysFSIColor,0,n.aheadBehindDaysFSIColor,n.labels.PFSI_LABEL+n.diffFSI),e(t,4,0,n.xPFSI-8,n.siteY-20),e(t,5,0,n.labels.PFSI_SHORT),e(t,6,0,n.xPLSI+","+(n.siteY-6)+" "+(n.xPLSI-5)+","+(n.siteY-14)+" "+(n.xPLSI+5)+","+(n.siteY-14),"black",1,"white",n.labels.PLSI_LABEL),e(t,8,0,n.xPLSI-8,n.siteY-20),e(t,9,0,n.labels.PLSI_SHORT)}))}function X(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,9,":svg:g",[["class","baseline"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,0,":svg:line",[["class","line"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(e()(),l["ɵeld"](2,16777216,null,null,1,":svg:circle",[["class","circle1"]],[[1,"cx",0],[1,"cy",0],[1,"r",0],[1,"d",0]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,3).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,3)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,3)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](3,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵeld"](4,0,null,null,1,":svg:text",[],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](5,null,["",""])),(e()(),l["ɵeld"](6,16777216,null,null,1,":svg:circle",[["class","circle2"]],[[1,"cx",0],[1,"cy",0],[1,"r",0],[1,"d",0]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,7).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,7)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,7)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](7,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵeld"](8,0,null,null,1,":svg:text",[],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](9,null,["",""]))],(function(e,t){var n=t.component;e(t,3,0,n.getTooltipData(n.labels.TFSI,n.labels.TFSI_SHORT),"ctos-text-centered-tooltip"),e(t,7,0,n.getTooltipData(n.labels.TLSR,n.labels.TLSR_SHORT),"ctos-text-centered-tooltip")}),(function(e,t){var n=t.component;e(t,1,0,n.xTFSI,n.position,n.xTLSR,n.position),e(t,2,0,n.xTFSI,n.position,5,n.labels.TFSI_LABEL),e(t,4,0,n.xTFSI-27,n.position+3),e(t,5,0,n.labels.TFSI_SHORT),e(t,6,0,n.xTLSR,n.position,5,n.labels.TLSR_LABEL),e(t,8,0,n.xTLSR+10,n.position+3),e(t,9,0,n.labels.TLSR_SHORT)}))}function Z(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,9,":svg:g",[["class","subjects"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,0,":svg:line",[["class","line"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,1,":svg:text",[],[[1,"x",0],[1,"y",0],[1,"stroke-width",0]],null,null,null,null)),(e()(),l["ɵted"](3,null,[" "," "])),(e()(),l["ɵeld"](4,16777216,null,null,1,":svg:polygon",[["class","polygon1"]],[[1,"points",0],[1,"stroke",0],[1,"stroke-width",0],[1,"fill",0],[1,"d",0]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,5).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,5)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,5)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](5,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵeld"](6,0,null,null,1,":svg:text",[],[[1,"x",0],[1,"y",0],[1,"stroke-width",0]],null,null,null,null)),(e()(),l["ɵted"](7,null,[" "," "])),(e()(),l["ɵeld"](8,16777216,null,null,1,":svg:polygon",[["class","polygon2"]],[[1,"points",0],[1,"stroke",0],[1,"stroke-width",0],[1,"fill",0],[1,"d",0]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,9).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,9)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,9)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](9,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.getTooltipData(n.labels.PFSR,n.labels.PFSR_SHORT),"ctos-text-centered-tooltip"),e(t,9,0,n.getTooltipData(n.labels.PLSR,n.labels.PLSR_SHORT,n.diffLSR),"ctos-text-centered-tooltip")}),(function(e,t){var n=t.component;e(t,1,0,n.xPFSR,n.subjectY,n.xPLSR,n.subjectY),e(t,2,0,n.xPFSR-10,n.subjectY+27,0),e(t,3,0,n.labels.PFSR_SHORT),e(t,4,0,n.xPFSR+","+(n.subjectY+6)+" "+(n.xPFSR-5)+","+(n.subjectY+14)+" "+(n.xPFSR+5)+","+(n.subjectY+14),"black",1,"white",n.labels.PFSR_LABEL),e(t,6,0,n.xPLSR-10,n.subjectY+27,0),e(t,7,0,n.labels.PLSR_SHORT),e(t,8,0,n.xPLSR+","+(n.subjectY+6)+" "+(n.xPLSR-5)+","+(n.subjectY+14)+" "+(n.xPLSR+5)+","+(n.subjectY+14),n.aheadBehindDaysLSRColor,0,n.aheadBehindDaysLSRColor,n.labels.PLSR_LABEL)}))}function Q(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,6,":svg:svg",[["class","outer"],["style","min-width:350px;width: 90%"]],[[8,"id",0]],[["window","resize"]],(function(e,t,n){var l=!0;return"window:resize"===t&&(l=!1!==e.component.onResize(n)&&l),l}),null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,J)),l["ɵdid"](2,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,X)),l["ɵdid"](4,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Z)),l["ɵdid"](6,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showPlannedSiteMilestones()),e(t,4,0,n.showBaseline()),e(t,6,0,n.showPlannedSubjectsMilestones())}),(function(e,t){e(t,0,0,l["ɵinlineInterpolate"](1,"",t.component.id,""))}))}var ee=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function te(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"span",[["class","ctos-drop-down-content"]],null,null,null,null,null)),(e()(),l["ɵted"](1,null,["",""," "]))],null,(function(e,t){var n=t.component;e(t,1,0,(null==n.config?null:n.config.resources.prefixLabel)+" ",n.config.selectedItem[n.config.keyField])}))}function ne(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,3,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"click"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,1).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,1)._handleTouchend()&&r),"click"===t&&(r=!1!==l["ɵnov"](e,2)._selectViaInteraction()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),r}),T.d,T.b)),l["ɵdid"](1,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{position:[0,"position"],message:[1,"message"]},null),l["ɵdid"](2,8568832,[[10,4]],0,f.p,[l.ElementRef,l.ChangeDetectorRef,[2,f.j],[2,f.o]],{value:[0,"value"]},null),(e()(),l["ɵted"](3,0,[" ",""])),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,n.config.tooltipPosition,t.context.$implicit[n.config.keyField]),e(t,2,0,t.context.$implicit)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,2)._getTabIndex(),l["ɵnov"](t,2).selected,l["ɵnov"](t,2).multiple,l["ɵnov"](t,2).active,l["ɵnov"](t,2).id,l["ɵnov"](t,2)._getAriaSelected(),l["ɵnov"](t,2).disabled.toString(),l["ɵnov"](t,2).disabled),e(t,3,0,t.context.$implicit[n.config.keyField])}))}function le(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,29,"mat-form-field",[["appearance","outline"],["class","ctos-so-dropdown mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,I.b,I.a)),l["ɵprd"](512,null,o["ɵNgClassImpl"],o["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](2,278528,null,0,o.NgClass,[o["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](3,{"create-plan":0}),l["ɵdid"](4,7520256,[["matSelect",4]],9,A.c,[l.ElementRef,l.ChangeDetectorRef,[2,f.h],[2,s.b],[2,A.a],y.a,l.NgZone,[2,L.a]],{appearance:[0,"appearance"]},null),l["ɵqud"](603979776,1,{_controlNonStatic:0}),l["ɵqud"](335544320,2,{_controlStatic:0}),l["ɵqud"](603979776,3,{_labelChildNonStatic:0}),l["ɵqud"](335544320,4,{_labelChildStatic:0}),l["ɵqud"](603979776,5,{_placeholderChild:0}),l["ɵqud"](603979776,6,{_errorChildren:1}),l["ɵqud"](603979776,7,{_hintChildren:1}),l["ɵqud"](603979776,8,{_prefixChildren:1}),l["ɵqud"](603979776,9,{_suffixChildren:1}),(e()(),l["ɵeld"](14,0,null,1,15,"mat-select",[["class","ctos-drop-down mat-select"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,t,n){var r=!0,a=e.component;return"keydown"===t&&(r=!1!==l["ɵnov"](e,19)._handleKeydown(n)&&r),"focus"===t&&(r=!1!==l["ɵnov"](e,19)._onFocus()&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,19)._onBlur()&&r),"selectionChange"===t&&(r=!1!==a.onSelect(n)&&r),"ngModelChange"===t&&(r=!1!==(a.config.selectedItem=n)&&r),r}),O.b,O.a)),l["ɵprd"](6144,null,f.j,null,[v.c]),l["ɵdid"](16,540672,null,0,m.i,[[8,null],[8,null],[8,null],[2,m.E]],{form:[0,"form"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,m.r,null,[m.i]),l["ɵdid"](18,16384,null,0,m.s,[[4,m.r]],null,null),l["ɵdid"](19,2080768,null,3,v.c,[P.d,l.ChangeDetectorRef,l.NgZone,f.b,l.ElementRef,[2,s.b],[2,m.u],[2,m.l],[2,A.c],[6,m.r],[8,null],v.a,g.j],{disabled:[0,"disabled"],panelClass:[1,"panelClass"],placeholder:[2,"placeholder"],disableOptionCentering:[3,"disableOptionCentering"],compareWith:[4,"compareWith"],id:[5,"id"]},{selectionChange:"selectionChange"}),l["ɵqud"](603979776,10,{options:1}),l["ɵqud"](603979776,11,{optionGroups:1}),l["ɵqud"](603979776,12,{customTrigger:0}),l["ɵprd"](2048,[[1,4],[2,4]],A.d,null,[v.c]),(e()(),l["ɵeld"](24,0,null,0,3,"mat-select-trigger",[],null,null,null,null,null)),l["ɵdid"](25,16384,[[12,4]],0,v.e,[],null,null),(e()(),l["ɵand"](16777216,null,null,1,null,te)),l["ɵdid"](27,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,1,1,null,ne)),l["ɵdid"](29,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,!(null==n.config||!n.config.subject));e(t,2,0,"ctos-so-dropdown",l),e(t,4,0,"outline"),e(t,16,0,n.items,n.isDisable,n.config.selectedItem),e(t,19,0,n.isDisable,n.classes,n.config.noSelectLabel,!0,n.compareFn,n.config.keyField),e(t,27,0,n.config.selectedItem),e(t,29,0,n.list)}),(function(e,t){e(t,0,1,["standard"==l["ɵnov"](t,4).appearance,"fill"==l["ɵnov"](t,4).appearance,"outline"==l["ɵnov"](t,4).appearance,"legacy"==l["ɵnov"](t,4).appearance,l["ɵnov"](t,4)._control.errorState,l["ɵnov"](t,4)._canLabelFloat,l["ɵnov"](t,4)._shouldLabelFloat(),l["ɵnov"](t,4)._hasFloatingLabel(),l["ɵnov"](t,4)._hideControlPlaceholder(),l["ɵnov"](t,4)._control.disabled,l["ɵnov"](t,4)._control.autofilled,l["ɵnov"](t,4)._control.focused,"accent"==l["ɵnov"](t,4).color,"warn"==l["ɵnov"](t,4).color,l["ɵnov"](t,4)._shouldForward("untouched"),l["ɵnov"](t,4)._shouldForward("touched"),l["ɵnov"](t,4)._shouldForward("pristine"),l["ɵnov"](t,4)._shouldForward("dirty"),l["ɵnov"](t,4)._shouldForward("valid"),l["ɵnov"](t,4)._shouldForward("invalid"),l["ɵnov"](t,4)._shouldForward("pending"),!l["ɵnov"](t,4)._animationsEnabled]),e(t,14,1,[l["ɵnov"](t,18).ngClassUntouched,l["ɵnov"](t,18).ngClassTouched,l["ɵnov"](t,18).ngClassPristine,l["ɵnov"](t,18).ngClassDirty,l["ɵnov"](t,18).ngClassValid,l["ɵnov"](t,18).ngClassInvalid,l["ɵnov"](t,18).ngClassPending,l["ɵnov"](t,19).id,l["ɵnov"](t,19).tabIndex,l["ɵnov"](t,19)._getAriaLabel(),l["ɵnov"](t,19)._getAriaLabelledby(),l["ɵnov"](t,19).required.toString(),l["ɵnov"](t,19).disabled.toString(),l["ɵnov"](t,19).errorState,l["ɵnov"](t,19).panelOpen?l["ɵnov"](t,19)._optionIds:null,l["ɵnov"](t,19).multiple,l["ɵnov"](t,19)._ariaDescribedby||null,l["ɵnov"](t,19)._getAriaActiveDescendant(),l["ɵnov"](t,19).disabled,l["ɵnov"](t,19).errorState,l["ɵnov"](t,19).required,l["ɵnov"](t,19).empty])}))}var re=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function ae(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function oe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),l["ɵeld"](1,16777216,null,null,7,"div",[["matTooltipPosition","left"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,2).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,2)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](2,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,ae)),l["ɵdid"](4,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](5,0,null,null,3,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var r=!0,a=e.component;return"click"===t&&(r=!1!==l["ɵnov"](e,6)._checkDisabled(n)&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,6)._handleMouseEnter()&&r),"click"===t&&(r=!1!==a.optionClicked(e.context.$implicit.name)&&r),r}),_.c,_.a)),l["ɵdid"](6,180224,[[2,4]],0,u.e,[l.ElementRef,o.DOCUMENT,g.h,[2,u.b]],{disabled:[0,"disabled"]},null),(e()(),l["ɵeld"](7,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l["ɵted"](8,null,["",""])),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,2,0,"left",t.context.$implicit.isEnabled,t.context.$implicit.tooltipMsg),e(t,4,0,t.context.$implicit.hasDivider),e(t,6,0,!t.context.$implicit.isEnabled)}),(function(e,t){e(t,5,0,l["ɵnov"](t,6).role,l["ɵnov"](t,6)._highlighted,l["ɵnov"](t,6)._triggersSubmenu,l["ɵnov"](t,6)._getTabIndex(),l["ɵnov"](t,6).disabled.toString(),l["ɵnov"](t,6).disabled||null),e(t,8,0,t.context.$implicit.name)}))}function ie(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,"img",[["src","assets/images/preScreening.png"]],null,null,null,null,null))],null,null)}function se(e){return l["ɵvid"](0,[(e()(),l["ɵand"](16777216,null,null,1,null,ie)),l["ɵdid"](1,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](2,16777216,null,null,2,"span",[],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,3).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,3)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,3)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](3,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"]},null),(e()(),l["ɵted"](4,null,[" ",""])),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,t.context.$implicit.prescreenInd),e(t,3,0,t.context.$implicit.id)}),(function(e,t){e(t,4,0,t.context.$implicit.id)}))}function ue(e){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{studyListOptionTemplate:0}),(e()(),l["ɵeld"](1,0,null,null,8,"mat-menu",[],null,null,null,_.d,_.b)),l["ɵprd"](6144,null,u.d,null,[u.h]),l["ɵprd"](6144,null,u.b,null,[u.d]),l["ɵdid"](4,1294336,[["menu",4]],3,u.h,[l.ElementRef,l.NgZone,u.a],{overlapTrigger:[0,"overlapTrigger"],panelClass:[1,"panelClass"]},null),l["ɵqud"](603979776,2,{_allItems:1}),l["ɵqud"](603979776,3,{items:1}),l["ɵqud"](603979776,4,{lazyContent:0}),(e()(),l["ɵand"](16777216,null,0,1,null,oe)),l["ɵdid"](9,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](10,16777216,null,null,4,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-icon-button",""]],[[1,"aria-expanded",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var r=!0;return"mousedown"===t&&(r=!1!==l["ɵnov"](e,11)._handleMousedown(n)&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,11)._handleKeydown(n)&&r),"click"===t&&(r=!1!==l["ɵnov"](e,11)._handleClick(n)&&r),r}),N.b,N.a)),l["ɵdid"](11,1196032,null,0,u.g,[i.c,l.ElementRef,l.ViewContainerRef,u.c,[2,u.d],[8,null],[2,s.b],g.h],{menu:[0,"menu"]},null),l["ɵdid"](12,180224,null,0,D.b,[l.ElementRef,g.h,[2,L.a]],{disabled:[0,"disabled"]},null),(e()(),l["ɵeld"](13,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,[" more_vert "])),(e()(),l["ɵand"](0,[[1,2],["studyListOptionTemplate",2]],null,0,null,se))],(function(e,t){var n=t.component;e(t,4,0,!1,"context-menu plan-options-menu"),e(t,9,0,n.planOptions),e(t,11,0,l["ɵnov"](t,4)),e(t,12,0,n.isDisabled)}),(function(e,t){e(t,10,0,l["ɵnov"](t,11).menuOpen||null,l["ɵnov"](t,12).disabled||null,"NoopAnimations"===l["ɵnov"](t,12)._animationMode)}))}var ce=l["ɵcrt"]({encapsulation:2,styles:[".ngx-charts{float:right;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .data-circle{stroke-width:2px;stroke:#9e54b0;fill:#fff}.ngx-charts .perc-text{font-size:9px;font-weight:700}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus,.ngx-charts g:focus{outline:0}.ngx-charts g .line-series>path.line{stroke-width:2px}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive{-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}#isMilesonesVisible{margin:7px}.card{border:none;box-shadow:0 4px 20px rgba(0,0,0,.5);display:inline-block}.areaGenerator{opacity:.35}.zoom{cursor:move;fill:none;pointer-events:all}.ng5-slider{margin:0!important;left:20px;width:90%!important;top:100px}.ng5-slider-expanded{width:85%!important}.ng5-slider .ng5-slider-bubble{font-size:11px!important}.ng5-slider .ng5-slider-pointer{width:18px!important;height:18px!important;top:-7px!important;z-index:1!important}.ng5-slider .ng5-slider-pointer:after{top:3px!important;left:3px!important;margin:2px}"],data:{}});function de(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,0,":svg:rect",[["opacity","0.2"],["stroke-width","0.5px"]],[[1,"x",0],[1,"y",0],[1,"width",0],[1,"height",0],[1,"fill",0]],null,null,null,null))],null,(function(e,t){e(t,1,0,t.context.$implicit.x,t.context.$implicit.y,t.context.$implicit.width,t.context.$implicit.height,t.context.$implicit.color)}))}function pe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,":svg:g",[["extended-ngx-charts-line-series",""]],null,null,null,At,bt)),l["ɵdid"](2,573440,null,0,r.wb,[],{data:[0,"data"],xScale:[1,"xScale"],yScale:[2,"yScale"],colors:[3,"colors"],scaleType:[4,"scaleType"],curve:[5,"curve"]},null)],(function(e,t){var n=t.component;e(t,2,0,t.context.$implicit,n.xScaleLine,n.yScaleLine,n.colors,n.scaleType,n.curve)}),null)}function he(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,":svg:g",[["extended-ngx-charts-line-series",""]],null,null,null,At,bt)),l["ɵdid"](2,573440,null,0,r.wb,[],{data:[0,"data"],xScale:[1,"xScale"],yScale:[2,"yScale"],colors:[3,"colors"],scaleType:[4,"scaleType"],curve:[5,"curve"]},null)],(function(e,t){var n=t.component;e(t,2,0,t.context.$implicit,n.xScaleLine,n.ySiteScaleLine,n.colors,n.scaleType,n.curve)}),null)}function fe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,":svg:g",[["app-extended-ngx-charts-circle-series",""]],null,[[null,"activate"],[null,"deactivate"],[null,"collectPins"]],(function(e,t,n){var l=!0,r=e.component;return"activate"===t&&(l=!1!==r.onActivate(n)&&l),"deactivate"===t&&(l=!1!==r.onDeactivate(n)&&l),"collectPins"===t&&(l=!1!==r.collectPins(n)&&l),l}),Ct,vt)),l["ɵdid"](2,638976,null,0,r.vb,[],{data:[0,"data"],xScale:[1,"xScale"],yScale:[2,"yScale"],colors:[3,"colors"],scaleType:[4,"scaleType"],visibleValue:[5,"visibleValue"],activeEntries:[6,"activeEntries"],sizeChanged:[7,"sizeChanged"],dataChanged:[8,"dataChanged"],pinnedObject:[9,"pinnedObject"]},{activate:"activate",deactivate:"deactivate",collectPins:"collectPins"})],(function(e,t){var n=t.component;e(t,2,0,t.context.$implicit,n.xScaleLine,n.yScaleLine,n.colors,n.scaleType,n.hoveredVertical,n.activeEntries,n.sizeChanged,n.dataChanged,n.pinnedObjects)}),null)}function me(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,":svg:g",[["app-extended-ngx-charts-circle-series",""]],null,[[null,"activate"],[null,"deactivate"],[null,"collectPins"]],(function(e,t,n){var l=!0,r=e.component;return"activate"===t&&(l=!1!==r.onActivate(n)&&l),"deactivate"===t&&(l=!1!==r.onDeactivate(n)&&l),"collectPins"===t&&(l=!1!==r.collectPins(n)&&l),l}),Ct,vt)),l["ɵdid"](2,638976,null,0,r.vb,[],{data:[0,"data"],xScale:[1,"xScale"],yScale:[2,"yScale"],colors:[3,"colors"],scaleType:[4,"scaleType"],visibleValue:[5,"visibleValue"],activeEntries:[6,"activeEntries"],sizeChanged:[7,"sizeChanged"],dataChanged:[8,"dataChanged"],pinnedObject:[9,"pinnedObject"]},{activate:"activate",deactivate:"deactivate",collectPins:"collectPins"})],(function(e,t){var n=t.component;e(t,2,0,t.context.$implicit,n.xScaleLine,n.ySiteScaleLine,n.colors,n.scaleType,n.hoveredVertical,n.activeEntries,n.sizeChanged,n.dataChanged,n.pinnedObjects)}),null)}function ge(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,6,":svg:g",[["class","milestone-x"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,5,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵeld"](2,16777216,null,null,1,":svg:rect",[["height","15"],["opacity","0.2"],["stroke-width","0.5px"],["style","cursor:pointer"],["width","110"]],[[1,"x",0],[1,"y",0],[1,"rx",0],[1,"ry",0],[1,"fill",0]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,3).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,3)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,3)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](3,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵeld"](4,0,null,null,1,":svg:text",[["fill","black"],["stroke-width",".01px"],["style","pointer-events: none;font-size: 9px;"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](5,null,[""," "])),(e()(),l["ɵeld"](6,0,null,null,0,":svg:line",[["stroke-width","0.5"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0],[1,"stroke",0]],null,null,null,null))],(function(e,t){e(t,3,0,t.component.getMileStoneTooltipData(t.context.$implicit.name,t.context.$implicit.description,t.context.$implicit.data),"ctos-text-centered-tooltip")}),(function(e,t){var n=t.component,l=t.context.$implicit.x,r=t.context.$implicit.y-15,a=t.context.$implicit.color();e(t,2,0,l,r,3,3,a),e(t,4,0,t.context.$implicit.x+5,t.context.$implicit.y-3),e(t,5,0,t.context.$implicit.displayText);var o=t.context.$implicit.scaleX,i=t.context.$implicit.scaleY,s=t.context.$implicit.scaleX,u=n.dims.height,c=t.context.$implicit.color();e(t,6,0,o,i,s,u,c)}))}function ye(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,7,":svg:g",[["class","milestone-y"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,5,":svg:text",[["fill","black"],["stroke","white"],["stroke-width",".01px"],["style","font-size: 9px;"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](2,null,[""," (",") "])),(e()(),l["ɵeld"](3,0,null,null,3,":svg:title",[],null,null,null,null,null)),l["ɵprd"](512,null,o["ɵNgClassImpl"],o["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](5,278528,null,0,o.NgClass,[o["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),l["ɵted"](6,null,[""," (",")"])),(e()(),l["ɵeld"](7,0,null,null,0,":svg:line",[["stroke","gray"],["stroke-width","0.5"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null))],(function(e,t){e(t,5,0,"ctos-text-centered-tooltip")}),(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit.x,t.context.$implicit.y-3),e(t,2,0,t.context.$implicit.description,t.context.$implicit.data),e(t,6,0,t.context.$implicit.description,t.context.$implicit.data),e(t,7,0,0,t.context.$implicit.scaleY,n.dims.width,t.context.$implicit.scaleY)}))}function ve(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,1,":svg:rect",[["height","15"],["opacity","0.2"],["stroke-width","0.5px"],["width","110"]],[[1,"x",0],[1,"y",0],[1,"rx",0],[1,"ry",0],[1,"fill",0]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,1).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,1)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](1,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,t.component.getMarkerTooltipData(t.parent.context.$implicit.name,t.parent.context.$implicit.description,t.parent.context.$implicit.data,t.parent.context.$implicit.value),"ctos-text-centered-tooltip")}),(function(e,t){var n=t.parent.context.$implicit.x,l=t.parent.context.$implicit.scaleY-15,r=t.parent.context.$implicit.color();e(t,0,0,n,l,3,3,r)}))}function Se(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,":svg:text",[["fill","black"],["stroke-width",".01px"],["style","pointer-events: none;font-size: 9px;"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](1,null,[""," "]))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.x+5,t.parent.context.$implicit.scaleY-3),e(t,1,0,t.parent.context.$implicit.displayText)}))}function Re(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,":svg:line",[["stroke-width","0.5"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0],[1,"stroke",0]],null,null,null,null))],null,(function(e,t){var n=t.parent.context.$implicit.scaleX,l=t.parent.context.$implicit.scaleY,r=t.parent.context.$implicit.scaleX,a=t.component.dims.height,o=t.parent.context.$implicit.color();e(t,0,0,n,l,r,a,o)}))}function Ce(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,5,":svg:text",[["fill","black"],["stroke","white"],["stroke-width",".01px"],["style","font-size: 9px;"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](1,null,[""," (",") "])),(e()(),l["ɵeld"](2,0,null,null,3,":svg:title",[],null,null,null,null,null)),l["ɵprd"](512,null,o["ɵNgClassImpl"],o["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](4,278528,null,0,o.NgClass,[o["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),l["ɵted"](5,null,[""," (",")"]))],(function(e,t){e(t,4,0,"ctos-text-centered-tooltip")}),(function(e,t){e(t,0,0,t.parent.context.$implicit.x,t.parent.context.$implicit.y-3),e(t,1,0,t.parent.context.$implicit.name,t.parent.context.$implicit.value),e(t,5,0,t.parent.context.$implicit.description,t.parent.context.$implicit.value)}))}function be(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,":svg:line",[["stroke","gray"],["stroke-width","0.5"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null))],null,(function(e,t){e(t,0,0,0,t.parent.context.$implicit.scaleY,t.component.dims.width,t.parent.context.$implicit.scaleY)}))}function Pe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,5,":svg:text",[["fill","black"],["stroke","white"],["stroke-width",".01px"],["style","font-size: 9px;"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(e()(),l["ɵted"](1,null,[""," (",") "])),(e()(),l["ɵeld"](2,0,null,null,3,":svg:title",[],null,null,null,null,null)),l["ɵprd"](512,null,o["ɵNgClassImpl"],o["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](4,278528,null,0,o.NgClass,[o["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),l["ɵted"](5,null,[""," (",")"]))],(function(e,t){e(t,4,0,"ctos-text-centered-tooltip")}),(function(e,t){e(t,0,0,t.parent.context.$implicit.x,t.parent.context.$implicit.y-3),e(t,1,0,t.parent.context.$implicit.name,t.parent.context.$implicit.value),e(t,5,0,t.parent.context.$implicit.description,t.parent.context.$implicit.value)}))}function De(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,":svg:line",[["stroke","green"],["stroke-width","0.5"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null))],null,(function(e,t){e(t,0,0,0,t.parent.context.$implicit.scaleY,t.component.dims.width,t.parent.context.$implicit.scaleY)}))}function Ae(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,14,":svg:g",[["class","marker"],["style","cursor:pointer"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,ve)),l["ɵdid"](2,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Se)),l["ɵdid"](4,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Re)),l["ɵdid"](6,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Ce)),l["ɵdid"](8,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,be)),l["ɵdid"](10,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Pe)),l["ɵdid"](12,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,De)),l["ɵdid"](14,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=!t.context.$implicit.isTargetLine()&&!t.context.$implicit.isTargetRandomization()&&!t.context.$implicit.isTargetScreening();e(t,2,0,n);var l=!t.context.$implicit.isTargetLine()&&!t.context.$implicit.isTargetRandomization()&&!t.context.$implicit.isTargetScreening();e(t,4,0,l);var r=!t.context.$implicit.isTargetLine()&&!t.context.$implicit.isTargetRandomization()&&!t.context.$implicit.isTargetScreening();e(t,6,0,r);var a=t.context.$implicit.isTargetLine()&&!t.context.$implicit.isTargetRandomization()&&!t.context.$implicit.isTargetScreening();e(t,8,0,a);var o=t.context.$implicit.isTargetLine()&&!t.context.$implicit.isTargetRandomization()&&!t.context.$implicit.isTargetScreening();e(t,10,0,o);var i=(t.context.$implicit.isTargetRandomization()||t.context.$implicit.isTargetScreening())&&!t.context.$implicit.isTargetLine();e(t,12,0,i);var s=(t.context.$implicit.isTargetRandomization()||t.context.$implicit.isTargetScreening())&&!t.context.$implicit.isTargetLine();e(t,14,0,s)}),null)}function Ee(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,34,"ngx-charts-chart",[],null,null,null,M.b,M.a)),l["ɵprd"](512,null,C.a,C.a,[R.a]),l["ɵdid"](2,573440,null,0,w.a,[l.ViewContainerRef,C.a],{view:[0,"view"]},null),(e()(),l["ɵeld"](3,0,null,0,31,":svg:g",[["class","line-chart chart "]],[[1,"transform",0]],null,null,null,null)),(e()(),l["ɵeld"](4,0,null,null,1,":svg:g",[["ngx-charts-x-axis",""]],null,null,null,x.b,x.a)),l["ɵdid"](5,573440,null,0,F.a,[],{xScale:[0,"xScale"],dims:[1,"dims"],showGridLines:[2,"showGridLines"],showLabel:[3,"showLabel"]},null),(e()(),l["ɵeld"](6,0,null,null,1,":svg:g",[["ngx-charts-y-axis",""]],null,null,null,k.b,k.a)),l["ɵdid"](7,573440,null,0,j.a,[],{yScale:[0,"yScale"],dims:[1,"dims"],showLabel:[2,"showLabel"],labelText:[3,"labelText"],yOrient:[4,"yOrient"]},null),(e()(),l["ɵeld"](8,0,null,null,1,":svg:g",[["ngx-charts-y-axis",""]],null,null,null,k.b,k.a)),l["ɵdid"](9,573440,null,0,j.a,[],{yScale:[0,"yScale"],dims:[1,"dims"],tickFormatting:[2,"tickFormatting"],showLabel:[3,"showLabel"],labelText:[4,"labelText"],yOrient:[5,"yOrient"]},null),(e()(),l["ɵeld"](10,0,null,null,2,":svg:g",[],null,null,null,null,null)),l["ɵprd"](512,null,o["ɵNgClassImpl"],o["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](12,278528,null,0,o.NgClass,[o["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),l["ɵeld"](13,0,null,null,2,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,de)),l["ɵdid"](15,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](16,0,null,null,10,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,pe)),l["ɵdid"](18,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,he)),l["ɵdid"](20,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](21,0,null,null,1,":svg:g",[["app-extended-ngx-tooltip-area",""]],null,[[null,"hover"]],(function(e,t,n){var l=!0;return"hover"===t&&(l=!1!==e.component.updateHoveredVertical(n)&&l),l}),yt,pt)),l["ɵdid"](22,770048,null,0,r.ub,[],{dims:[0,"dims"],xSet:[1,"xSet"],xScale:[2,"xScale"],results:[3,"results"],colors:[4,"colors"],sizeChanged:[5,"sizeChanged"],dataChanged:[6,"dataChanged"]},{hover:"hover"}),(e()(),l["ɵand"](16777216,null,null,1,null,fe)),l["ɵdid"](24,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,me)),l["ɵdid"](26,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](27,0,null,null,4,":svg:g",[["class","milestones"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,ge)),l["ɵdid"](29,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,ye)),l["ɵdid"](31,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](32,0,null,null,2,":svg:g",[["class","markers"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,Ae)),l["ɵdid"](34,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.view),e(t,5,0,n.xScaleLine,n.dims,n.showGridLines,n.showXAxisLabel),e(t,7,0,n.yScaleLine,n.dims,n.showYAxisLabel,n.yAxisLabel,n.yOrientRight),e(t,9,0,n.ySiteScaleLine,n.dims,n.toInt,n.showYAxisLabel,n.y2AxisLabel,n.yOrientLeft),e(t,12,0,n.type),e(t,15,0,n.aheadBehindData),e(t,18,0,n.chartData),e(t,20,0,n.centerInitData),e(t,22,0,n.dims,n.xSet,n.xScaleLine,n.activeTooltipArea,n.colors,n.sizeChanged,n.dataChanged),e(t,24,0,n.chartData),e(t,26,0,n.centerInitData),e(t,29,0,n.targetMileStoneX),e(t,31,0,n.targetMileStoneY),e(t,34,0,n.markerPlots)}),(function(e,t){e(t,3,0,t.component.transform)}))}function Te(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,6,"ng5-slider",[["class","ng5-slider"]],[[2,"ng5-slider-vertical",null],[1,"disabled",0]],[[null,"valueChange"],[null,"highValueChange"],[null,"userChangeEnd"],["window","resize"]],(function(e,t,n){var r=!0,a=e.component;return"window:resize"===t&&(r=!1!==l["ɵnov"](e,5).onResize(n)&&r),"valueChange"===t&&(r=!1!==(a.minValue=n)&&r),"highValueChange"===t&&(r=!1!==(a.maxValue=n)&&r),"userChangeEnd"===t&&(r=!1!==a.onSlideValueChange()&&r),r}),U.b,U.a)),l["ɵprd"](5120,null,m.q,(function(e){return[e]}),[E.n]),l["ɵprd"](512,null,o["ɵNgStyleImpl"],o["ɵNgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["ɵdid"](3,278528,null,0,o.NgStyle,[o["ɵNgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["ɵpod"](4,{top:0}),l["ɵdid"](5,4964352,null,1,E.n,[l.Renderer2,l.ElementRef,l.ChangeDetectorRef],{value:[0,"value"],highValue:[1,"highValue"],options:[2,"options"],manualRefresh:[3,"manualRefresh"]},{valueChange:"valueChange",highValueChange:"highValueChange",userChangeEnd:"userChangeEnd"}),l["ɵqud"](335544320,1,{tooltipTemplate:0})],(function(e,t){var n=t.component,l=e(t,4,0,n.sliderTop+10+"px");e(t,3,0,l),e(t,5,0,n.minValue,n.maxValue,n.options,n.manualRefresh)}),(function(e,t){e(t,0,0,l["ɵnov"](t,5).sliderElementVerticalClass,l["ɵnov"](t,5).sliderElementDisabledAttr)}))}function Ie(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"div",[["style","text-align: center;width:100%;position: relative; top: 100px"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,[" No Data to display\n"]))],null,null)}function Le(e){return l["ɵvid"](0,[(e()(),l["ɵand"](16777216,null,null,1,null,Ee)),l["ɵdid"](1,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Te)),l["ɵdid"](3,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Ie)),l["ɵdid"](5,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.activeTooltipArea.length>0),e(t,3,0,n.activeTooltipArea.length>0&&n.graphRendered),e(t,5,0,0==n.activeTooltipArea.length)}),null)}function Oe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-so-plan-chart",[],null,[[null,"mouseleave"]],(function(e,t,n){var r=!0;return"mouseleave"===t&&(r=!1!==l["ɵnov"](e,1).hideCircles()&&r),r}),Le,ce)),l["ɵdid"](1,4898816,null,0,r.i,[l.ElementRef,r.l,l.Renderer2],null,null)],null,null)}var _e=l["ɵccf"]("ctos-so-plan-chart",r.i,Oe,{combinedData:"combinedData",width:"width",height:"height",centerColor:"centerColor",milestoneData:"milestoneData",refresh:"refresh",type:"type",axisLabels:"axisLabels"},{activate:"activate",deactivate:"deactivate"},[]),Ne=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Me(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,4,"div",[["class","legendholder"],["id","legendHolder"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,"button",[["class","xpand"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.xpandAllLegend()&&l),l}),null,null)),(e()(),l["ɵted"](2,null,["",""])),(e()(),l["ɵeld"](3,0,null,null,1,"ctos-so-custom-multiselect",[],null,[[null,"changeSelection"],[null,"LegendState"]],(function(e,t,n){var l=!0,r=e.component;return"changeSelection"===t&&(l=!1!==r.changePref(n)&&l),"LegendState"===t&&(l=!1!==r.OnLegendState(n)&&l),l}),ke,we)),l["ɵdid"](4,770048,null,0,r.h,[r.l],{ExpandCollapse:[0,"ExpandCollapse"],trigger:[1,"trigger"],data:[2,"data"],color:[3,"color"]},{changeSelection:"changeSelection",LegendState:"LegendState"})],(function(e,t){var n=t.component;e(t,4,0,n.ExpandCollapse,n.TriggerChange,n.groups,n.color)}),(function(e,t){e(t,2,0,t.component.isExpand?"Collapse Legend":"Expand Legend")}))}var we=l["ɵcrt"]({encapsulation:0,styles:['.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;line-height:2;cursor:pointer;font-size:12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmarkParent[_ngcontent-%COMP%], .defaultcheckmarkParent[_ngcontent-%COMP%]{position:absolute;top:10px;left:-18px;height:15px;width:15px}.checkmark[_ngcontent-%COMP%], .defaultcheckmark[_ngcontent-%COMP%]{position:absolute;top:5px;left:3px;height:15px;width:15px}.checkmark[_ngcontent-%COMP%]:after, .checkmarkParent[_ngcontent-%COMP%]:after, .defaultcheckmark[_ngcontent-%COMP%]:after, .defaultcheckmarkParent[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmarkParent[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .defaultcheckmark[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .defaultcheckmarkParent[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .checkmarkParent[_ngcontent-%COMP%]:after{left:4px;top:0;width:5px;height:10px;border:solid #fff;border-width:0 1.5px 1.5px 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.container[_ngcontent-%COMP%]   .defaultcheckmark[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .defaultcheckmarkParent[_ngcontent-%COMP%]:after{left:5px;top:0;width:5px;height:10px;border:solid #7faff8;border-width:0 1.5px 1.5px 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.dropbtn[_ngcontent-%COMP%]{background-color:#fff;color:#595959;font:10pt apollo;padding:6px;text-align:left;outline:0;border:.5px solid #d3d3d3;cursor:pointer;width:100%;margin:2px}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:0 20px;-webkit-box-flex:1;flex:1}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:3}.dropdown-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;text-decoration:none}.dropdown-content[_ngcontent-%COMP%]   label.disabled[_ngcontent-%COMP%]{color:#ccc;text-decoration:none;background-color:#fff}.dropdown-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#ddd}.show[_ngcontent-%COMP%]{display:block}'],data:{}});function xe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,8,"label",[["class","container"]],[[1,"class",0]],null,null,null,null)),(e()(),l["ɵted"](1,null,[""," "])),(e()(),l["ɵeld"](2,0,null,null,5,"input",[["type","checkbox"]],[[1,"checked",0],[1,"disabled",0],[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,a=e.component;return"change"===t&&(r=!1!==l["ɵnov"](e,3).onChange(n.target.checked)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,3).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(e.context.$implicit.checked=n)&&r),"change"===t&&(r=!1!==a.onCheckboxChange(n)&&r),r}),null,null)),l["ɵdid"](3,16384,null,0,m.b,[l.Renderer2,l.ElementRef],null,null),l["ɵprd"](1024,null,m.q,(function(e){return[e]}),[m.b]),l["ɵdid"](5,671744,null,0,m.v,[[8,null],[8,null],[8,null],[6,m.q]],{model:[0,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,m.r,null,[m.v]),l["ɵdid"](7,16384,null,0,m.s,[[4,m.r]],null,null),(e()(),l["ɵeld"](8,0,null,null,0,"span",[],[[1,"class",0],[4,"border",null],[4,"background-color",null]],null,null,null,null))],(function(e,t){e(t,5,0,t.context.$implicit.checked)}),(function(e,t){var n=t.component;e(t,0,0,t.context.$implicit.disabled?"container disabled":"container"),e(t,1,0,t.context.$implicit.name),e(t,2,0,t.context.$implicit.checked&&!t.context.$implicit.disabled?"true":null,t.context.$implicit.disabled?"true":null,l["ɵinlineInterpolate"](1,"",t.context.$implicit.value,""),l["ɵnov"](t,7).ngClassUntouched,l["ɵnov"](t,7).ngClassTouched,l["ɵnov"](t,7).ngClassPristine,l["ɵnov"](t,7).ngClassDirty,l["ɵnov"](t,7).ngClassValid,l["ɵnov"](t,7).ngClassInvalid,l["ɵnov"](t,7).ngClassPending),e(t,8,0,n.legendColor[t.context.$implicit.value]?"checkmark":"defaultcheckmark",n.legendColor[t.context.$implicit.value]?"2px solid "+n.legendColor[t.context.$implicit.value]:"1px solid #ccc",t.context.$implicit.checked&&n.legendColor[t.context.$implicit.value]?n.legendColor[t.context.$implicit.value]:"#fff")}))}function Fe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,14,"div",[["class","dropdown"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,13,"span",[],null,null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,7,"label",[["class","container"]],null,null,null,null,null)),(e()(),l["ɵeld"](3,0,null,null,5,"input",[["type","checkbox"]],[[1,"checked",0],[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,a=e.component;return"change"===t&&(r=!1!==l["ɵnov"](e,4).onChange(n.target.checked)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,4).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(e.context.$implicit.checked=n)&&r),"change"===t&&(r=!1!==a.onSelectAllChange(n)&&r),r}),null,null)),l["ɵdid"](4,16384,null,0,m.b,[l.Renderer2,l.ElementRef],null,null),l["ɵprd"](1024,null,m.q,(function(e){return[e]}),[m.b]),l["ɵdid"](6,671744,null,0,m.v,[[8,null],[8,null],[8,null],[6,m.q]],{model:[0,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,m.r,null,[m.v]),l["ɵdid"](8,16384,null,0,m.s,[[4,m.r]],null,null),(e()(),l["ɵeld"](9,0,null,null,0,"span",[],[[1,"class",0],[4,"border",null],[4,"background-color",null]],null,null,null,null)),(e()(),l["ɵeld"](10,0,null,null,1,"button",[["class","dropbtn"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.openDropDown(e.context.$implicit.id)&&l),l}),null,null)),(e()(),l["ɵted"](11,null,["",""])),(e()(),l["ɵeld"](12,0,null,null,2,"div",[["class","dropdown-content"]],[[8,"id",0]],null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,xe)),l["ɵdid"](14,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,6,0,t.context.$implicit.checked),e(t,14,0,t.context.$implicit.value)}),(function(e,t){var n=t.component;e(t,3,0,t.context.$implicit.checked?"true":null,l["ɵinlineInterpolate"](1,"",t.context.$implicit.id,""),l["ɵnov"](t,8).ngClassUntouched,l["ɵnov"](t,8).ngClassTouched,l["ɵnov"](t,8).ngClassPristine,l["ɵnov"](t,8).ngClassDirty,l["ɵnov"](t,8).ngClassValid,l["ɵnov"](t,8).ngClassInvalid,l["ɵnov"](t,8).ngClassPending),e(t,9,0,n.legendColor[t.context.$implicit.id]?"checkmarkParent":"defaultcheckmarkParent",n.legendColor[t.context.$implicit.id]?"2px solid "+n.legendColor[t.context.$implicit.id]:"1px solid #ccc",t.context.$implicit.checked?n.legendColor[t.context.$implicit.id]:null),e(t,11,0,t.context.$implicit.name),e(t,12,0,l["ɵinlineInterpolate"](1,"",t.context.$implicit.id,""))}))}function ke(e){return l["ɵvid"](0,[(e()(),l["ɵand"](16777216,null,null,1,null,Fe)),l["ɵdid"](1,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.data)}),null)}var je=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ue(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,13,"div",[["class","loading-screen-wrapper"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,12,"div",[["class","sk-circle"]],null,null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,0,"div",[["class","sk-circle1 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](3,0,null,null,0,"div",[["class","sk-circle2 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](4,0,null,null,0,"div",[["class","sk-circle3 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](5,0,null,null,0,"div",[["class","sk-circle4 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](6,0,null,null,0,"div",[["class","sk-circle5 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](7,0,null,null,0,"div",[["class","sk-circle6 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](8,0,null,null,0,"div",[["class","sk-circle7 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](9,0,null,null,0,"div",[["class","sk-circle8 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](10,0,null,null,0,"div",[["class","sk-circle9 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](11,0,null,null,0,"div",[["class","sk-circle10 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](12,0,null,null,0,"div",[["class","sk-circle11 sk-child"]],null,null,null,null,null)),(e()(),l["ɵeld"](13,0,null,null,0,"div",[["class","sk-circle12 sk-child"]],null,null,null,null,null))],null,null)}function Ve(e){return l["ɵvid"](0,[(e()(),l["ɵand"](16777216,null,null,1,null,Ue)),l["ɵdid"](1,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.loading>0)}),null)}var Ke=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ye(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,"div",[["class","ctos-warning"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.approvedPlanReportWarningMsg)}))}function Ge(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,7,"div",[["class","ctos-card"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,16777216,null,null,4,"a",[["class","ctos-card-header ctos-card-title"]],[[1,"target",0],[8,"href",4]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0,a=e.component;return"longpress"===t&&(r=!1!==l["ɵnov"](e,2).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,2)._handleTouchend()&&r),"click"===t&&(r=!1!==l["ɵnov"](e,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===t&&(r=!1!==a.generateReport(e.context.$implicit.reportId)&&r),r}),null,null)),l["ɵdid"](2,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"]},null),l["ɵdid"](3,671744,null,0,S.q,[S.n,S.a,o.LocationStrategy],null,null),(e()(),l["ɵeld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["ɵted"](5,null,["",""])),(e()(),l["ɵeld"](6,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l["ɵted"](7,null,[" "," "]))],(function(e,t){e(t,2,0,"Export Report")}),(function(e,t){e(t,1,0,l["ɵnov"](t,3).target,l["ɵnov"](t,3).href),e(t,5,0,t.context.$implicit.name),e(t,7,0,t.context.$implicit.description)}))}function He(e){return l["ɵvid"](0,[(e()(),l["ɵand"](16777216,null,null,1,null,Ye)),l["ɵdid"](1,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Ge)),l["ɵdid"](3,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.isApprovedPlan),e(t,3,0,n.reportList)}),null)}var Be=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function qe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-main-header",[],null,[[null,"headerTabClicked"]],(function(e,t,n){var l=!0;return"headerTabClicked"===t&&(l=!1!==e.component.navigateToModule(n)&&l),l}),a.m,a.e)),l["ɵdid"](1,4964352,null,0,c.gb,[c.O,c.r,S.n,c.D,c.M,d.e,b.c,c.hb,c.y,c.U],{items:[0,"items"],userProfile:[1,"userProfile"],logoUrl:[2,"logoUrl"],appInfoUrl:[3,"appInfoUrl"],alertConfirmUrl:[4,"alertConfirmUrl"],aboutResource:[5,"aboutResource"],passwordResource:[6,"passwordResource"]},{headerTabClicked:"headerTabClicked"}),(e()(),l["ɵeld"](2,0,null,null,1,"ctos-sub-header",[],null,[[null,"itemSelect"],[null,"headerTabClicked"]],(function(e,t,n){var l=!0,r=e.component;return"itemSelect"===t&&(l=!1!==r.itemSelected(n)&&l),"headerTabClicked"===t&&(l=!1!==r.navigateToModule(n)&&l),l}),a.n,a.f)),l["ɵdid"](3,245760,null,0,c.ib,[c.y,S.n],{subHeaders:[0,"subHeaders"],studyRefreshDate:[1,"studyRefreshDate"],studyRefreshDateLabel:[2,"studyRefreshDateLabel"],studyListInput:[3,"studyListInput"],disablePlansTab:[4,"disablePlansTab"],searchListFormGroupName:[5,"searchListFormGroupName"]},{itemSelect:"itemSelect",headerTabClicked:"headerTabClicked"})],(function(e,t){var n=t.component;e(t,1,0,n.mainHeaderItems,n.userProfile,n.logoUrl,n.appInfoUrl,n.alertConfirmUrl,n.aboutResource,n.passwordResource),e(t,3,0,n.subHeaderItems,n.studyRefreshDate,n.studyRefreshDateLabel,n.studyListInput,n.disablePlansTab,n.searchListFormGroupName)}),null)}var We=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function $e(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,4,"mat-option",[["class","sub-item mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"click"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,1).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,1)._handleTouchend()&&r),"click"===t&&(r=!1!==l["ɵnov"](e,2)._selectViaInteraction()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),r}),T.d,T.b)),l["ɵdid"](1,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),l["ɵdid"](2,8568832,[[10,4]],0,f.p,[l.ElementRef,l.ChangeDetectorRef,[2,f.j],[2,f.o]],{value:[0,"value"]},null),(e()(),l["ɵeld"](3,0,null,0,0,"img",[["class","plan-status-icon"]],[[8,"src",4]],null,null,null,null)),(e()(),l["ɵeld"](4,0,null,0,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,t.context.$implicit.name,"ctos-tooltip"),e(t,2,0,t.context.$implicit.key)}),(function(e,t){e(t,0,0,l["ɵnov"](t,2)._getTabIndex(),l["ɵnov"](t,2).selected,l["ɵnov"](t,2).multiple,l["ɵnov"](t,2).active,l["ɵnov"](t,2).id,l["ɵnov"](t,2)._getAriaSelected(),l["ɵnov"](t,2).disabled.toString(),l["ɵnov"](t,2).disabled),e(t,3,0,null==t.context.$implicit?null:t.context.$implicit.planImageStatus),e(t,4,0,t.context.$implicit.name)}))}function ze(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),l["ɵeld"](1,16777216,null,null,4,"mat-option",[["class","main-item mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"click"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,2).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,2)._handleTouchend()&&r),"click"===t&&(r=!1!==l["ɵnov"](e,3)._selectViaInteraction()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,3)._handleKeydown(n)&&r),r}),T.d,T.b)),l["ɵdid"](2,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),l["ɵdid"](3,8568832,[[10,4]],0,f.p,[l.ElementRef,l.ChangeDetectorRef,[2,f.j],[2,f.o]],{value:[0,"value"]},null),(e()(),l["ɵeld"](4,0,null,0,0,"img",[["class","plan-status-icon"]],[[8,"src",4]],null,null,null,null)),(e()(),l["ɵeld"](5,0,null,0,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,$e)),l["ɵdid"](7,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,2,0,t.context.$implicit.name,"ctos-tooltip"),e(t,3,0,t.context.$implicit.key),e(t,7,0,t.context.$implicit.briefAdjustPlanList)}),(function(e,t){e(t,1,0,l["ɵnov"](t,3)._getTabIndex(),l["ɵnov"](t,3).selected,l["ɵnov"](t,3).multiple,l["ɵnov"](t,3).active,l["ɵnov"](t,3).id,l["ɵnov"](t,3)._getAriaSelected(),l["ɵnov"](t,3).disabled.toString(),l["ɵnov"](t,3).disabled),e(t,4,0,null==t.context.$implicit?null:t.context.$implicit.planImageStatus),e(t,5,0,t.context.$implicit.name)}))}function Je(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,24,"mat-form-field",[["class","dropdown-form-field mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,I.b,I.a)),l["ɵdid"](1,7520256,null,9,A.c,[l.ElementRef,l.ChangeDetectorRef,[2,f.h],[2,s.b],[2,A.a],y.a,l.NgZone,[2,L.a]],{floatLabel:[0,"floatLabel"]},null),l["ɵqud"](603979776,1,{_controlNonStatic:0}),l["ɵqud"](335544320,2,{_controlStatic:0}),l["ɵqud"](603979776,3,{_labelChildNonStatic:0}),l["ɵqud"](335544320,4,{_labelChildStatic:0}),l["ɵqud"](603979776,5,{_placeholderChild:0}),l["ɵqud"](603979776,6,{_errorChildren:1}),l["ɵqud"](603979776,7,{_hintChildren:1}),l["ɵqud"](603979776,8,{_prefixChildren:1}),l["ɵqud"](603979776,9,{_suffixChildren:1}),(e()(),l["ɵeld"](11,0,null,1,13,"mat-select",[["class","mat-select"],["disableOptionCentering","true"],["panelClass","plan-dropdown-panel ie-dropdown"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,t,n){var r=!0,a=e.component;return"keydown"===t&&(r=!1!==l["ɵnov"](e,13)._handleKeydown(n)&&r),"focus"===t&&(r=!1!==l["ɵnov"](e,13)._onFocus()&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,13)._onBlur()&&r),"selectionChange"===t&&(r=!1!==a.onPlanSelect(n)&&r),r}),O.b,O.a)),l["ɵprd"](6144,null,f.j,null,[v.c]),l["ɵdid"](13,2080768,null,3,v.c,[P.d,l.ChangeDetectorRef,l.NgZone,f.b,l.ElementRef,[2,s.b],[2,m.u],[2,m.l],[2,A.c],[8,null],[8,null],v.a,g.j],{panelClass:[0,"panelClass"],placeholder:[1,"placeholder"],disableOptionCentering:[2,"disableOptionCentering"],value:[3,"value"]},{selectionChange:"selectionChange"}),l["ɵqud"](603979776,10,{options:1}),l["ɵqud"](603979776,11,{optionGroups:1}),l["ɵqud"](603979776,12,{customTrigger:0}),l["ɵprd"](2048,[[1,4],[2,4]],A.d,null,[v.c]),(e()(),l["ɵeld"](18,16777216,null,0,4,"mat-select-trigger",[],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,19).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,19)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,19)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](19,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),l["ɵdid"](20,16384,[[12,4]],0,v.e,[],null,null),(e()(),l["ɵeld"](21,0,null,null,0,"img",[["class","plan-status-icon"]],[[8,"src",4]],null,null,null,null)),(e()(),l["ɵeld"](22,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵand"](16777216,null,1,1,null,ze)),l["ɵdid"](24,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"never"),e(t,13,0,"plan-dropdown-panel ie-dropdown",n.placeholder,"true",n.selectedPlanKey),e(t,19,0,null==n.selectedPlanListItem?null:n.selectedPlanListItem.name,"ctos-tooltip"),e(t,24,0,n.items)}),(function(e,t){var n=t.component;e(t,0,1,["standard"==l["ɵnov"](t,1).appearance,"fill"==l["ɵnov"](t,1).appearance,"outline"==l["ɵnov"](t,1).appearance,"legacy"==l["ɵnov"](t,1).appearance,l["ɵnov"](t,1)._control.errorState,l["ɵnov"](t,1)._canLabelFloat,l["ɵnov"](t,1)._shouldLabelFloat(),l["ɵnov"](t,1)._hasFloatingLabel(),l["ɵnov"](t,1)._hideControlPlaceholder(),l["ɵnov"](t,1)._control.disabled,l["ɵnov"](t,1)._control.autofilled,l["ɵnov"](t,1)._control.focused,"accent"==l["ɵnov"](t,1).color,"warn"==l["ɵnov"](t,1).color,l["ɵnov"](t,1)._shouldForward("untouched"),l["ɵnov"](t,1)._shouldForward("touched"),l["ɵnov"](t,1)._shouldForward("pristine"),l["ɵnov"](t,1)._shouldForward("dirty"),l["ɵnov"](t,1)._shouldForward("valid"),l["ɵnov"](t,1)._shouldForward("invalid"),l["ɵnov"](t,1)._shouldForward("pending"),!l["ɵnov"](t,1)._animationsEnabled]),e(t,11,1,[l["ɵnov"](t,13).id,l["ɵnov"](t,13).tabIndex,l["ɵnov"](t,13)._getAriaLabel(),l["ɵnov"](t,13)._getAriaLabelledby(),l["ɵnov"](t,13).required.toString(),l["ɵnov"](t,13).disabled.toString(),l["ɵnov"](t,13).errorState,l["ɵnov"](t,13).panelOpen?l["ɵnov"](t,13)._optionIds:null,l["ɵnov"](t,13).multiple,l["ɵnov"](t,13)._ariaDescribedby||null,l["ɵnov"](t,13)._getAriaActiveDescendant(),l["ɵnov"](t,13).disabled,l["ɵnov"](t,13).errorState,l["ɵnov"](t,13).required,l["ɵnov"](t,13).empty]),e(t,21,0,null==n.selectedPlanListItem?null:n.selectedPlanListItem.planImageStatus),e(t,22,0,null==n.selectedPlanListItem?null:n.selectedPlanListItem.name)}))}var Xe=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ze(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,5,"th",[["class","col-header"],["matTooltipClass","tool-tip-capitlize"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,4).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,4)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,4)._handleTouchend()&&r),r}),null,null)),l["ɵprd"](512,null,o["ɵNgClassImpl"],o["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](2,278528,null,0,o.NgClass,[o["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](3,{boldHeader:0}),l["ɵdid"](4,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵted"](5,null,[" "," "])),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){var n=t.component,l=e(t,3,0,(4==t.context.index||5==t.context.index)&&"approved Plan"!=n.getHeaderLabel(t.context.$implicit)&&"Actuals"!=n.getHeaderLabel(t.context.$implicit));e(t,2,0,"col-header",l),e(t,4,0,4!=t.context.index&&5!=t.context.index||"approved Plan"==n.getHeaderLabel(t.context.$implicit)||"Actuals"==n.getHeaderLabel(t.context.$implicit)?"":n.getHeaderLabel(t.context.$implicit),"tool-tip-capitlize")}),(function(e,t){e(t,5,0,t.component.getHeaderLabel(t.context.$implicit))}))}function Qe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,16777216,null,null,3,"span",[],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,2).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,2)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](2,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{message:[0,"message"]},null),(e()(),l["ɵted"](3,null,[" "," "])),l["ɵppd"](4,1)],(function(e,t){var n=t.component;e(t,2,0,"N/A"==n.cueCardDetails[t.context.index][t.context.$implicit][t.parent.context.$implicit]?n.NaToolTip:"")}),(function(e,t){var n=t.component,r=l["ɵunv"](t,3,0,e(t,4,0,l["ɵnov"](t.parent.parent,0),n.cueCardDetails[t.context.index][t.context.$implicit][t.parent.context.$implicit]));e(t,3,0,r)}))}function et(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,4,"tr",[["class","row-data"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l["ɵted"](2,null,["",""])),(e()(),l["ɵand"](16777216,null,null,1,null,Qe)),l["ɵdid"](4,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,4,0,t.component.headerElements)}),(function(e,t){e(t,2,0,t.context.$implicit)}))}function tt(e){return l["ɵvid"](0,[l["ɵpid"](0,r.sb,[]),(e()(),l["ɵeld"](1,0,null,null,10,"div",[["class","cue-card-container-div"]],null,null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,1,"h5",[["class","ctos-card-header ctos-card-title"]],null,null,null,null,null)),(e()(),l["ɵted"](3,null,["",""])),(e()(),l["ɵeld"](4,0,null,null,7,"table",[["class","table table-borderless"]],null,null,null,null,null)),(e()(),l["ɵeld"](5,0,null,null,3,"thead",[],null,null,null,null,null)),(e()(),l["ɵeld"](6,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,Ze)),l["ɵdid"](8,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](9,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,et)),l["ɵdid"](11,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,8,0,n.headElements),e(t,11,0,n.rowElements)}),(function(e,t){e(t,3,0,t.component.referenceCardHeading)}))}var nt=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function lt(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,59,"form",[["class","approve-plan-form-container"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,a=e.component;return"submit"===t&&(r=!1!==l["ɵnov"](e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==l["ɵnov"](e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==a.ok()&&r),r}),null,null)),l["ɵdid"](1,16384,null,0,m.G,[],null,null),l["ɵdid"](2,540672,null,0,m.l,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["ɵprd"](2048,null,m.d,null,[m.l]),l["ɵdid"](4,16384,null,0,m.t,[[4,m.d]],null,null),(e()(),l["ɵeld"](5,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["ɵdid"](6,81920,null,0,d.m,[[2,d.l],l.ElementRef,d.e],null,null),(e()(),l["ɵted"](7,null,["",""])),(e()(),l["ɵeld"](8,0,null,null,43,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l["ɵdid"](9,16384,null,0,d.j,[],null,null),(e()(),l["ɵeld"](10,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),l["ɵted"](11,null,[" ",""])),(e()(),l["ɵeld"](12,0,null,null,1,"span",[["class","approver-name"]],null,null,null,null,null)),(e()(),l["ɵted"](13,null,["",""])),(e()(),l["ɵeld"](14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["ɵeld"](15,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l["ɵeld"](16,0,null,null,1,"span",[["class","required"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["*"])),(e()(),l["ɵted"](18,null,["",""])),(e()(),l["ɵeld"](19,16777216,null,null,8,"input",[["class","form-control"],["formControlName","planName"],["matTooltipPosition","right"],["placeholder","Enter Plan Name"],["required",""],["type","text"]],[[1,"disabled",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,a=e.component;return"longpress"===t&&(r=!1!==l["ɵnov"](e,20).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,20)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,20)._handleTouchend()&&r),"input"===t&&(r=!1!==l["ɵnov"](e,21)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,21).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,21)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,21)._compositionEnd(n.target.value)&&r),"blur"===t&&(r=!1!==a.onPlanNameBlur()&&r),r}),null,null)),l["ɵdid"](20,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),l["ɵdid"](21,16384,null,0,m.e,[l.Renderer2,l.ElementRef,[2,m.a]],null,null),l["ɵdid"](22,16384,null,0,m.z,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,m.p,(function(e){return[e]}),[m.z]),l["ɵprd"](1024,null,m.q,(function(e){return[e]}),[m.e]),l["ɵdid"](25,671744,null,0,m.j,[[3,m.d],[6,m.p],[8,null],[6,m.q],[2,m.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,m.r,null,[m.j]),l["ɵdid"](27,16384,null,0,m.s,[[4,m.r]],null,null),(e()(),l["ɵeld"](28,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["ɵeld"](29,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["ɵted"](30,null,[" ",""])),(e()(),l["ɵeld"](31,0,null,null,5,"textarea",[["class","form-control"],["formControlName","planDescription"],["placeholder","Enter Plan Description"],["rows","4"]],[[1,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==l["ɵnov"](e,32)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,32).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,32)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,32)._compositionEnd(n.target.value)&&r),r}),null,null)),l["ɵdid"](32,16384,null,0,m.e,[l.Renderer2,l.ElementRef,[2,m.a]],null,null),l["ɵprd"](1024,null,m.q,(function(e){return[e]}),[m.e]),l["ɵdid"](34,671744,null,0,m.j,[[3,m.d],[8,null],[8,null],[6,m.q],[2,m.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,m.r,null,[m.j]),l["ɵdid"](36,16384,null,0,m.s,[[4,m.r]],null,null),(e()(),l["ɵeld"](37,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["ɵeld"](38,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l["ɵeld"](39,0,null,null,1,"span",[["class","required"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["*"])),(e()(),l["ɵted"](41,null,["",""])),(e()(),l["ɵeld"](42,16777216,null,null,8,"textarea",[["class","form-control"],["formControlName","approvalComments"],["matTooltipPosition","right"],["placeholder","Enter Approval Comments"],["required",""],["rows","4"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,43).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,43)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,43)._handleTouchend()&&r),"input"===t&&(r=!1!==l["ɵnov"](e,44)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,44).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,44)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,44)._compositionEnd(n.target.value)&&r),r}),null,null)),l["ɵdid"](43,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),l["ɵdid"](44,16384,null,0,m.e,[l.Renderer2,l.ElementRef,[2,m.a]],null,null),l["ɵdid"](45,16384,null,0,m.z,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,m.p,(function(e){return[e]}),[m.z]),l["ɵprd"](1024,null,m.q,(function(e){return[e]}),[m.e]),l["ɵdid"](48,671744,null,0,m.j,[[3,m.d],[6,m.p],[8,null],[6,m.q],[2,m.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,m.r,null,[m.j]),l["ɵdid"](50,16384,null,0,m.s,[[4,m.r]],null,null),(e()(),l["ɵeld"](51,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["ɵeld"](52,0,null,null,7,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l["ɵdid"](53,16384,null,0,d.f,[],null,null),(e()(),l["ɵeld"](54,0,null,null,2,"button",[["class","cancel-btn"],["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancel()&&l),l}),N.b,N.a)),l["ɵdid"](55,180224,null,0,D.b,[l.ElementRef,g.h,[2,L.a]],null,null),(e()(),l["ɵted"](56,0,["",""])),(e()(),l["ɵeld"](57,0,null,null,2,"button",[["class","ok-btn"],["mat-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,N.b,N.a)),l["ɵdid"](58,180224,null,0,D.b,[l.ElementRef,g.h,[2,L.a]],{disabled:[0,"disabled"]},null),(e()(),l["ɵted"](59,0,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,n.approvePlanForm),e(t,6,0),e(t,20,0,"right",!(n.approvePlanForm.get("planName").touched&&n.approvePlanForm.get("planName").hasError("required")),null==n.data.labels?null:n.data.labels.APPROVE_PLAN_REQ_MSG,"warn ctos-tooltip"),e(t,22,0,""),e(t,25,0,"planName"),e(t,34,0,"planDescription"),e(t,43,0,"right",!(n.approvePlanForm.get("approvalComments").touched&&n.approvePlanForm.get("approvalComments").hasError("required")),null==n.data.labels?null:n.data.labels.APPROVE_PLAN_REQ_MSG,"warn ctos-tooltip"),e(t,45,0,""),e(t,48,0,"approvalComments"),e(t,58,0,!n.approvePlanForm.valid)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,4).ngClassUntouched,l["ɵnov"](t,4).ngClassTouched,l["ɵnov"](t,4).ngClassPristine,l["ɵnov"](t,4).ngClassDirty,l["ɵnov"](t,4).ngClassValid,l["ɵnov"](t,4).ngClassInvalid,l["ɵnov"](t,4).ngClassPending),e(t,5,0,l["ɵnov"](t,6).id),e(t,7,0,null==n.data.labels?null:n.data.labels.APPROVE_PLAN),e(t,11,0,null==n.data.labels?null:n.data.labels.APPROVE_PLAN_APPROVER),e(t,13,0,n.data.approver),e(t,18,0,null==n.data.labels?null:n.data.labels.APPROVE_PLAN_NAME),e(t,19,0,n.data.isPlan||null,l["ɵnov"](t,22).required?"":null,l["ɵnov"](t,27).ngClassUntouched,l["ɵnov"](t,27).ngClassTouched,l["ɵnov"](t,27).ngClassPristine,l["ɵnov"](t,27).ngClassDirty,l["ɵnov"](t,27).ngClassValid,l["ɵnov"](t,27).ngClassInvalid,l["ɵnov"](t,27).ngClassPending),e(t,30,0,null==n.data.labels?null:n.data.labels.APPROVE_PLAN_DESCR),e(t,31,0,n.data.isPlan||null,l["ɵnov"](t,36).ngClassUntouched,l["ɵnov"](t,36).ngClassTouched,l["ɵnov"](t,36).ngClassPristine,l["ɵnov"](t,36).ngClassDirty,l["ɵnov"](t,36).ngClassValid,l["ɵnov"](t,36).ngClassInvalid,l["ɵnov"](t,36).ngClassPending),e(t,41,0,null==n.data.labels?null:n.data.labels.APPROVE_PLAN_COMMENTS),e(t,42,0,l["ɵnov"](t,45).required?"":null,l["ɵnov"](t,50).ngClassUntouched,l["ɵnov"](t,50).ngClassTouched,l["ɵnov"](t,50).ngClassPristine,l["ɵnov"](t,50).ngClassDirty,l["ɵnov"](t,50).ngClassValid,l["ɵnov"](t,50).ngClassInvalid,l["ɵnov"](t,50).ngClassPending),e(t,54,0,l["ɵnov"](t,55).disabled||null,"NoopAnimations"===l["ɵnov"](t,55)._animationMode),e(t,56,0,null==n.data.labels?null:n.data.labels.APPROVE_PLAN_CANCEL),e(t,57,0,l["ɵnov"](t,58).disabled||null,"NoopAnimations"===l["ɵnov"](t,58)._animationMode),e(t,59,0,null==n.data.labels?null:n.data.labels.APPROVE_PLAN_OK)}))}function rt(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-so-approve-plan",[],null,null,null,lt,nt)),l["ɵdid"](1,114688,null,0,r.qb,[d.l,d.a,m.g],null,null)],(function(e,t){e(t,1,0)}),null)}var at=l["ɵccf"]("ctos-so-approve-plan",r.qb,rt,{},{},[]),ot=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function it(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,54,"form",[["class","copy-plan-form-container"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,a=e.component;return"submit"===t&&(r=!1!==l["ɵnov"](e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==l["ɵnov"](e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==a.ok()&&r),r}),null,null)),l["ɵdid"](1,16384,null,0,m.G,[],null,null),l["ɵdid"](2,540672,null,0,m.l,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["ɵprd"](2048,null,m.d,null,[m.l]),l["ɵdid"](4,16384,null,0,m.t,[[4,m.d]],null,null),(e()(),l["ɵeld"](5,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["ɵdid"](6,81920,null,0,d.m,[[2,d.l],l.ElementRef,d.e],null,null),(e()(),l["ɵted"](7,null,["",""])),(e()(),l["ɵeld"](8,0,null,null,35,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l["ɵdid"](9,16384,null,0,d.j,[],null,null),(e()(),l["ɵeld"](10,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l["ɵeld"](11,0,null,null,1,"span",[["class","required"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["*"])),(e()(),l["ɵted"](13,null,["",""])),(e()(),l["ɵeld"](14,0,null,null,5,"fieldset",[["formArrayName","studySearchFormGroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l["ɵdid"](15,212992,null,0,m.f,[[3,m.d],[8,null],[8,null]],{name:[0,"name"]},null),l["ɵprd"](2048,null,m.d,null,[m.f]),l["ɵdid"](17,16384,null,0,m.t,[[4,m.d]],null,null),(e()(),l["ɵeld"](18,0,null,null,1,"ctos-search-list",[],null,[[null,"itemSelect"]],(function(e,t,n){var l=!0;return"itemSelect"===t&&(l=!1!==e.component.studySelected(n)&&l),l}),a.o,a.g)),l["ɵdid"](19,770048,null,0,c.jb,[m.g,c.y],{isSearchListOn:[0,"isSearchListOn"],searchListInput:[1,"searchListInput"],searchListFormGroupName:[2,"searchListFormGroupName"],labels:[3,"labels"]},{itemSelect:"itemSelect"}),(e()(),l["ɵeld"](20,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["ɵeld"](21,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l["ɵeld"](22,0,null,null,1,"span",[["class","required"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["*"])),(e()(),l["ɵted"](24,null,["",""])),(e()(),l["ɵeld"](25,16777216,null,null,8,"input",[["class","form-control"],["formControlName","copyToPlanName"],["matTooltipPosition","right"],["placeholder","Enter Plan Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,a=e.component;return"longpress"===t&&(r=!1!==l["ɵnov"](e,26).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,26)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,26)._handleTouchend()&&r),"input"===t&&(r=!1!==l["ɵnov"](e,27)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,27).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,27)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,27)._compositionEnd(n.target.value)&&r),"blur"===t&&(r=!1!==a.onPlanNameBlur()&&r),r}),null,null)),l["ɵdid"](26,212992,null,0,p.d,[i.c,l.ElementRef,P.a,l.ViewContainerRef,l.NgZone,y.a,g.c,g.h,p.b,[2,s.b],[2,p.a],[2,h.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),l["ɵdid"](27,16384,null,0,m.e,[l.Renderer2,l.ElementRef,[2,m.a]],null,null),l["ɵdid"](28,16384,null,0,m.z,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,m.p,(function(e){return[e]}),[m.z]),l["ɵprd"](1024,null,m.q,(function(e){return[e]}),[m.e]),l["ɵdid"](31,671744,null,0,m.j,[[3,m.d],[6,m.p],[8,null],[6,m.q],[2,m.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,m.r,null,[m.j]),l["ɵdid"](33,16384,null,0,m.s,[[4,m.r]],null,null),(e()(),l["ɵeld"](34,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["ɵeld"](35,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["ɵted"](36,null,["",""])),(e()(),l["ɵeld"](37,0,null,null,5,"textarea",[["class","form-control"],["formControlName","editPlanDescription"],["placeholder","Enter Plan Description"],["rows","4"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==l["ɵnov"](e,38)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,38).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,38)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,38)._compositionEnd(n.target.value)&&r),r}),null,null)),l["ɵdid"](38,16384,null,0,m.e,[l.Renderer2,l.ElementRef,[2,m.a]],null,null),l["ɵprd"](1024,null,m.q,(function(e){return[e]}),[m.e]),l["ɵdid"](40,671744,null,0,m.j,[[3,m.d],[8,null],[8,null],[6,m.q],[2,m.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,m.r,null,[m.j]),l["ɵdid"](42,16384,null,0,m.s,[[4,m.r]],null,null),(e()(),l["ɵeld"](43,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["ɵeld"](44,0,null,null,10,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l["ɵdid"](45,16384,null,0,d.f,[],null,null),(e()(),l["ɵeld"](46,0,null,null,2,"button",[["class","cancel-btn ctos-btn-secondary"],["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancel()&&l),l}),N.b,N.a)),l["ɵdid"](47,180224,null,0,D.b,[l.ElementRef,g.h,[2,L.a]],null,null),(e()(),l["ɵted"](48,0,[" "," "])),(e()(),l["ɵeld"](49,0,null,null,5,"button",[["class","ok-btn ctos-btn-primary"],["mat-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,N.b,N.a)),l["ɵprd"](512,null,o["ɵNgClassImpl"],o["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](51,278528,null,0,o.NgClass,[o["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](52,{"disabled-button":0}),l["ɵdid"](53,180224,null,0,D.b,[l.ElementRef,g.h,[2,L.a]],{disabled:[0,"disabled"]},null),(e()(),l["ɵted"](54,0,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,n.copyPlanForm),e(t,6,0),e(t,15,0,"studySearchFormGroup"),e(t,19,0,n.isSearchListOn,n.data.studyListInput,n.copyPlanForm.get("studySearchFormGroup"),n.labels),e(t,26,0,"right",!n.hasTooltipMessage(),n.getTooltipMessage(),"warn ctos-tooltip"),e(t,28,0,""),e(t,31,0,"copyToPlanName"),e(t,40,0,"editPlanDescription");var l=e(t,52,0,!n.copyPlanForm.valid);e(t,51,0,"ok-btn ctos-btn-primary",l),e(t,53,0,!n.copyPlanForm.valid)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,4).ngClassUntouched,l["ɵnov"](t,4).ngClassTouched,l["ɵnov"](t,4).ngClassPristine,l["ɵnov"](t,4).ngClassDirty,l["ɵnov"](t,4).ngClassValid,l["ɵnov"](t,4).ngClassInvalid,l["ɵnov"](t,4).ngClassPending),e(t,5,0,l["ɵnov"](t,6).id),e(t,7,0,null==n.data.labels?null:n.data.labels.COPY_PLAN),e(t,13,0,null==n.data.labels?null:n.data.labels.COPY_PLAN_STUDY),e(t,14,0,l["ɵnov"](t,17).ngClassUntouched,l["ɵnov"](t,17).ngClassTouched,l["ɵnov"](t,17).ngClassPristine,l["ɵnov"](t,17).ngClassDirty,l["ɵnov"](t,17).ngClassValid,l["ɵnov"](t,17).ngClassInvalid,l["ɵnov"](t,17).ngClassPending),e(t,24,0,null==n.data.labels?null:n.data.labels.COPY_PLAN_NAME),e(t,25,0,l["ɵnov"](t,28).required?"":null,l["ɵnov"](t,33).ngClassUntouched,l["ɵnov"](t,33).ngClassTouched,l["ɵnov"](t,33).ngClassPristine,l["ɵnov"](t,33).ngClassDirty,l["ɵnov"](t,33).ngClassValid,l["ɵnov"](t,33).ngClassInvalid,l["ɵnov"](t,33).ngClassPending),e(t,36,0,null==n.data.labels?null:n.data.labels.COPY_PLAN_DESCR),e(t,37,0,l["ɵnov"](t,42).ngClassUntouched,l["ɵnov"](t,42).ngClassTouched,l["ɵnov"](t,42).ngClassPristine,l["ɵnov"](t,42).ngClassDirty,l["ɵnov"](t,42).ngClassValid,l["ɵnov"](t,42).ngClassInvalid,l["ɵnov"](t,42).ngClassPending),e(t,46,0,l["ɵnov"](t,47).disabled||null,"NoopAnimations"===l["ɵnov"](t,47)._animationMode),e(t,48,0,null==n.data.labels?null:n.data.labels.COPY_PLAN_CANCEL),e(t,49,0,l["ɵnov"](t,53).disabled||null,"NoopAnimations"===l["ɵnov"](t,53)._animationMode),e(t,54,0,null==n.data.labels?null:n.data.labels.COPY_PLAN_OK)}))}function st(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-so-copy-plan",[],null,null,null,it,ot)),l["ɵdid"](1,114688,null,0,r.rb,[d.l,d.a,m.g],null,null)],(function(e,t){e(t,1,0)}),null)}var ut=l["ɵccf"]("ctos-so-copy-plan",r.rb,st,{},{},[]),ct=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function dt(e){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{diagramRef:0}),(e()(),l["ɵeld"](1,0,[[1,0],["diagramDiv",1]],null,0,"div",[["class","diagramDiv"]],null,null,null,null,null))],null,null)}var pt=l["ɵcrt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"animationState",definitions:[{type:1,expr:"inactive => active",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:.7},offset:null},timings:250}],options:null},{type:1,expr:"active => inactive",animation:[{type:6,styles:{opacity:.7},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:250}],options:null}],options:{}}]}});function ht(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,":xhtml:div",[["class","tooltip-item"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,0,":xhtml:span",[["class","tooltip-item-color"]],[[4,"background-color",null]],null,null,null,null)),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit.color),e(t,2,0,n.getToolTipText(t.context.$implicit))}))}function ft(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,4,":xhtml:div",[["class","area-tooltip-container"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,ht)),l["ɵdid"](2,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](3,0,null,null,1,":xhtml:span",[],null,null,null,null,null)),(e()(),l["ɵted"](4,null,["",""]))],(function(e,t){e(t,2,0,t.parent.context.model)}),(function(e,t){e(t,4,0,t.component.getToolTipTextDate)}))}function mt(e){return l["ɵvid"](0,[(e()(),l["ɵand"](16777216,null,null,1,null,ft)),l["ɵdid"](1,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,t.context.model.length>0)}),null)}function gt(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,[[1,0],["tooltipAnchor",1]],null,1,":svg:rect",[["class","tooltip-anchor"],["ngx-tooltip",""],["y","0"]],[[24,"@animationState",0],[1,"x",0],[1,"width",0],[1,"height",0],[4,"opacity",null],[4,"pointer-events",null]],[[null,"focusin"],[null,"blur"],[null,"mouseenter"],[null,"mouseleave"],[null,"click"]],(function(e,t,n){var r=!0;return"focusin"===t&&(r=!1!==l["ɵnov"](e,1).onFocus()&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,1).onBlur()&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,1).onMouseEnter()&&r),"mouseleave"===t&&(r=!1!==l["ɵnov"](e,1).onMouseLeave(n.target)&&r),"click"===t&&(r=!1!==l["ɵnov"](e,1).onMouseClick()&&r),r}),null,null)),l["ɵdid"](1,147456,null,0,V.a,[C.a,l.ViewContainerRef,l.Renderer2],{tooltipSpacing:[0,"tooltipSpacing"],tooltipDisabled:[1,"tooltipDisabled"],tooltipPlacement:[2,"tooltipPlacement"],tooltipType:[3,"tooltipType"],tooltipTemplate:[4,"tooltipTemplate"],tooltipContext:[5,"tooltipContext"],tooltipImmediateExit:[6,"tooltipImmediateExit"]},null),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,15,n.tooltipDisabled,"right","tooltip",n.tooltipTemplate?n.tooltipTemplate:l["ɵnov"](t.parent,4),n.anchorValues,!0)}),(function(e,t){var n=t.component;e(t,0,0,0!==n.anchorOpacity?"active":"inactive",n.anchorPos,1,n.dims.height,n.anchorOpacity,"none")}))}function yt(e){return l["ɵvid"](2,[l["ɵqud"](671088640,1,{tooltipAnchor:0}),l["ɵqud"](402653184,2,{anchorHolder:0}),(e()(),l["ɵeld"](2,0,null,null,5,":svg:g",[],null,[["window","resize"]],(function(e,t,n){var l=!0;return"window:resize"===t&&(l=!1!==e.component.onResize(n)&&l),l}),null,null)),(e()(),l["ɵeld"](3,0,null,null,0,":svg:rect",[["class","tooltip-area"],["style","opacity: 0; cursor: 'auto';"],["y","0"]],[[1,"x",0],[1,"width",0],[1,"height",0]],[[null,"mousemove"],[null,"mouseleave"],[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"mousemove"===t&&(l=!1!==r.mouseMove(n)&&l),"mouseleave"===t&&(l=!1!==r.hideTooltip()&&l),"click"===t&&(l=!1!==r.pinTooltip()&&l),l}),null,null)),(e()(),l["ɵand"](0,[["defaultTooltipTemplate",2]],null,0,null,mt)),(e()(),l["ɵeld"](5,0,[[2,0],["anchorHolder",1]],null,0,":svg:g",[["class","anchorHolder"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,gt)),l["ɵdid"](7,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,7,0,t.component.anchorValues.length>0)}),(function(e,t){var n=t.component;e(t,3,0,0,n.dims.width,n.dims.height)}))}var vt=l["ɵcrt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"animationState",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:250}],options:null}],options:{}}]}});function St(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,":svg:rect",[["class","tooltip-bar"]],[[24,"@animationState",0],[1,"x",0],[1,"y",0],[1,"width",0],[1,"height",0],[1,"fill",0]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,0,0,"active",n.circle.cx-n.circle.radius,n.circle.cy,2*n.circle.radius,n.circle.height,n.gradientFill)}))}function Rt(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,9,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,1,":svg:g",[["ngx-charts-svg-linear-gradient",""],["orientation","vertical"]],null,null,null,K.b,K.a)),l["ɵdid"](3,573440,null,0,Y.a,[],{orientation:[0,"orientation"],name:[1,"name"],stops:[2,"stops"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,St)),l["ɵdid"](5,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](6,16777216,null,null,3,":svg:g",[["class","circle"],["ngx-charts-circle",""],["ngx-tooltip",""]],[[2,"active",null]],[[null,"select"],[null,"activate"],[null,"deactivate"],[null,"focusin"],[null,"blur"],[null,"mouseenter"],[null,"mouseleave"],[null,"click"]],(function(e,t,n){var r=!0,a=e.component;return"focusin"===t&&(r=!1!==l["ɵnov"](e,7).onFocus()&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,7).onBlur()&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,7).onMouseEnter()&&r),"mouseleave"===t&&(r=!1!==l["ɵnov"](e,7).onMouseLeave(n.target)&&r),"click"===t&&(r=!1!==l["ɵnov"](e,7).onMouseClick()&&r),"click"===t&&(r=!1!==l["ɵnov"](e,8).onClick()&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,8).onMouseEnter()&&r),"mouseleave"===t&&(r=!1!==l["ɵnov"](e,8).onMouseLeave()&&r),"select"===t&&(r=!1!==a.pinTooltip(a.circle)&&r),"activate"===t&&(r=!1!==a.activateCircle()&&r),"deactivate"===t&&(r=!1!==a.deactivateCircle()&&r),r}),G.b,G.a)),l["ɵdid"](7,147456,null,0,V.a,[C.a,l.ViewContainerRef,l.Renderer2],{tooltipTitle:[0,"tooltipTitle"],tooltipDisabled:[1,"tooltipDisabled"],tooltipPlacement:[2,"tooltipPlacement"],tooltipType:[3,"tooltipType"],tooltipTemplate:[4,"tooltipTemplate"],tooltipContext:[5,"tooltipContext"]},null),l["ɵdid"](8,573440,null,0,H.a,[],{cx:[0,"cx"],cy:[1,"cy"],r:[2,"r"],fill:[3,"fill"],data:[4,"data"],classNames:[5,"classNames"],pointerEvents:[6,"pointerEvents"]},{select:"select",activate:"activate",deactivate:"deactivate"}),l["ɵpod"](9,{name:0})],(function(e,t){var n=t.component;e(t,3,0,"vertical",n.gradientId,n.circle.gradientStops),e(t,5,0,n.barVisible&&"standard"===n.type),e(t,7,0,n.tooltipTemplate?void 0:n.getTooltipText(n.circle),n.tooltipDisabled,"top","tooltip",n.tooltipTemplate,n.circle.data),e(t,8,0,n.circle.cx,n.circle.cy,n.circle.radius,n.circle.color,n.circle.value,n.circle.classNames,0===n.circle.value?"none":"all")}),(function(e,t){var n=t.component,l=n.isActive(e(t,9,0,n.circle.seriesName));e(t,6,0,l)}))}function Ct(e){return l["ɵvid"](2,[l["ɵqud"](402653184,1,{anchorHolderO:0}),(e()(),l["ɵand"](16777216,null,null,1,null,Rt)),l["ɵdid"](2,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](3,0,[[1,0],["anchorHolderOne",1]],null,0,":svg:g",[],null,null,null,null,null))],(function(e,t){e(t,2,0,t.component.circle)}),null)}var bt=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Pt(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,":svg:g",[["ngx-charts-svg-linear-gradient",""],["orientation","vertical"]],null,null,null,K.b,K.a)),l["ɵdid"](1,573440,null,0,Y.a,[],{orientation:[0,"orientation"],name:[1,"name"],stops:[2,"stops"]},null)],(function(e,t){var n=t.component;e(t,1,0,"vertical",n.gradientId,n.gradientStops)}),null)}function Dt(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,":svg:g",[["class","line-series-range"],["ngx-charts-area",""]],[[2,"active",null],[2,"inactive",null]],null,null,B.b,B.a)),l["ɵdid"](1,573440,null,0,q.a,[l.ElementRef],{data:[0,"data"],path:[1,"path"],fill:[2,"fill"],opacity:[3,"opacity"],animations:[4,"animations"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.data,n.outerPath,n.hasGradient?n.gradientUrl:n.colors.getColor(n.data.name),n.rangeFillOpacity,n.animations)}),(function(e,t){var n=t.component;e(t,0,0,n.isActive(n.data),n.isInactive(n.data))}))}function At(e){return l["ɵvid"](2,[l["ɵqud"](402653184,1,{anchorHolder:0}),(e()(),l["ɵeld"](1,0,null,null,10,":svg:g",[],null,null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,Pt)),l["ɵdid"](4,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](5,0,null,null,1,":svg:g",[["class","line-highlight"],["ngx-charts-area",""]],[[2,"active",null],[2,"inactive",null]],null,null,B.b,B.a)),l["ɵdid"](6,573440,null,0,q.a,[l.ElementRef],{data:[0,"data"],path:[1,"path"],fill:[2,"fill"],opacity:[3,"opacity"],startOpacity:[4,"startOpacity"],gradient:[5,"gradient"],stops:[6,"stops"],animations:[7,"animations"]},null),(e()(),l["ɵeld"](7,0,[[1,0],["anchorHolder",1]],null,0,":svg:g",[["class","anchorHolder"]],null,null,null,null,null)),(e()(),l["ɵeld"](8,0,null,null,1,":svg:g",[["class","line-series"],["ngx-charts-line",""]],[[2,"active",null],[2,"inactive",null]],null,null,W.b,W.a)),l["ɵdid"](9,573440,null,0,$.a,[l.ElementRef],{path:[0,"path"],stroke:[1,"stroke"],data:[2,"data"],animations:[3,"animations"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Dt)),l["ɵdid"](11,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.hasGradient),e(t,6,0,n.data,n.areaPath,n.hasGradient?n.gradientUrl:n.colors.getColor(n.data.name),.25,0,!0,n.areaGradientStops,n.animations),e(t,9,0,n.path,n.stroke,n.data,n.animations),e(t,11,0,n.hasRange)}),(function(e,t){var n=t.component;e(t,5,0,n.isActive(n.data),n.isInactive(n.data)),e(t,8,0,n.isActive(n.data),n.isInactive(n.data))}))}},2:function(e,t){},"2xY0":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var l=n("6nV5"),r=function(){function e(){}return e.prototype.getProjectedValues=function(e,t,n,l,r,a){return r?e=this.copyCohortRTypeProjectedValues(e,t,l,a):a||(e=this.copyCohortSTypeProjectedValues(e,t,n,l)),e},e.prototype.copyCohortRTypeProjectedValues=function(e,t,n,r){if(r){if(e&&e.cohortList){var a=e.cohortList;for(var o in a)if(o){var i=a[o];if(!i.isCountryAdjusted){var s={sfr:null};s.sfr=e.SFR,t&&t.countryCalcQuantity&&(e.effectiveSFR=t.countryCalcQuantity.effectiveSFR),i.isCountryAdjusted||(s.sfr===e.effectiveSFR&&100!==e.effectiveSFR&&(s.sfr=e.effectiveSFR),e.actEnrlWhnSFRMod=t.actuals.RT,e.dateSFRMod=new Date,e.SFR=s.sfr)}}}}else if(e&&!e.isCountryAdjusted){var u={rr:null,sas:null};u.sas=e.ARC,u.rr=l.c.calcuaterRatePerFrequency(e.RR,n);var c=l.c.calcuaterRatePerFrequency(t.parentPlan.RR,n,!0);t&&t.countryCalcQuantity&&(e.effectiveSAS=t.countryCalcQuantity.effectiveSAS),e.RR===c&&(u.rr=t.countryCalcQuantity.effectiveRR),u.sas===t.parentPlan.ARC&&0!==e.effectiveSAS&&(u.sas=e.effectiveSAS),e.actEnrlWhnSRMod=t.actuals.RT,e.dateSRMod=new Date,e.RR=l.c.calcuaterRatePerFrequency(u.rr,n,!0),e.ARC=u.sas}return e},e.prototype.copyCohortSTypeProjectedValues=function(e,t,n,r){if(e&&!e.isCountryAdjusted){var a={isSolverRateChange:!1,isSolverSFRRateChange:!1,sr:0,rr:0,sfr:0,sas:0};a.rr=l.c.calcuaterRatePerFrequency(e.RR,r),a.sr=l.c.calcuaterRatePerFrequency(e.SR,r),a.sfr=e.SFR,a.sas=e.ARC,t.countryCalcQuantity&&(l.c.isDefined(t.countryCalcQuantity.effectiveSR,!0)&&(e.effectiveSR=t.countryCalcQuantity.effectiveSR),l.c.isDefined(t.countryCalcQuantity.effectiveSFR,!0)&&(e.effectiveSFR=t.countryCalcQuantity.effectiveSFR),l.c.isDefined(t.countryCalcQuantity.effectiveSAS,!0)&&(e.effectiveSAS=t.countryCalcQuantity.effectiveSAS));var o=n&&n.appMetadata&&n.appMetadata.isSRAvailable,i=n&&n.appMetadata&&!n.appMetadata.isSRAvailable,s=l.c.calcuaterRatePerFrequency(t.parentPlan.SR,r,!0),u=l.c.calcuaterRatePerFrequency(t.parentPlan.RR,r,!0);if(o&&e.SR!==s&&(a.isSolverRateChange=!0),i&&e.RR!==u&&(a.isSolverRateChange=!0),a.sfr!==t.parentPlan.SFR&&(a.isSolverSFRRateChange=!0),a.isSolverRateChange||a.isSolverSFRRateChange)a.isSolverRateChange&&!a.isSolverSFRRateChange?(100!==e.effectiveSFR&&(a.sfr=e.effectiveSFR),c=Number(a.sfr)/100,i?a.sr=a.rr/(1-c):a.rr=Number(a.sr)*(1-c)):!a.isSolverRateChange&&a.isSolverSFRRateChange&&(c=a.sfr/100,i?(a.rr=e.effectiveSR*(1-e.effectiveSFR/100),a.sr=a.rr/(1-c)):(a.sr=e.effectiveSR,a.rr=Number(a.sr)*(1-c)));else{100!==e.effectiveSFR&&(a.sfr=e.effectiveSFR);var c=Number(a.sfr)/100;i?(a.rr=Number(e.effectiveSR)*(1-c),a.sr=a.rr/(1-c)):(a.sr=e.effectiveSR,a.rr=Number(a.sr)*(1-c))}a.sas===t.parentPlan.ARC&&0!==e.effectiveSAS&&(a.sas=e.effectiveSAS),e.actEnrlWhnSRMod=t.actuals.RT,e.dateSRMod=new Date,e.actEnrlWhnSFRMod=t.actuals.RT,e.dateSFRMod=new Date,e.SR=l.c.calcuaterRatePerFrequency(a.sr,r,!0),e.SFR=a.sfr,e.RR=l.c.calcuaterRatePerFrequency(a.rr,r,!0),e.ARC=a.sas}return e},e}()},3:function(e,t){},"3hp2":function(e,t,n){"use strict";var l=function(e){return e.singleCountry="singleCountry",e.multipleCountry="multipleCountry",e}({}),r=function(e){return e.single="Single",e.multiple="Multiple",e}({});n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r}))},"5IsW":function(e,t,n){"use strict";n.d(t,"Kb",(function(){return l})),n.d(t,"qc",(function(){return r})),n.d(t,"ub",(function(){return a})),n.d(t,"fb",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"L",(function(){return u})),n.d(t,"tc",(function(){return c})),n.d(t,"gb",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"kc",(function(){return h})),n.d(t,"jc",(function(){return f})),n.d(t,"nc",(function(){return m})),n.d(t,"Hb",(function(){return g})),n.d(t,"mc",(function(){return y})),n.d(t,"vc",(function(){return v})),n.d(t,"z",(function(){return S})),n.d(t,"Jb",(function(){return R})),n.d(t,"ic",(function(){return C})),n.d(t,"M",(function(){return b})),n.d(t,"pc",(function(){return P})),n.d(t,"Wb",(function(){return D})),n.d(t,"Ib",(function(){return A})),n.d(t,"hc",(function(){return E})),n.d(t,"cb",(function(){return T})),n.d(t,"v",(function(){return I})),n.d(t,"Eb",(function(){return L})),n.d(t,"Ub",(function(){return O})),n.d(t,"hb",(function(){return _})),n.d(t,"kb",(function(){return N})),n.d(t,"mb",(function(){return M})),n.d(t,"F",(function(){return w})),n.d(t,"i",(function(){return x})),n.d(t,"y",(function(){return F})),n.d(t,"E",(function(){return k})),n.d(t,"Bb",(function(){return j})),n.d(t,"Mb",(function(){return U})),n.d(t,"lb",(function(){return V})),n.d(t,"Rb",(function(){return K})),n.d(t,"yc",(function(){return Y})),n.d(t,"K",(function(){return G})),n.d(t,"wc",(function(){return H})),n.d(t,"rb",(function(){return B})),n.d(t,"R",(function(){return q})),n.d(t,"X",(function(){return W})),n.d(t,"U",(function(){return $})),n.d(t,"T",(function(){return z})),n.d(t,"zb",(function(){return J})),n.d(t,"yb",(function(){return X})),n.d(t,"ec",(function(){return Z})),n.d(t,"dc",(function(){return Q})),n.d(t,"jb",(function(){return ee})),n.d(t,"ib",(function(){return te})),n.d(t,"Vb",(function(){return ne})),n.d(t,"Qb",(function(){return le})),n.d(t,"b",(function(){return re})),n.d(t,"Tb",(function(){return ae})),n.d(t,"Fb",(function(){return oe})),n.d(t,"Sb",(function(){return ie})),n.d(t,"t",(function(){return se})),n.d(t,"u",(function(){return ue})),n.d(t,"uc",(function(){return ce})),n.d(t,"Db",(function(){return de})),n.d(t,"C",(function(){return pe})),n.d(t,"D",(function(){return he})),n.d(t,"f",(function(){return fe})),n.d(t,"Y",(function(){return me})),n.d(t,"rc",(function(){return ge})),n.d(t,"lc",(function(){return ye})),n.d(t,"Pb",(function(){return ve})),n.d(t,"sc",(function(){return Se})),n.d(t,"ac",(function(){return Re})),n.d(t,"bc",(function(){return Ce})),n.d(t,"Zb",(function(){return be})),n.d(t,"d",(function(){return Pe})),n.d(t,"O",(function(){return De})),n.d(t,"P",(function(){return Ae})),n.d(t,"N",(function(){return Ee})),n.d(t,"Q",(function(){return Te})),n.d(t,"db",(function(){return Ie})),n.d(t,"x",(function(){return Le})),n.d(t,"pb",(function(){return Oe})),n.d(t,"nb",(function(){return _e})),n.d(t,"l",(function(){return Ne})),n.d(t,"s",(function(){return Me})),n.d(t,"a",(function(){return we})),n.d(t,"ob",(function(){return xe})),n.d(t,"qb",(function(){return Fe})),n.d(t,"Yb",(function(){return ke})),n.d(t,"Lb",(function(){return je})),n.d(t,"V",(function(){return Ue})),n.d(t,"Z",(function(){return Ve})),n.d(t,"ab",(function(){return Ke})),n.d(t,"S",(function(){return Ye})),n.d(t,"bb",(function(){return Ge})),n.d(t,"W",(function(){return He})),n.d(t,"A",(function(){return Be})),n.d(t,"m",(function(){return qe})),n.d(t,"e",(function(){return We})),n.d(t,"j",(function(){return $e})),n.d(t,"n",(function(){return ze})),n.d(t,"o",(function(){return Je})),n.d(t,"g",(function(){return Xe})),n.d(t,"vb",(function(){return Ze})),n.d(t,"fc",(function(){return Qe})),n.d(t,"gc",(function(){return et})),n.d(t,"w",(function(){return tt})),n.d(t,"Xb",(function(){return nt})),n.d(t,"k",(function(){return lt})),n.d(t,"xc",(function(){return rt})),n.d(t,"Gb",(function(){return at})),n.d(t,"H",(function(){return ot})),n.d(t,"I",(function(){return it})),n.d(t,"q",(function(){return st})),n.d(t,"Cb",(function(){return ut})),n.d(t,"sb",(function(){return ct})),n.d(t,"Ob",(function(){return dt})),n.d(t,"Nb",(function(){return pt})),n.d(t,"r",(function(){return ht})),n.d(t,"tb",(function(){return ft})),n.d(t,"G",(function(){return mt})),n.d(t,"J",(function(){return gt})),n.d(t,"cc",(function(){return yt})),n.d(t,"Ab",(function(){return vt})),n.d(t,"wb",(function(){return St})),n.d(t,"oc",(function(){return Rt})),n.d(t,"xb",(function(){return Ct})),n.d(t,"B",(function(){return bt})),n.d(t,"eb",(function(){return Pt}));var l={ZERO:0,ONE:1,FIFTY:50,HUNDRED:100,THREE_HUNDRED:300},r={commandName:"getUserData",app:{appType:"SOMAIN"}},a={COUNTRY_LOCKED:"Country Locked",RA_APPLIED:"RA Applied",NOTE_APPLIED:"Notes Applied"},o="assets/images/",i="assets/images/alertConfirm.png",s="Approve",u="Edit",c="View",d="HASuperUser",p={PLANLIST:"GetPlanList",STUDYSUMMARY:"GetStudySummary",SOURCESUMMARY:"GetSourceSummary",DELTEPLAN:"deleteStudyPlan",DELETEALLPLAN:"deleteAllStudyPlans",SOURCECOHORTLIST:"getSourceCohortList",ALLCOHORTLIST:"getAllCohortList",COPYPLAN:"copyStudyPlan",CREATE_PLAN_TEMPLATE:"createPlanTemplate",GET_TEMPLATE_LIST:"getTemplateList",UPDATE_COST:"updatePlanCostValues",GET_BRIEF_PLAN_LIST:"GetBriefPlanList",GET_PLAN_DETAILS:"getPlanDetails",GET_FILTER_COUNTRY_DATA:"GetFilterCountryData",CREATESTUDYPLAN:"createStudyPlan",UPDATESTUDYPLAN:"updateStudyPlan",CREATE_ADJUSTMENT_PLAN:"createAdjustStudyPlan",UPDATE_ADJUSTMENT_PLAN:"updateAdjustStudyPlan",GETSTUDYSOURCEDETAILS:"getStudySourceDetails",GET_CURVE:"GetAllCurves",GET_INTERIM_ANALYSIS_LIST:"getInterimAnalysisList",SAVECOHORTS:"saveCohorts",UPDATECOUNTRYLOCK:"updateCountryLock",UPDATEADJUSTCOUNTRYLOCKED:"updateAdjustCountryLock",DELETEADJUSTCOUNTRYLOCKED:"deleteAdjustCountryPlan",DELETEBASECOUNTRYLOCKED:"deleteCountryPlan",UPDATE_COUNTRY_PLAN:"updateCountryPlan",UPDATE_ADJ_COUNTRY_PLAN:"updateAdjustCountryPlan",UPDATE_COUNTRY_RATEADJUSTMENTS:"updateCountryRateAdjustments",UPDATE_ADJ_COUNTRY_RATEADJUSTMENTS:"updateAdjustCountryPlanRateAdj",ADD_COUNTRY:"addCountry",ADD_ADJUST_COUNTRY_PLAN:"addAdjustCountryPlan",UPDATE_COUNTRY_PLAN_NOTES:"updateCountryPlanNotes",UPDATE_ADJUST_COUNTRY_PLAN_NOTES:"updateAdjustCountryPlanNotes",SAVE_PLAN_DESIGN:"savePlanDesign",GET_PLAN_DESIGN:"getPlanDesign",GET_MILESTONES:"getAllMileStones",CALC_DYNAMIC_PROJECTIONS:"CalcDynamicProjsMilestones",READ_DYNAMIC_PROJECTIONS:"ReadDynPlanProjValues",EVALUATE_MULTI_COUNTRY_PLAN:"evaluateMultiCountryPlans",EVALUATE_ADJUST_MULTI_COUNTRY_PLAN:"evaluateAdjustMultiCountryPlans",GET_COHORT_DETAILS:"getCohortsDetails",EVALUATE_ADJUST_COUNTRY_PLAN:"evaluateAdjustCountryPlan",EVALUATE_COUNTRY_PLAN:"evaluateCountryPlan",EVALUATE_COUNTRTY_PLAN:"evaluateCountryPlan",COPY_COUNTRY_PLAN:"copyCountryPlan",COPY_ADJUST_COUNTRY_PLAN:"copyAdjustCountryPlan",UPLOAD_PLAN:"uploadPlan",GET_STUDY_DETAILS:"getStudyDetails"},h="source",f="actual",m=1,g=0,y=1,v="Weeks",S="Days",R=" ",C=" ",b="",P="Unmapped",D={WEEK:{NAME:"WEEK",VAL:7,LABEL:"Weekly"},MONTH:{NAME:"MONTH",VAL:30,LABEL:"Monthly"},DAY:{NAME:"DAY",VAL:1,LABEL:"Daily"},QUARTER:{NAME:"QUARTER",VAL:90,LABEL:"Quarterly"}},A="NOPLAN",E={MINIMUM_MONTHLY_SCREEN_RATE:"Minimum Screening Rate",NUMBER_OF_SUBJECTS:"Optimum Randomization Target",LAST_SUBJECT_RANDOMIZED_DATE:"Last Subject Randomized Date"},T={SOLVERERORFIRST:"StudyOptimizer cannot calculate the minimum rate based on the parameters entered in the country ",SOLVERERORSECOND:" plan. Consider making changes in the plan, such as increasing the number of sites or decreasing the Screen Failure %."},I={VALIDATIONMSG:"Correct the following parameters and then save the plan: "},L={LABEL:{ACTUAL_VALUE:"TR",EXPECTED_VALUE:"PR"},TOOLTIP_LABELS:{TR:"Target Randomization",PR:"Planner Randomization"},LINEAR_GRADIENT_ID:"linearGradient",ZERO:l.ZERO,HUNDRED:l.HUNDRED,VIEWBOX:"0 -2 44 125",X1:.5,X2:.5,Y1:1,Y2:0,PATH:{D:"M17 117.9C8.4 114.1 5.2 104.1 10 96L12.1 92.4 9.6 90C8.2 88.7 6.3 86.3 5.5 84.7 4 81.7 0 58.3 0 52.3 0 49.1 3.3 44.7 5.7 44.7 8.1 44.7 8.8 41.4 9.8 25.1 10.4 15.7 11.4 6.8 12.1 5.4 14.8-0.5 24.9-1.8 29.9 3.1 32.1 5.3 32.4 6.8 33.2 16.9 35.3 43.4 35.2 43 38.3 44.5 39.8 45.2 41.8 46.9 42.7 48.3 44.2 50.6 44.2 51.7 42.6 63.5 40.1 81.1 39.2 84.5 35.3 88.8L31.9 92.5 34 96.4C37.8 103.5 35.7 112 29.1 116.4 25.8 118.7 20.2 119.3 17 117.9Z"}},O={VALID:"VALID",INVALID:"INVALID",APPROVED:"APPROVED",PREVIOUS_APPROVED:"PREVAPPROVED"},_={MATERIAL:{CHEVRON_UP:"expand_less",CHEVRON_DOWN:"expand_more"}},N={STATUS:{ADJUSTMENT:{VALID:"assets/images/manageplans/status-adjustment-valid.png",INVALID:"assets/images/manageplans/status-adjustment-invalid.png",PREVIOUSLY_APPROVED:"assets/images/manageplans/status-adjustment-previously-approved.png"},VALID:"assets/images/manageplans/status-valid.png",INVALID:"assets/images/manageplans/status-invalid.png",APPROVED:"assets/images/manageplans/status-approved.png",PREVIOUSLY_APPROVED:"assets/images/manageplans/status-previously-approved.png"},ICON_ARROW_BACK:"assets/images/icon-arrow-back.png",ICON_REFRESH:"assets/images/icon-refresh.png",ICON_REVERT:"assets/images/icon-revert.png",COHORT_IMG:"assets/images/manageplans/icon-cohorts.png",COHORT_IMG_BLUE:"assets/images/manageplans/cohort-icon-blue.png",COUNTRY_IMG:"assets/images/manageplans/icon-country.png",SITES_IMG:"assets/images/manageplans/icon-sites.png",ICON_ARROW_LEFT:"assets/images/icon-arrow-left.png",ICON_ARROW:"assets/images/icon-arrow.png",ICON_REFRESH_DISABLED:"assets/images/refresh-disabled.png",ICON_ERROR_MESSAGES:"assets/images/error-messages.png"},M={WIDTH:"350px",PANEL_OK_CLASS:"confirmation-ok-dialog"},w={DELETE_ALL_PLANS:{WIDTH:"310px",HEIGHT:"180px",PANEL_CLASS:"delete-all-confirmation-dialog"},DELETE_PLAN:{WIDTH:"310px",HEIGHT:"180px",PANEL_CLASS:"delete-plan-confirmation-dialog"},CREATE_TEMPLATE:{WIDTH:"450px",PANEL_CLASS:"create-template-dialog"},COUNTRY_LOG:{WIDTH:"620px",PANEL_CLASS:"country-log-dialog"},COUNTRY_NOTES:{WIDTH:"600px",PANEL_CLASS:"country-notes-dialog"},CONFIRM_UNSAVED_DATA:{WIDTH:"310px",HEIGHT:"190",PANEL_CLASS:"unsaved-data-confirmation-dialog"},CONFIRM_DIALOG:{WIDTH:"336px",HEIGHT:"200px",MAXHEIGHT:"235px",PANEL_CLASS:"confirmation-dialog",PANEL_OK_CLASS:"confirmation-ok-dialog",ID:"confirmation-dialog"},CONFIRM_DIALOG_OVERRIDE:{WIDTH:"336px",HEIGHT:"240px",PANEL_CLASS:"confirmation-dialog",ID:"confirmation-dialog-override"},PLAN_OUTDATED:{WIDTH:"350px",HEIGHT:"200px",PANEL_CLASS:"plan-outdated-dialog"},CONFIRM_DIALOG_IH:{WIDTH:"350px",HEIGHT:"220px",PANEL_CLASS:"plan-outdated-dialog"},ENROLLMENT_PAUSE:{WIDTH:"400px",PANEL_CLASS:"ep-dialog"},EP_WARNING:{WIDTH:"300px",HEIGHT:"180px",PANEL_CLASS:"plan-outdated-dialog"},MANAGE_COHORT:{WIDTH:"336px",HEIGHT:"200px",PANEL_CLASS:"manage-plan-dialog"},SELECT_COHORT:{WIDTH:"700px",HEIGHT:"450px",PANEL_CLASS:"select-plan-dialog"},PASTE_DATES:{WIDTH:"450px",PANEL_CLASS:"paste-dates-dialog",ID:"paste-dates"},MAP_COHORTS:{WIDTH:"450px",PANEL_CLASS:"map-cohorts-dialog",ID:"map-cohorts"},CONFIRM_SI_METHOD_CHANGE:{WIDTH:"450px",PANEL_CLASS:"confirm-simc-dialog",ID:"confirm-simc"},COUNTRY_OPTIONS_DIALOG:{PANEL_CLASS:"confirmation-dialog-with-scroll"},DELETE_COHORT_DIALOG:{WIDTH:"700px",PANEL_CLASS:"delete-cohort-panel-class",ID:"deleteCohortDialog"},SOLVERS_VALIDATION_WARNING:{WIDTH:"300px",PANEL_CLASS:"solvers-warning",ID:"solversvalidationwarning"},IMPORT_COUNTRIES:{WIDTH:"90%",HEIGHT:"80%",PANEL_CLASS:"import-countries-dialog",ID:"import-countries-dialog",AG_GRID_CONFIG:{ROW_HEIGHT:36,COUNTRY_COL_WIDTH:250,NUMBER_COL_WIDTH:75,DATE_COL_WIDTH:120,DEFAULT_ROW_COUNT:100,NUMBER_RANGE:{MIN:0,MAX:15e4}}},COPY_COUNTRY_DIALOG:{WIDTH:"500px",HEIGHT:"212px",MIN_HEIGHT:"212px"},BULK_EDIT_DIALOG:{WIDTH:"500px",HEIGHT:"400px",PANEL_CLASS:"bulk-edit-dialog"},BULK_EDIT_WARNING_DIALOG:{WIDTH:"500px",HEIGHT:"200px",MIN_HEIGHT:"200px"},CUSTOM_SIV:{WIDTH:"765px",PANEL_CLASS:"custom-siv-dialog"},NO_TLSR:{WIDTH:"350px",HEIGHT:"200px",PANEL_CLASS:"no-tlsr-dialog"},CYCLE_TIME_ERROR:{WIDTH:"350px",HEIGHT:"200px",PANEL_CLASS:"cycle-time-error-dialog",ID:"cycle-time-error-dialog"}},x={parse:{dateInput:["MM-DD-YYYY","MM/DD/YYYY","YYYY-MM-DD","YYYY/MM/DD","DD-MMM-YYYY","DD/MMM/YYYY","DDMMMYYYY","YYYY-MMM-DD","YYYY/MMM/DD","MMM-DD-YYYY","MMM/DD/YYYY"]},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"medium"},dateA11yLabel:{year:"numeric",month:"medium",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"medium"}}},F={NOTE_API_DATE_FORMAT:"MMM-DD-YYYY HH:MM:SS",NOTE_API_DATE_FORMAT_SMALL:"MMM-DD-YYYY HH:mm:ss",SERVER_DATE_FORMAT:"YYYY-MM-DD",MONTH_DATE_FORMAT:"DD-MMM-YYYY"},k={OK:"OK",CANCEL:"CANCEL",CONTINUE:"CONTINUE",APPLY:"APPLY"},j={MIN:0,MIN_V1:1,MAX:15e4,MAX_CHAR:255,MAX_V1:1e3,EP_NAME_MAX:30},U={PLANS:"/plans",PLANDETAILS:"plandetails",PLAN_PROPERTY:"plan-properties",COUNTRIES:"countries",RATE_ADJUSTMENT:"rate-adjustments",REPORTS:"reports",INVALID:"invalid",PLAN_DESIGN:"plan-design"},V={INSERT:"I",UPDATE:"U",DELETE:"D"},K={FPA:"FPA",FSI:"FSI",LSS:"LSS",LSR:"LSR",CYCLETIME:"cycleTime",SCREENINGPERIOD:"screeningPeriod",NAME:"name",DESCRIPTION:"description",PLANTYPEKEY:"planTypeKey",FPATOFSI:"FPAtoFSI",NEWFSI:"newFSI",FPATOCHK:"FPAtoChk",NEWTFSICHK:"newTFSIChk",ENROLLEMENTTARGET:"enrollmentTarget",SITES:"sites"},Y=0,G="d",H="w",B="id",q="error",W="Error",$="EA",z="E",J="positive",X="negative",Z="positive-snackbar",Q="error-snackbar",ee="assets/images/manageplans/icon-positive.png",te="assets/images/manageplans/icon-error.png",ne="{0}",le="plankey",re="- Adjustment",ae="PLANS",oe="NEWPLANTAB",ie="PLANPROP",se="NCTRYDTL",ue="ctos-tooltip",ce="warn ctos-tooltip",de="MNGCNTRY",pe="DFNCNTPLN",he="DFNSOLVE",fe={RANDOM:"Random"},me={PLAN_OUTDATED:"21037",PLAN_LOCKED_PLAN_DESIGN:"21057",PLAN_ALREADY_APPROVED:"21034",ADD_COUNTRY_TO_APPROVED_PLAN:"21035",PLAN_DELETED:"9013",PLAN_UPDATE_FAILED:"9007"},ge="valid",ye={SRC_FSI_GREATER:"NGSourceFSIGreater",SRC_LSR_LESSER:"NGSourceLSRLesser",INVALID_DATE_FORMAT:"DateFormatIncorrect",MAX_CHAR_EXCEED:"maxCharExceedError",DATEPICKER_PARSE_ERROR:"matDatepickerParse",REQUIRED:"required"},ve="%",Se={MIN_NUM_SITES:1,MAX_NUM_SITES:1e3,MIN_ENROLLMENT_TARGET:0,MAX_ENROLLMENT_TARGET:15e4,MIN_OVER_RECRUITMENT_PERCENT:0,MAX_OVER_RECRUITMENT_PERCENT:1e3,MAX_SR:1e3,MIN_SFR:0,MAX_SFR:99,MAX_RR:1e3,MIN_ACTIVE_SITES:1,MAX_ACTIVE_SITES:1e3,MIN_CALC_SAS:0,MAX_CALC_SAS:100,MIN_SITOFSSDAYS:0,MAX_COHORT_NAME:100,MAX_COHORT_DESCRIPTION:200,MAX_PERIOD_25:1e3,MAX_PERIOD_50:1e3,MAX_PERIOD_90:15e3},Re={PERCENT:"percent",GRANULAR:"granular"},Ce={SCHEDULER:"scheduler",PLANNER:"planner"},be={RANDOM:"Random",LINEAR:"Linear"},Pe={SIMPLE_FRCST:"simpleFrcst"},De={CREATE:"create",EDIT:"edit",DELETE:"delete",EDIT_ALL:"editAll"},Ae={COHORT:"cohort",NAME:"name",DESCRIPTION:"description",EP_TARGET:"interimTarget",TARGET_TYPE:"Randomization",EP_DURATION:"duration",SCREEN_OPTION:"rstrtScrngType",EOF_EP:"rstrtScrngBfrEPDays"},Ee={DEFAULT_COHORT:"All Cohorts",COHORT_PLAN:"Y",ALL_COHORTS_KEY:-1},Te={OPT_1_KEY:"EndofEP",OPT_2_KEY:"ScreeningPeriod",OPT_3_KEY:"DaysBeforeEP"},Ie={COUNTRY:"Country",WW:"WW"},Le="DD-MMM-YYYY",Oe="Y",_e="N",Ne="cp",Me="countryPlanUpdator",we="adjustCountryPlanUpdator",xe="Y",Fe="N",ke={Okay:"OK",Errors:"error"},je={E:"E"},Ue=[21037,9017,9021,20161,21057,9013,21060,21061,21062],Ve={21060:!0,21061:!0,21062:!0},Ke={21063:"Delete",21064:"Lock",21065:"Unlock"},Ye=[21063,21064,21065,21037,21066],Ge=9013,He="PLANUNSAVED",Be=750,qe={EXCLUDED:0,INCLUDED:1,EXCLUDED_BUT_NOT_SAVED:2},We=1,$e={CHECKED:"checked",INDETERMINATE:"indeterminate",UNCHECKED:"unchecked"},ze={R:"R",S:"S"},Je={R:"R Type Cohort",S:"S Type Cohort"},Xe="ALL",Ze={USED_COHORT_KEYS:"usedCohortKeys"},Qe={SDS:"SDS",LSR:"LSR",MRS:"MRS",CRT:"CRT"},et={SUBJECT_DISTRIBUTION:"distribution",LAST_SUBJECT:"last-subject",MIN_NUM_RATE:"rate",SUBJECTS:"subjects"},tt=function(e){return e.ActualNumSites="ActualNumSites",e.TLSS="TLSS",e.actEnrlWhnSFRMod="actEnrlWhnSFRMod",e.actEnrlWhnSRMod="actEnrlWhnSRMod",e.cohortEnrollmentParameters="cohortEnrollmentParameters",e.cohortList="cohortList",e.countryKey="countryKey",e.countryName="countryName",e.dateSFRMod="dateSFRMod",e.dateSRMod="dateSRMod",e.enrolmentParameters="enrolmentParameters",e.isAdjustable="isAdjustable",e.isAdjustment="isAdjustment",e.siBody="siBody",e.siHeader="siHeader",e.studyFSI="studyFSI",e.siField="siField",e.siMethod="siMethod",e.siCustomMethod="siCustomMethod",e}({}),nt={updateCountryDCPView:"DFNCNTPLN",updateCountryMCEView:"DFNSOLVE"},lt=.5,rt="Y",at="N",ot="Import_Country_Worksheet.xlsx",it={url:"assets/"+ot,headers:{responseType:"blob"}},st=function(e){return e.COPY_PLAN_MSG="CopyPlanMsg",e.COPY_PLAN_LOCKED_MSG="CopyPlanLockedMsg",e.COPY_COUNTRY_AFSI_ACHIEVED_MSG="CopyCountryAFSIAchievedMsg",e.COUNTRY_EXIST="CountryExist",e.COUNTRY_ALREADY_PRESENT="CountryAlreadyPresent",e.CONFIRM_COPY="ConfirmDialogHeading",e.CONFIRM_COPY_LABEL="ConfirmCopy",e.COPY_COUNTRY_PANEL_TITLE="CopyCountryPanelTitle",e.COPY_COUNTRY_HEADING="CopyCountryHeading",e}({}),ut=2,ct="locked country",dt=function(e){return e.PRINT="print",e.EXPORT="export",e.COPY="copy",e.EXPAND="expand",e.COLLAPSE="collapse",e}({}),pt=4,ht="CountriesTable.xlsx",ft="ManageCountriesTable.xlsx",mt=function(e){return e.auto="autoHeight",e.normal="normal",e}({}),gt=function(e){return e.top="-19px",e.topnone="0px",e}({}),yt=function(e){return e.ACTUAL="actual",e.PROJECTED="projected",e.REDISTRIBUTED="redistributed",e.NEW="new",e}({}),vt=function(e){return e.ACTUALS="Actuals",e.PROJECTED="Projected",e.PARENT="ParentPlan",e}({}),St=function(e){return e.MC_GRID_TOGGLE_LEFT_MESSAGE="MC_GRID_TOGGLE_LEFT_MESSAGE",e.MC_GRID_TOGGLE_RIGHT_MESSAGE="MC_GRID_TOGGLE_RIGHT_MESSAGE",e}({}),Rt=function(e){return e.PX="px",e.RM="rm",e}({}),Ct=function(e){return e.HEIGHT="height",e.OFFSETHEIGHT="offsetHeight",e.OFFSETTOP="offsetTop",e}({}),bt={PreferenceGridColumns:{},appType:"SOMAIN",category:"PreferenceGridColumns"},Pt={rowHeight:48,headerHeight:73,minHeight:150,margin:50,bufferPixel:18,fixedRowCount:5,collpasedPinnedRowCount:2}},"65/C":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(){function e(e){this.router=e}return e.prototype.canActivate=function(e,t){return this.checkParams(e)},e.prototype.checkParams=function(e){var t=!0,n=e.data.routePath,l=e.params[e.data.paramKey];switch(e.data.paramType){case"number":l=parseInt(l,10),Number.isNaN(l)&&(t=!1);break;case"string":null!=l&&""!==l.trim()||(t=!1);break;default:null==l&&(t=!1)}return t||this.router.navigate(n),t},e}()},"66IH":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("wgY5"),r=n("6nV5"),a=n("5IsW"),o=l,i=function(){function e(){}return e.prototype.getCountryPlanParams=function(e,t,n,l,o,i){var s={};l&&t.isAdjustable&&!0===t.isAdjustable&&o&&o.appMetadata&&o.appMetadata.isEnableProjRates&&(e=this.getProjectedValues(e,t,o,n)),s.enrollmentTarget=""===e.enrollmentTarget||null==e.enrollmentTarget?0:e.enrollmentTarget,s.screeningTarget=this.checkNotEmpty(e.screeningTarget)?e.screeningTarget:a.yc,r.c.isDefined(e.FPAtoFSI)&&(s.FPAtoFSI=e.FPAtoFSI),l&&!0===l?!1===t.isAdjustable&&(s.FSI=r.c.isDefined(e.FSI)?this.dateFormatter(e.FSI):a.M):this.checkNotEmpty(e.FSI)&&(s.FSI=this.dateFormatter(e.FSI)),this.checkNotEmpty(e.SITOFSSDAYS)&&(s.SITOFSSDAYS=e.SITOFSSDAYS),this.checkNotEmpty(e.FSS)&&(s.FSS=this.dateFormatter(e.FSS)),this.checkNotEmpty(e.ARTB)&&(s.LSR=this.dateFormatter(e.ARTB)),s.SR=this.calcuaterRatePerFrequency(e.SR,n),s.SFR=e.SFR,s.RR=this.calcuaterRatePerFrequency(e.RR,n),s.ARC=e.ARC,s.seedNumber=e.seedNumber,s.numSites=e.numSites,s.siteInitiationMethod=e.siteInitiationMethod,s.isSSV=e.isSSV;var u=l&&!0===l?this.getAdjustCenterInitInfo(e.centerInitInfo,e.siteInitiationMethod,{isAdjustable:t.isAdjustable,redistSites:e.redistSites},this.checkNotEmpty(e.FSI),this.checkNotEmpty(e.redistFSI)):this.getBaseCenterInitInfo(e.centerInitInfo,e.siteInitiationMethod,this.checkNotEmpty(e.FSI));s.centerInitInfo=u,s.algorithmId=e.algorithmId,s.algorithmCode=e.algorithmCode?e.algorithmCode:a.d.SIMPLE_FRCST,s.algorithmSiteCompId=e.algorithmSiteCompId?e.algorithmSiteCompId:a.f.RANDOM,s.overRecruitmentPercent=e.overRecruitmentPercent;var c=t&&t.rateAdjustmentsTable&&this.getRateAdjustmentTable(t.rateAdjustmentsTable);return c&&null!==c&&c.length>0&&(s.rateAdjustmentsTable=c),s.isOverRecruitmentEnabled=e.overRecruitmentPercent>0,e.haKey&&e.haKey>0&&(s.haKey=e.haKey,s.appType=e.appType),r.c.isDefined(e.avgDaysToSiteInit,!0)&&e.avgDaysToSiteInit>0&&(s.avgDaysToSiteInit=e.avgDaysToSiteInit),this.checkNotEmpty(e.ARTB)&&(s.ARTB=this.dateFormatter(e.ARTB)),s.minRT=r.c.isDefined(e.minRT)?e.minRT:-1,s.maxRT=r.c.isDefined(e.maxRT)?e.maxRT:-1,l&&!0===l&&(!0===t.isAdjustable&&(e.redistSites>0&&(s.redistSites=e.redistSites,s.redistFSI=r.c.isDefined(e.redistFSI)?this.dateFormatter(e.redistFSI):a.M),s.isTargetAdjusted=!!t.isTargetAdjusted||e.enrollmentTarget.toString()!==t.enrollmentTarget.toString(),s.isSitesAdjusted=!0),r.c.isDefined(e.actEnrlWhnSRMod)&&e.actEnrlWhnSRMod>0&&(s.actEnrlWhnSRMod=e.actEnrlWhnSRMod),r.c.isDefined(e.actEnrlWhnSFRMod)&&e.actEnrlWhnSFRMod>0&&(s.actEnrlWhnSFRMod=e.actEnrlWhnSFRMod),r.c.isDefined(e.dateSRMod)&&null!=e.dateSRMod&&e.actEnrlWhnSRMod>0&&(s.dateSRMod=this.dateFormatter(e.dateSRMod)),r.c.isDefined(e.dateSFRMod)&&null!=e.dateSFRMod&&e.actEnrlWhnSFRMod>0&&(s.dateSFRMod=this.dateFormatter(e.dateSFRMod)),e.isRevertToApprovedPlan&&(s.isRevertToApprovedPlan=e.isRevertToApprovedPlan)),s},e.prototype.getBaseCenterInitInfo=function(e,t,n){var l=this,o={};if(t===a.ac.PERCENT){o.percentCenterInitInfo=[];var i=[];e.percentCenterInitInfo&&(i=e.percentCenterInitInfo.centerInitSlot?e.percentCenterInitInfo.centerInitSlot:e.percentCenterInitInfo),i.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.percOfCenterInit=n.percOfCenterInit,t.noOfCenters=n.noOfCenters,l.checkNotEmpty(n.noOfPeriods)&&(t.noOfPeriods=n.noOfPeriods),l.checkNotEmpty(n.slotEndDate)&&(t.slotStartDate=n.slotStartDate,t.slotEndDate=n.slotEndDate),l.checkNotEmpty(n.slotEndDate)&&o.percentCenterInitInfo.push({centerInitSlot:t})}))}else if(t===a.ac.GRANULAR){if(o.granularCenterInitInfo=e.granularCenterInitInfo.centerInitSlot?e.granularCenterInitInfo.centerInitSlot:e.granularCenterInitInfo,o.granularCenterInitInfo=[],i=[],e.granularCenterInitInfo){var s=e.granularCenterInitInfo.centerInitSlot?e.granularCenterInitInfo.centerInitSlot:e.granularCenterInitInfo;Array.isArray(s)?i=s:i.push({centerInitSlot:s})}i.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.noOfCenters=n.noOfCenters,t.slotStartDate=n.slotStartDate?n.slotStartDate:"",t.slotEndDate=n.slotEndDate?n.slotEndDate:"",void 0!==n.redistributed&&(t.redistributed=n.redistributed),void 0!==n.actualSites&&(t.actualSites=n.actualSites),r.c.isDefined(t.noOfCenters,!0)&&t.slotEndDate&&o.granularCenterInitInfo.push({centerInitSlot:t})}))}return o},e.prototype.getAdjustCenterInitInfo=function(e,t,n,l,o){var i=this,s={};if(t===a.ac.PERCENT)if(s.percentCenterInitInfo=[],n.isAdjustable&&n.redistSites>0){var u=[];if(e.percentCenterInitInfo){var c=e.percentCenterInitInfo.centerInitSlot?e.percentCenterInitInfo.centerInitSlot:e.percentCenterInitInfo;Array.isArray(c)?u=c:u.push(c)}u&&u.length>3&&(u=u.filter((function(e){return!0===(e.centerInitSlot?e.centerInitSlot:e).redistributed}))),u.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.percOfCenterInit=n.percOfCenterInit,t.noOfCenters=n.noOfCenters,i.checkNotEmpty(n.noOfPeriods)&&(t.noOfPeriods=n.noOfPeriods),i.checkNotEmpty(n.slotEndDate)&&(t.slotStartDate=n.slotStartDate,t.slotEndDate=n.slotEndDate),t.redistributed=!0,i.checkNotEmpty(n.slotEndDate)&&s.percentCenterInitInfo.push({centerInitSlot:t})}))}else(!n.isAdjustable||0!==n.redistSites&&void 0!==n.redistSites)&&e&&e.percentCenterInitInfo?(u=[],c=e.percentCenterInitInfo.centerInitSlot?e.percentCenterInitInfo.centerInitSlot:e.percentCenterInitInfo,Array.isArray(c)?u=c:u.push(c),(p=u.filter((function(e){return!1===(e.centerInitSlot?e.centerInitSlot:e).redistributed}))).length>0&&(u=p),u.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.percOfCenterInit=n.percOfCenterInit,t.noOfCenters=n.noOfCenters,i.checkNotEmpty(n.noOfPeriods)&&(t.noOfPeriods=n.noOfPeriods),i.checkNotEmpty(n.slotEndDate)&&(t.slotStartDate=n.slotStartDate,t.slotEndDate=n.slotEndDate),i.checkNotEmpty(n.slotEndDate)&&s.percentCenterInitInfo.push({centerInitSlot:t})}))):s.percentCenterInitInfo=[];else if(t===a.ac.GRANULAR)if(s.granularCenterInitInfo=[],n.isAdjustable&&n.redistSites>0){if(u=[],e.granularCenterInitInfo){var d=e.granularCenterInitInfo.centerInitSlot?e.granularCenterInitInfo.centerInitSlot:e.granularCenterInitInfo;Array.isArray(d)?u=d:u.push(d)}(u=u.filter((function(e){return!0===(e.centerInitSlot?e.centerInitSlot:e).redistributed})))&&u.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.noOfCenters=n.noOfCenters,t.slotStartDate=n.slotStartDate?n.slotStartDate:"",t.slotEndDate=n.slotEndDate?n.slotEndDate:"",t.redistributed=!0,void 0!==n.actualSites&&(t.actualSites=n.actualSites),r.c.isDefined(t.noOfCenters,!0)&&t.slotEndDate&&s.granularCenterInitInfo.push({centerInitSlot:t})}))}else if(!n.isAdjustable||0!==n.redistSites&&void 0!==n.redistSites)if(e&&e.granularCenterInitInfo){var p;u=[],d=e.granularCenterInitInfo.centerInitSlot?e.granularCenterInitInfo.centerInitSlot:e.granularCenterInitInfo,Array.isArray(d)?u=d:u.push(d),(p=u.filter((function(e){return!1===(e.centerInitSlot?e.centerInitSlot:e).redistributed}))).length>0&&(u=p),u&&u.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.noOfCenters=n.noOfCenters,t.slotStartDate=n.slotStartDate?n.slotStartDate:"",t.slotEndDate=n.slotEndDate?n.slotEndDate:"",void 0!==n.actualSites&&(t.actualSites=n.actualSites),n.usedCohortKeys&&(t.usedCohortKeys=n.usedCohortKeys),r.c.isDefined(t.noOfCenters,!0)&&t.slotEndDate&&s.granularCenterInitInfo.push({centerInitSlot:t})}))}else s.granularCenterInitInfo=[];else s.granularCenterInitInfo=[];return s},e.prototype.getRateAdjustmentTable=function(e){var t=this;if(e){var n,l=[];return Array.isArray(e.rateAdjustment)?e.rateAdjustment.map((function(e){var n;n=t.getRateAdjustment(e),l.push({rateAdjustment:n})})):(n=this.getRateAdjustment(e.rateAdjustment),l.push({rateAdjustment:n})),l}return null},e.prototype.getRateAdjustment=function(e){var t={},n=e;return t.key=n.key,t.name=n.name,t.operationType=n.operationType&&null!==n.operationType?n.operationType:a.Lb.E,t.isEndDate=n.isEndDate,t.description=n.description,t.reasonName=n.reasonName,t.reasonKey=n.reasonKey,null!=n.startDate&&(t.startDate=n.startDate),null!=n.endDate&&(t.endDate=n.endDate),t.srPercChange=n.srPercChange,t.sfrPercChange=n.sfrPercChange,t.rateAdjustmentType=n.rateAdjustmentType,t},e.prototype.getProjectedValues=function(e,t,n,l){var r={isSolverRateChange:!1,isSolverSFRRateChange:!1,sr:0,rr:0,sfr:0,sas:0};if(r.rr=this.calcuaterRatePerFrequency(e.RR,l),r.sr=this.calcuaterRatePerFrequency(e.SR,l),r.sfr=e.SFR,r.sas=e.ARC,t.countryCalcQuantity&&(e.effectiveSR=t.countryCalcQuantity.effectiveSR,e.effectiveSFR=t.countryCalcQuantity.effectiveSFR),!t.isCountryAdjusted){var a=n&&n.appMetadata&&n.appMetadata.isSRAvailable,o=n&&n.appMetadata&&!n.appMetadata.isSRAvailable,i=this.calcuaterRatePerFrequency(t.parentPlan.SR,l,!0),s=this.calcuaterRatePerFrequency(t.parentPlan.RR,l,!0);if(a&&e.SR!==i&&(r.isSolverRateChange=!0),o&&e.RR!==s&&(r.isSolverRateChange=!0),r.sfr!==t.parentPlan.SFR&&(r.isSolverSFRRateChange=!0),r.isSolverRateChange||r.isSolverSFRRateChange)r.isSolverRateChange&&!r.isSolverSFRRateChange?(100!==e.effectiveSFR&&(r.sfr=e.effectiveSFR),u=Number(r.sfr)/100,o?r.sr=r.rr/(1-u):r.rr=Number(r.sr)*(1-u)):!r.isSolverRateChange&&r.isSolverSFRRateChange&&(u=r.sfr/100,o?(r.rr=e.effectiveSR*(1-e.effectiveSFR/100),r.sr=r.rr/(1-u)):(r.sr=e.effectiveSR,r.rr=Number(r.sr)*(1-u)));else{100!==e.effectiveSFR&&(r.sfr=e.effectiveSFR);var u=Number(r.sfr)/100;o?(r.rr=Number(e.effectiveSR)*(1-u),r.sr=r.rr/(1-u)):(r.sr=e.effectiveSR,r.rr=Number(r.sr)*(1-u))}r.sas===t.parentPlan.ARC&&0!==e.effectiveSAS&&(r.sas=e.effectiveSAS),e.actEnrlWhnSRMod=t.actuals.RT,e.dateSRMod=new Date,e.actEnrlWhnSFRMod=t.actuals.RT,e.dateSFRMod=new Date,e.SR=this.calcuaterRatePerFrequency(r.sr,l,!0),e.SFR=r.sfr,e.RR=this.calcuaterRatePerFrequency(r.rr,l,!0),e.ARC=r.sas}return e},e.prototype.calcuaterRatePerFrequency=function(e,t,n){return r.c.isDefined(e)&&e!==a.yc?e:a.yc},e.prototype.dateFormatter=function(e){return r.c.isDefined(e)?o(e).format("YYYY-MM-DD"):a.M},e.prototype.checkNotEmpty=function(e){return null!=e&&e!==a.M},e}()},"6DqV":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var l=n("wgY5"),r=n("6nV5"),a=n("5IsW"),o=n("WT9V"),i=l,s=function(){function e(){this.isCohortAdjustment=!1}return e.prototype.transformPayLoad=function(e,t,n,l){var r=e.get(a.w.countryKey).value,o=this.getCountryInformation(t,r),i=this.getPlanInformation(t);return this.loadData(e,o,i,n,l)},e.prototype.loadData=function(e,t,n,l,i){this.setIsCohortAdjustment(n);var s={countryInfo:{}},u={},c=e.get(a.w.enrolmentParameters).getRawValue(),d=e.get(a.w.siBody),p=d.get(a.w.siField).getRawValue(),h=(d.get(a.w.siMethod).getRawValue(),e.get(a.w.siHeader).getRawValue()),f=e.get(a.w.actEnrlWhnSRMod).value,m=e.get(a.w.actEnrlWhnSFRMod).value,g=e.get(a.w.dateSRMod).value,y=e.get(a.w.dateSFRMod).value,v=e.get(a.w.countryKey).value,S=e.get(a.w.countryName).value;this.setIsCohortModified(e);var R=e.get(a.w.cohortEnrollmentParameters).getRawValue();if(u.enrollmentTarget=c.enrollmentTarget,u.screeningTarget=t.planParamsDetails.screeningTarget,null!=n.FPA&&r.c.isDefined(p.FSIDate)&&(u.FPAtoFSI=r.c.dateDiff(n.FPA,p.FSIDate,a.K)),u.FSI=p.FSIDate,u.SITOFSSDAYS=c.SITOFSSDAYS,u.FSS=c.FSS,u.LSR=c.ARTB,u.SFR=c.SFR,t&&t.planParamsDetails.SFR){var C=t.planParamsDetails.SFR,b=Object(o.formatNumber)(t.planParamsDetails.SFR,"en-US","0.1-1");void 0!==c.SFR&&u.SFR.toString()===b.toString()&&(u.SFR=C)}u.SR=c.SR,u.RR=c.RR;var P=r.c.calcuaterRatePerFrequency(u.RR,i),D=r.c.calcuaterRatePerFrequency(u.SR,i),A=t.planParamsDetails.RR,E=t.planParamsDetails.SR,T=null!=t.planParamsDetails.RR&&Object(o.formatNumber)(r.c.calcuaterRatePerFrequency(t.planParamsDetails.RR,i,!0),"en-US","0.1-3"),I=null!=t.planParamsDetails.SR&&Object(o.formatNumber)(r.c.calcuaterRatePerFrequency(t.planParamsDetails.SR,i,!0),"en-US","0.1-3");null!==u.RR&&null!==T&&void 0!==u.RR&&void 0!==T&&u.RR.toString()===T.toString()&&(P=Number(A)),null!==u.SR&&null!==I&&void 0!==u.SR&&void 0!==I&&u.SR.toString()===I.toString()&&(D=Number(E)),l&&l.appMetadata&&!l.appMetadata.isSRAvailable?void 0!==P&&void 0!==u.SFR&&(u.SR=P/(1-u.SFR/100),u.SR=r.c.calcuaterRatePerFrequency(u.SR,i,!0),u.RR=r.c.calcuaterRatePerFrequency(P,i,!0)):void 0!==D&&void 0!==u.SFR&&(u.RR=Number(D)*(1-u.SFR/100),u.RR=r.c.calcuaterRatePerFrequency(u.RR,i,!0),u.SR=r.c.calcuaterRatePerFrequency(D,i,!0)),u.ARC=c.ARC;var L=t.planParamsDetails.ARC,O=r.c.formatDecimal(L,"0.1-1");null!==u.ARC&&null!==O&&u.ARC.toString()===O.toString()&&(u.ARC=L),u.seedNumber=!0===h.reRandomize?a.yc:t.planParamsDetails.seedNumber,u.numSites=p.totalNoOfSites,u.siteInitiationMethod=h.siteInitiationMethod,u.isSSV=t.planParamsDetails.isSSV,u.algorithmSiteCompId=h.siMethod.charAt(0).toUpperCase()+h.siMethod.slice(1);var _=this.getAlgorithmInfo(l,h.siMethod);return u.algorithmCode=_.algorithmCode,u.algorithmId=_.algorithmId,u.overRecruitmentPercent=c.overRecruitmentPercent,n.haKey&&n.haKey>0&&(u.haKey=n.haKey,u.appType=n.appType),u.avgDaysToSiteInit=c.avgDaysToSiteInit,u.ARTB=c.ARTB,u.maxRT=t.planParamsDetails.maxRT?t.planParamsDetails.maxRT:"",u.minRT=t.planParamsDetails.minRT?t.planParamsDetails.minRT:"",u.centerInitInfo=this.getCenterInitDetails(e,n),e.controls.isRevertToApprovedPlan.value&&(u.isRevertToApprovedPlan=e.controls.isRevertToApprovedPlan.value),u.redistFSI=p.FSIDate,u.redistSites=p.sitesToRedistribute?p.sitesToRedistribute:"",u.actEnrlWhnSRMod=t.planParamsDetails.actEnrlWhnSRMod?t.planParamsDetails.actEnrlWhnSRMod:f&&r.c.isDefined(f)?f:0,u.actEnrlWhnSFRMod=t.planParamsDetails.actEnrlWhnSFRMod?t.planParamsDetails.actEnrlWhnSFRMod:m&&r.c.isDefined(m)?m:0,u.dateSRMod=t.planParamsDetails.dateSRMod?t.planParamsDetails.dateSRMod:g&&r.c.isDefined(g)?g:"",u.dateSFRMod=t.planParamsDetails.dateSFRMod?t.planParamsDetails.dateSFRMod:y&&r.c.isDefined(y)?y:"",u.effectiveSR=c.projSR,u.effectiveRR=c.projRR,u.effectiveSFR=c.projSFR,u.effectiveSAS=c.projARC,u.cohortList=this.getCohortEnrollmentParameters(R,i,l,t),s.countryInfo.countryKey=v,s.countryInfo.countryName=S,s.baseParams=u,s},e.prototype.getCohortEnrollmentParameters=function(e,t,n,l){if(e)for(var a in e)if(a){var i=e[a];if(i){var s=this.getCohortData(l,i.cohortKey);if(void 0!==s&&s.planParamsDetails&&s.planParamsDetails.SFR){var u=s.planParamsDetails.SFR,c=Object(o.formatNumber)(s.planParamsDetails.SFR,"en-US","0.1-1");null!=i.SFR&&null!=c&&""!==c&&i.SFR.toString()===c.toString()&&(i.SFR=u)}i.SR=i.originalSR,i.RR=i.originalRR;var d=s.planParamsDetails.ARC,p=r.c.formatDecimal(d,"0.1-1");null!==i.ARC&&null!==p&&i.ARC.toString()===p.toString()&&(i.ARC=d)}}return e},e.prototype.getCohortData=function(e,t){return e.cohortList.find((function(e){return e.cohortKey===t}))},e.prototype.getCountryInformation=function(e,t){if(e.geoList.geography&&Array.isArray(e.geoList.geography))return e.geoList.geography.find((function(e){return e.geographyKey===t}))},e.prototype.getPlanInformation=function(e){return e.planProperties},e.prototype.getAlgorithmInfo=function(e,t){var n={algorithmId:null,algorithmCode:null};if(e.appMetadata.algorithmMetaData&&e.appMetadata.algorithmMetaData.algoMetaData)if(Array.isArray(e.appMetadata.algorithmMetaData.algoMetaData)){var l=e.appMetadata.algorithmMetaData.algoMetaData.find((function(e){return e.algorithmSiteCompId.toString().toLowerCase()===t.toLowerCase()}));n.algorithmId=l.id,n.algorithmCode=l.code}else e.appMetadata.algorithmMetaData.algoMetaData.algorithmSiteCompId.toString().toLowerCase()===t.toLowerCase()&&(n.algorithmId=(l=e.appMetadata.algorithmMetaData.algoMetaData).id,n.algorithmCode=l.code);return n},e.prototype.getCenterInitDetails=function(e,t){var n,l=this,r=e.get(a.w.siBody),o=r.get(a.w.siField).getRawValue(),i=r.get(a.w.siMethod).getRawValue(),s=e.get(a.w.siHeader).getRawValue();if(s.siteInitiationMethod===a.ac.PERCENT){n={percentCenterInitInfo:[]};var u=i,c={},d={},p={};c.slotNum=1,c.percOfCenterInit=25,c.noOfCenters=u.noOfSite25,c.noOfPeriods=u.period25,c.slotStartDate=this.dateFormatter(o.FSIDate),c.slotEndDate=this.dateFormatter(u.endDate25),d.slotNum=2,d.percOfCenterInit=50,d.noOfCenters=u.noOfSite50,d.noOfPeriods=u.period50,d.slotStartDate=this.dateFormatter(u.endDate25),d.slotEndDate=this.dateFormatter(u.endDate50),p.slotNum=3,p.percOfCenterInit=90,p.noOfCenters=u.noOfSite90,p.noOfPeriods=u.period90,p.slotStartDate=this.dateFormatter(u.endDate50),p.slotEndDate=this.dateFormatter(u.endDate90),n.percentCenterInitInfo.push({centerInitSlot:c}),n.percentCenterInitInfo.push({centerInitSlot:d}),n.percentCenterInitInfo.push({centerInitSlot:p})}else s.siteInitiationMethod===a.ac.GRANULAR&&(n={granularCenterInitInfo:[]},(u=r.get(a.w.siCustomMethod).getRawValue()).initiationSchedule&&u.initiationSchedule.forEach((function(e,t){e.noOfCenters&&e.slotStartDate&&e.slotEndDate&&(n.granularCenterInitInfo=l.splitCustomSISlots(n.granularCenterInitInfo,e,t))})));return n},e.prototype.splitCustomSISlots=function(e,t,n){var l=e,o={slotNum:n+1,noOfCenters:t.noOfCenters,slotStartDate:this.dateFormatter(t.slotStartDate),slotEndDate:this.dateFormatter(t.slotEndDate),usedCohortKeys:t.usedCohortKeys?t.usedCohortKeys:"",actualSites:""};if(!0===this.isCohortAdjustment){for(var i=t.noOfCenters;i>0;)o.slotNum=e.length+1,o.noOfCenters=1,t.slotType&&""!==t.slotType&&(o.slotType=t.slotType===a.cc.ACTUAL?a.cc.ACTUAL:a.cc.REDISTRIBUTED),r.c.isDefined(t.centerKey,!0)&&(o.centerKey=t.centerKey),e.push({centerInitSlot:o}),i--;return e}return l.push({centerInitSlot:o}),l},e.prototype.dateFormatter=function(e){return r.c.isDefined(e)?i(e).format("YYYY-MM-DD"):a.M},e.prototype.isCohortPlan=function(e){return e.isCohortPlan===a.N.COHORT_PLAN},e.prototype.setIsCohortAdjustment=function(e){this.isCohortAdjustment=!(!e||e.isPlan||"Y"!==e.isCohortPlan)},e.prototype.getRTValidation=function(e,t){var n={},l=e.get(a.w.countryKey).value,r=this.getCountryInformation(t,l);n.cohortNames=a.M;var o=e.get(a.w.cohortEnrollmentParameters).getRawValue();if(o){for(var i in o)if(i){var s=o[i],u=this.getCohortInfo(r,s.cohortKey);u&&s&&s.enrollmentTarget&&u.planParamsDetails&&u.planParamsDetails.actuals&&u.planParamsDetails.actuals.RT&&parseInt(s.enrollmentTarget,10)<parseInt(u.planParamsDetails.actuals.RT,10)&&(n.cohortNames=(n.cohortNames===a.M?"":n.cohortNames)+u.cohortName+",")}n.cohortNames!==a.M?(n.isRTConfirm=!0,n.cohortNames=n.cohortNames.replace(/,\s*$/,"")):n.isRTConfirm=!1}else n.isRTConfirm=!1;return n},e.prototype.getCohortInfo=function(e,t){if(e)return e.cohortList.find((function(e){return e.cohortKey===t}))},e.prototype.setIsCohortModified=function(e){var t=e.get(a.w.cohortEnrollmentParameters);for(var n in t.controls)if(n){var l=t.get(n);if(l){var r=l.get("isCohModified");r&&!r.value&&r.setValue(!0===l.dirty||r.value,{emitEvent:!1,onlySelf:!0})}}},e.prototype.checkModifiedData=function(e,t){return!0},e}()},"6kN7":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var l=n("LoAr"),r=n("QH8h"),a=n("LYzL"),o=n("Kej7"),i=n("z1EI"),s=n("0xYh"),u=n("Z5FQ"),c=n("IfiR"),d=n("s8WJ"),p=n("QsvA"),h=n("Ho7M"),f=n("C7Lb"),m=n("WV+C"),g=n("rW4h"),y=n("CRa1"),v=n("IvSS"),S=n("WT9V"),R=n("Gien"),C=n("GcYS"),b=n("9jBP"),P=n("bhCd"),D=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function A(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==l["ɵnov"](e,1)._selectViaInteraction()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),r}),r.d,r.b)),l["ɵdid"](1,8568832,[[10,4]],0,a.p,[l.ElementRef,l.ChangeDetectorRef,[2,a.j],[2,a.o]],{value:[0,"value"]},null),(e()(),l["ɵted"](2,0,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit)}),(function(e,t){e(t,0,0,l["ɵnov"](t,1)._getTabIndex(),l["ɵnov"](t,1).selected,l["ɵnov"](t,1).multiple,l["ɵnov"](t,1).active,l["ɵnov"](t,1).id,l["ɵnov"](t,1)._getAriaSelected(),l["ɵnov"](t,1).disabled.toString(),l["ɵnov"](t,1).disabled),e(t,2,0,t.context.$implicit.countryName)}))}function E(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["ɵted"](2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.errorMessage)}))}function T(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,6,"mat-checkbox",[["class","check-box mat-checkbox"],["color","accent"],["formControlName","countryPresent"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.onValueChange()&&l),l}),o.b,o.a)),l["ɵdid"](1,8568832,null,0,i.b,[l.ElementRef,l.ChangeDetectorRef,s.h,l.NgZone,[8,null],[2,i.a],[2,u.a]],{color:[0,"color"]},{change:"change"}),l["ɵprd"](1024,null,c.q,(function(e){return[e]}),[i.b]),l["ɵdid"](3,671744,null,0,c.j,[[3,c.d],[8,null],[8,null],[6,c.q],[2,c.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,c.r,null,[c.j]),l["ɵdid"](5,16384,null,0,c.s,[[4,c.r]],null,null),(e()(),l["ɵted"](6,0,["",""]))],(function(e,t){e(t,1,0,"accent"),e(t,3,0,"countryPresent")}),(function(e,t){var n=t.component;e(t,0,1,[l["ɵnov"](t,1).id,null,l["ɵnov"](t,1).indeterminate,l["ɵnov"](t,1).checked,l["ɵnov"](t,1).disabled,"before"==l["ɵnov"](t,1).labelPosition,"NoopAnimations"===l["ɵnov"](t,1)._animationMode,l["ɵnov"](t,5).ngClassUntouched,l["ɵnov"](t,5).ngClassTouched,l["ɵnov"](t,5).ngClassPristine,l["ɵnov"](t,5).ngClassDirty,l["ɵnov"](t,5).ngClassValid,l["ɵnov"](t,5).ngClassInvalid,l["ɵnov"](t,5).ngClassPending]),e(t,6,0,n.errorMessage)}))}function I(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,46,"form",[["class",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,a=e.component;return"submit"===t&&(r=!1!==l["ɵnov"](e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==l["ɵnov"](e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==a.saveCountry()&&r),r}),null,null)),l["ɵdid"](1,16384,null,0,c.G,[],null,null),l["ɵdid"](2,540672,null,0,c.l,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["ɵprd"](2048,null,c.d,null,[c.l]),l["ɵdid"](4,16384,null,0,c.t,[[4,c.d]],null,null),(e()(),l["ɵeld"](5,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["ɵdid"](6,81920,null,0,d.m,[[2,d.l],l.ElementRef,d.e],null,null),(e()(),l["ɵted"](7,null,["",": ",""])),(e()(),l["ɵeld"](8,0,null,null,26,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l["ɵdid"](9,16384,null,0,d.j,[],null,null),(e()(),l["ɵeld"](10,0,null,null,24,"div",[["class","copy-country-form"]],null,null,null,null,null)),(e()(),l["ɵeld"](11,0,null,null,2,"div",[["class","text-right copy-country-label"]],null,null,null,null,null)),(e()(),l["ɵeld"](12,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["ɵted"](13,null,["Copy "," To:"])),(e()(),l["ɵeld"](14,0,null,null,20,"div",[],null,null,null,null,null)),(e()(),l["ɵeld"](15,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,p.b,p.a)),l["ɵdid"](16,7520256,null,9,h.c,[l.ElementRef,l.ChangeDetectorRef,[2,a.h],[2,f.b],[2,h.a],m.a,l.NgZone,[2,u.a]],null,null),l["ɵqud"](603979776,1,{_controlNonStatic:0}),l["ɵqud"](335544320,2,{_controlStatic:0}),l["ɵqud"](603979776,3,{_labelChildNonStatic:0}),l["ɵqud"](335544320,4,{_labelChildStatic:0}),l["ɵqud"](603979776,5,{_placeholderChild:0}),l["ɵqud"](603979776,6,{_errorChildren:1}),l["ɵqud"](603979776,7,{_hintChildren:1}),l["ɵqud"](603979776,8,{_prefixChildren:1}),l["ɵqud"](603979776,9,{_suffixChildren:1}),(e()(),l["ɵeld"](26,0,null,1,8,"mat-select",[["class","mat-select"],["disableOptionCentering",""],["panelClass","country-dropdown-panel"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(e,t,n){var r=!0,a=e.component;return"keydown"===t&&(r=!1!==l["ɵnov"](e,28)._handleKeydown(n)&&r),"focus"===t&&(r=!1!==l["ɵnov"](e,28)._onFocus()&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,28)._onBlur()&&r),"selectionChange"===t&&(r=!1!==a.onCountryChange(n)&&r),r}),g.b,g.a)),l["ɵprd"](6144,null,a.j,null,[y.c]),l["ɵdid"](28,2080768,null,3,y.c,[v.d,l.ChangeDetectorRef,l.NgZone,a.b,l.ElementRef,[2,f.b],[2,c.u],[2,c.l],[2,h.c],[8,null],[8,null],y.a,s.j],{panelClass:[0,"panelClass"],disableOptionCentering:[1,"disableOptionCentering"],value:[2,"value"]},{selectionChange:"selectionChange"}),l["ɵqud"](603979776,10,{options:1}),l["ɵqud"](603979776,11,{optionGroups:1}),l["ɵqud"](603979776,12,{customTrigger:0}),l["ɵprd"](2048,[[1,4],[2,4]],h.d,null,[y.c]),(e()(),l["ɵand"](16777216,null,1,1,null,A)),l["ɵdid"](34,278528,null,0,S.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](35,0,null,null,11,"div",[["class","copy-country-actions mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l["ɵdid"](36,16384,null,0,d.f,[],null,null),(e()(),l["ɵand"](16777216,null,null,1,null,E)),l["ɵdid"](38,16384,null,0,S.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,T)),l["ɵdid"](40,16384,null,0,S.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](41,0,null,null,2,"button",[["class","ok-btn"],["mat-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,R.b,R.a)),l["ɵdid"](42,180224,null,0,C.b,[l.ElementRef,s.h,[2,u.a]],{disabled:[0,"disabled"]},null),(e()(),l["ɵted"](43,0,["",""])),(e()(),l["ɵeld"](44,0,null,null,2,"button",[["class","cancel-btn"],["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancelCopyCountry()&&l),l}),R.b,R.a)),l["ɵdid"](45,180224,null,0,C.b,[l.ElementRef,s.h,[2,u.a]],null,null),(e()(),l["ɵted"](46,0,["",""]))],(function(e,t){var n=t.component;e(t,2,0,n.copyCountryForm),e(t,6,0),e(t,28,0,"country-dropdown-panel","",n.selectedCountryObj),e(t,34,0,n.countryList),e(t,38,0,!n.enableSaveButton&&!n.isAlreadyPresent),e(t,40,0,n.isAlreadyPresent),e(t,42,0,!n.enableSaveButton)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,4).ngClassUntouched,l["ɵnov"](t,4).ngClassTouched,l["ɵnov"](t,4).ngClassPristine,l["ɵnov"](t,4).ngClassDirty,l["ɵnov"](t,4).ngClassValid,l["ɵnov"](t,4).ngClassInvalid,l["ɵnov"](t,4).ngClassPending),e(t,5,0,l["ɵnov"](t,6).id),e(t,7,0,n.copyCountryPlan,n.countryToBeCopied),e(t,13,0,n.countryToBeCopied),e(t,15,1,["standard"==l["ɵnov"](t,16).appearance,"fill"==l["ɵnov"](t,16).appearance,"outline"==l["ɵnov"](t,16).appearance,"legacy"==l["ɵnov"](t,16).appearance,l["ɵnov"](t,16)._control.errorState,l["ɵnov"](t,16)._canLabelFloat,l["ɵnov"](t,16)._shouldLabelFloat(),l["ɵnov"](t,16)._hasFloatingLabel(),l["ɵnov"](t,16)._hideControlPlaceholder(),l["ɵnov"](t,16)._control.disabled,l["ɵnov"](t,16)._control.autofilled,l["ɵnov"](t,16)._control.focused,"accent"==l["ɵnov"](t,16).color,"warn"==l["ɵnov"](t,16).color,l["ɵnov"](t,16)._shouldForward("untouched"),l["ɵnov"](t,16)._shouldForward("touched"),l["ɵnov"](t,16)._shouldForward("pristine"),l["ɵnov"](t,16)._shouldForward("dirty"),l["ɵnov"](t,16)._shouldForward("valid"),l["ɵnov"](t,16)._shouldForward("invalid"),l["ɵnov"](t,16)._shouldForward("pending"),!l["ɵnov"](t,16)._animationsEnabled]),e(t,26,1,[l["ɵnov"](t,28).id,l["ɵnov"](t,28).tabIndex,l["ɵnov"](t,28)._getAriaLabel(),l["ɵnov"](t,28)._getAriaLabelledby(),l["ɵnov"](t,28).required.toString(),l["ɵnov"](t,28).disabled.toString(),l["ɵnov"](t,28).errorState,l["ɵnov"](t,28).panelOpen?l["ɵnov"](t,28)._optionIds:null,l["ɵnov"](t,28).multiple,l["ɵnov"](t,28)._ariaDescribedby||null,l["ɵnov"](t,28)._getAriaActiveDescendant(),l["ɵnov"](t,28).disabled,l["ɵnov"](t,28).errorState,l["ɵnov"](t,28).required,l["ɵnov"](t,28).empty]),e(t,41,0,l["ɵnov"](t,42).disabled||null,"NoopAnimations"===l["ɵnov"](t,42)._animationMode),e(t,43,0,n.okLabel),e(t,44,0,l["ɵnov"](t,45).disabled||null,"NoopAnimations"===l["ɵnov"](t,45)._animationMode),e(t,46,0,n.cancelLabel)}))}function L(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-copy-country-dialog",[],null,null,null,I,D)),l["ɵdid"](1,245760,null,0,b.a,[d.l,d.a,c.g,P.a],null,null)],(function(e,t){e(t,1,0)}),null)}var O=l["ɵccf"]("ctos-copy-country-dialog",b.a,L,{},{},[])},"6nV5":function(e,t,n){"use strict";n.d(t,"a",(function(){return Re})),n.d(t,"b",(function(){return et})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return Te})),n.d(t,"e",(function(){return Xe})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return me})),n.d(t,"i",(function(){return Ce})),n.d(t,"j",(function(){return X})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return le})),n.d(t,"m",(function(){return re})),n.d(t,"n",(function(){return q})),n.d(t,"o",(function(){return $e})),n.d(t,"p",(function(){return nt})),n.d(t,"q",(function(){return qe})),n.d(t,"r",(function(){return ue})),n.d(t,"s",(function(){return W})),n.d(t,"t",(function(){return Q})),n.d(t,"u",(function(){return tt})),n.d(t,"v",(function(){return Qe})),n.d(t,"w",(function(){return j})),n.d(t,"x",(function(){return he})),n.d(t,"y",(function(){return Fe})),n.d(t,"z",(function(){return te})),n.d(t,"A",(function(){return ne})),n.d(t,"B",(function(){return se})),n.d(t,"C",(function(){return ze})),n.d(t,"D",(function(){return Ne})),n.d(t,"E",(function(){return Ie})),n.d(t,"F",(function(){return pe})),n.d(t,"G",(function(){return Ee})),n.d(t,"H",(function(){return x})),n.d(t,"I",(function(){return V})),n.d(t,"J",(function(){return F})),n.d(t,"K",(function(){return O})),n.d(t,"L",(function(){return Ze})),n.d(t,"M",(function(){return be})),n.d(t,"N",(function(){return Je})),n.d(t,"O",(function(){return Me})),n.d(t,"P",(function(){return Be})),n.d(t,"Q",(function(){return Ge})),n.d(t,"R",(function(){return De})),n.d(t,"S",(function(){return Se})),n.d(t,"T",(function(){return we})),n.d(t,"U",(function(){return ke})),n.d(t,"V",(function(){return _})),n.d(t,"W",(function(){return N})),n.d(t,"X",(function(){return We})),n.d(t,"Y",(function(){return ae})),n.d(t,"Z",(function(){return J})),n.d(t,"ab",(function(){return _e})),n.d(t,"bb",(function(){return K})),n.d(t,"cb",(function(){return G})),n.d(t,"db",(function(){return H})),n.d(t,"eb",(function(){return B})),n.d(t,"fb",(function(){return Z})),n.d(t,"gb",(function(){return je})),n.d(t,"hb",(function(){return Oe})),n.d(t,"ib",(function(){return Ke})),n.d(t,"jb",(function(){return Ve})),n.d(t,"kb",(function(){return xe})),n.d(t,"lb",(function(){return Ae})),n.d(t,"mb",(function(){return Ue})),n.d(t,"nb",(function(){return ee})),n.d(t,"ob",(function(){return Ye})),n.d(t,"pb",(function(){return He}));var l=n("LoAr"),r=n("WT9V"),a=n("QIIz"),o=n("s8WJ"),i=n("981U"),s=n("e5Hd"),u=n("D57K"),c=n("wgY5"),d=n("eXL1"),p=n("fQLH"),h=n("pN2L"),f=n("HnWI"),m=n("JpoA"),g=n("d9YI"),y=(n("gQst"),n("iUUs"),n("iJR/"),n("mUyW"),n("0cIN"),n("/VsW")),v=n("U3QC"),S=n("Jg5f"),R=n("IMYO"),C=n("4HYP"),b=n("W/Ou"),P=n("R+ki"),D=n("lqvn"),A=n("4S5C"),E=(n("QB3Q"),n("z5yO"),n("AouM"),n("mhnT"),n("/gsZ"),n("G2Mx"),n("GiBk")),T=n("etrl"),I=n("abkR"),L=n("wIp5"),O=function(){function e(e){this.parent=e}return Object.defineProperty(e.prototype,"controlValue",{get:function(){return this.parent?this.parent.control.get(this.ctosControlName).value:""},enumerable:!0,configurable:!0}),e}(),_=function(){function e(e){this.el=e,this.isSigned=!1,this.inputElement=e.nativeElement}return e.prototype.onKeyDown=function(e){-1!==[46,8,9,27,13,190,110].indexOf(e.keyCode)||65===e.keyCode&&!0===e.ctrlKey||67===e.keyCode&&!0===e.ctrlKey||86===e.keyCode&&!0===e.ctrlKey||88===e.keyCode&&!0===e.ctrlKey||65===e.keyCode&&!0===e.metaKey||67===e.keyCode&&!0===e.metaKey||86===e.keyCode&&!0===e.metaKey||88===e.keyCode&&!0===e.metaKey||e.keyCode>=35&&e.keyCode<=39||this.isSigned&&-1!==[189,109].indexOf(e.keyCode)||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()},e.prototype.onPaste=function(e){e.preventDefault();var t="^\\d*\\.{0,1}\\d+$";this.isSigned&&(t="^-?\\d*\\.{0,1}\\d+$");var n=e.clipboardData.getData("text/plain"),l="";new RegExp(t).test(n)&&(l=n),document.execCommand("insertText",!1,l)},e.prototype.onDrop=function(e){e.preventDefault();var t="^\\d*\\.{0,1}\\d+$";this.isSigned&&(t="^-?\\d*\\.{0,1}\\d+$");var n=e.dataTransfer.getData("text"),l="";new RegExp(t).test(n)&&(l=n),this.inputElement.focus(),document.execCommand("insertText",!1,l)},e.prototype.onChange=function(e){var t="^\\d*\\.{0,1}\\d+$";this.isSigned&&(t="^-?\\d*\\.{0,1}\\d+$");var n=e.target.value;new RegExp(t).test(n)||(this.inputElement.value="")},e}(),N=function(){function e(e){this.el=e,this.isSigned=!1,this.inputElement=e.nativeElement}return e.prototype.onKeyDown=function(e){-1!==[46,8,9,27,13].indexOf(e.keyCode)||65===e.keyCode&&!0===e.ctrlKey||67===e.keyCode&&!0===e.ctrlKey||86===e.keyCode&&!0===e.ctrlKey||88===e.keyCode&&!0===e.ctrlKey||65===e.keyCode&&!0===e.metaKey||67===e.keyCode&&!0===e.metaKey||86===e.keyCode&&!0===e.metaKey||88===e.keyCode&&!0===e.metaKey||e.keyCode>=35&&e.keyCode<=39||this.isSigned&&-1!==[189,109].indexOf(e.keyCode)||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()},e.prototype.onPaste=function(e){e.preventDefault();var t="^[0-9]+$";this.isSigned&&(t="^[+-]?[0-9]+$");var n=e.clipboardData.getData("text/plain"),l="";new RegExp(t).test(n)&&(l=n),document.execCommand("insertText",!1,l)},e.prototype.onDrop=function(e){e.preventDefault();var t="^[0-9]+$";this.isSigned&&(t="^[+-]?[0-9]+$");var n=e.dataTransfer.getData("text"),l="";new RegExp(t).test(n)&&(l=n),this.inputElement.focus(),document.execCommand("insertText",!1,l)},e.prototype.onChange=function(e){var t="^[0-9]+$";this.isSigned&&(t="^[+-]?[0-9]+$");var n=e.target.value;new RegExp(t).test(n)||(this.inputElement.value="")},e}(),M={RESULT_OK:"OK",RESULT_ERROR:"ERROR"},w={commandName:"GetTerms",category:{category:"terms"}},x={commandName:"GetTerms",category:{category:"application"}},F={commandName:"GetTerms",category:{category:"login"}},k="dv/StudyOptimizer",j=750,U=window.location.origin+"/dv/StudyOptimizer/dispatch",V=window.location.origin+"/dv/StudyOptimizer/loggingServlet",K=["MM-DD-YYYY","MM/DD/YYYY","YYYY-MM-DD","YYYY/MM/DD","DD-MMM-YYYY","DD/MMM/YYYY","DDMMMYYYY","YYYY-MMM-DD","YYYY/MMM/DD","MMM-DD-YYYY","MMM/DD/YYYY"],Y=c,G={parse:{dateInput:K},display:{dateInput:"DD-MMM-YYYY",monthYearLabel:"MMM-YYYY",dateA11yLabel:"DD-MMM-YYYY",monthYearA11yLabel:"MMM-YYYY"}},H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.__extends)(t,e),t.prototype.parse=function(e,t){return e&&"string"==typeof e?Y(e,t,!0):e?Y(e):null},t.prototype.sameDate=function(e,t){if(e&&t){var n=this.isValid(e),l=this.isValid(t);return n&&l?!this.compareDate(e,t):n===l}return null!==e&&null!==t&&e===t},t}(s.c);function B(e){return function(){return e.scrollStrategies.close()}}var q=function(){return function(){}}(),W=function(){function e(){}return e.prototype.validate=function(e){var t=e.parent.get(this.ctosConfirmEqualValidator);return t&&t.value!==e.value?{notEqual:!0}:null},e}(),$=c,z=function(){function e(){}return e.checkElementExistsInArray=function(e,t){if(null==e)throw new Error("arr should be defined");if(!(e instanceof Array))throw new Error("arr should be an array");if(null==t)throw new Error("element should be defined");return e.some((function(e){return e.key===t.key}))},e.extractPathFromUrl=function(e){if(null==e)throw new Error("url must be defined");if(!(e instanceof Array))throw new Error("url must be of type UrlSegment");return e.map((function(e){return e.path})).join("/")},e.getInitials=function(e,t){if(null==e)throw new Error("text should be defined");if("string"!=typeof e)throw new Error("text should be string");return e.split(t).map((function(e){return e.trim().charAt(0).toUpperCase()})).join("")},e.getNameInitials=function(e,t){if(null==e)throw new Error("name should be defined");if("string"!=typeof e)throw new Error("name should be string");var n=e.split(t),l=[];return n.length>0&&l.push(n[0].trim().charAt(0).toUpperCase()),n.length>1&&l.push(n[n.length-1].trim().charAt(0).toUpperCase()),l.join("")},e.generateUrl=function(e,t){var n=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/";return e&&(n+=e+"/"),t&&(n+=t+"/"),n+"index.html"},e.generateFlexUrl=function(e){var t="";return t+=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/",e&&(t+=e+"/"),t},e.dayDiff=function(e,t){var n=$(e);return $(t).diff(n,"days")},e.dateDiff=function(e,t,n,l){var r=$(e),a=$(t).diff(r,"d");return"d"===n?a:((a+1)/7).toFixed(l)},e.dateAdd=function(e,t){return $(e).add(t,"days")},e.dateSubstract=function(e,t){return $(e).subtract(t,"days")},e.dateFormatter=function(e){return $(e).format("YYYY-MM-DD")},e.formatDate=function(e,t){return void 0===t&&(t="YYYY-MM-DD"),$(e).format(t)},e.formatDateStrict=function(e,t,n){return void 0===t&&(t="DD-MMM-YYYY"),void 0===n&&(n=""),this.isDefined(e)?$(e).format(t):n},e.dateCompare=function(e,t){var n=e;return $(t).diff($(n),"days")>=0},e.isValidDate=function(e){if(""===e&&e)return!1;var t=e.match(/^(([1-9]|0[1-9]|1[0-9]|2[0-9]|3[0-1])(-)(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(-)((19|20)\d{2}))$/i);if(null==t)return!1;var n=parseInt(t[1],10),l=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"].indexOf(t[4].toUpperCase())+1,r=parseInt(t[6],10);if(isNaN(l))for(var a=4;a<=15;a++)if(t[a]){l=a-3;break}return!(l<1||l>12||n<1||n>31||(4===l||6===l||9===l||11===l)&&31===n||2===l&&(n>29||29===n&&(r%4!=0||r%100==0&&r%400!=0)))},e.isDefined=function(e,t){void 0===t&&(t=!1);var n=!1;return null!=e&&(n=!0,t?(e=parseFloat(e.toString().split(",").join("")),n=n&&!isNaN(e)&&isFinite(e)):n=n&&""!==e.toString().trim()),n},e.formatDecimal=function(e,t){var n=Object(r.formatNumber)(e,"en-US",t);return e=Number(n.split(",").join("")),isNaN(e)&&(e=null),e},e.stripNonnumbers=function(e){return e?e.replace(/[^0-9]/g,""):e},e.isValidNumber=function(e){return e&&"string"==typeof e&&(e=e.toString().trim()),!(!e&&0!==e||isNaN(e))},e.areArraysEqual=function(e,t){var n=!1;return e&&t&&(n=Object(u.__spread)(e).sort().join(",")===Object(u.__spread)(t).sort().join(",")),n},e.clearFormGroupValidators=function(e){if(e){for(var t in e.controls)if(e.get(t)){var n=e.get(t);n.clearValidators(),n.updateValueAndValidity(),n.controls&&this.clearFormGroupValidators(n)}e.clearValidators(),e.updateValueAndValidity()}},e.resetFormErrors=function(e){if(e){e.setErrors(null);var t=e;if(t&&t.controls&&Object.keys(t.controls).length>0)for(var n in t.controls)if(t.get(n)){var l=t.get(n);this.resetFormErrors(l)}}},e.calcuaterRatePerFrequency=function(e,t,n){return this.isDefined(e)&&0!==e?e:0},e.checkNotEmpty=function(e){return null!=e&&""!==e},e.dateFormatters=function(e){return this.isDefined(e)?$(e).format("YYYY-MM-DD"):""},e}(),J=function(){function e(){}return e.escapeHTML=function(e){if(null==e)throw new Error("text should be defined");if("string"!=typeof e)throw new Error("text should be a string");var t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};return e.replace(/[<>&"']/g,(function(e){return t[e]}))},e.interpolate=function(e,t){if(null==e)throw new Error("str should be defined");if("string"!=typeof e)throw new Error("str should be a string");if(null==t)throw new Error("args should be defined");if(!(t instanceof Array))throw new Error("args should be an array");return 0===t.length?e:e.replace(/(\{([0-9])\})/g,(function(e,n,l){return t[l]}))},e.camelize=function(e){if(null==e)throw new Error("s should be defined");var t=(e=e.toLowerCase()).split(" ");return(t=t.map((function(e){return e.replace(/(?:^|[-_])(\w)/g,(function(e,t){return t?t.toUpperCase():""}))}))).join(" ")},e.substitute=function(e,t){return e.replace(/(\{([0-9])\})/g,(function(e,n,l){return t[l]}))},e}(),X=function(){function e(e){this.activatedRoute=e,this.breadcrumbsSubject=new p.a,this.breadcrumbs$=this.breadcrumbsSubject.asObservable()}return e.prototype.setBreadCrumb=function(e){var t;e instanceof i.d&&(t=this.getBreadcrumbs(this.activatedRoute.root),this.breadcrumbsSubject.next(t))},e.prototype.getBreadcrumbs=function(e,t,n){var l,r;void 0===t&&(t=""),void 0===n&&(n=[]);var a=e.children;if(0===a.length)return n;try{for(var o=Object(u.__values)(a),s=o.next();!s.done;s=o.next()){var c=s.value;if(c.outlet===i.g){var d,p=z.extractPathFromUrl(c.snapshot.url);return t+="/"+p,d=c.snapshot.data.hasOwnProperty("breadcrumb")?c.snapshot.data.breadcrumb:J.camelize(p),n.push({label:d,params:c.snapshot.params,url:t}),this.getBreadcrumbs(c,t,n)}}}catch(h){l={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(l)throw l.error}}},e}(),Z=function(){function e(e){var t=this;this.breadcrumbsService=e,this.breadcrumbsService.breadcrumbs$.subscribe((function(e){t.breadcrumbs=e}))}return e.prototype.ngOnInit=function(){},e}(),Q=function(){function e(e,t){this.dialogRef=e,this.data=t,t.okLabel||(t.okLabel="Ok"),t.cancelLabel||(t.cancelLabel="Cancel")}return e.prototype.cancel=function(e){this.dialogRef.close({action:e})},e.prototype.ok=function(e){this.dialogRef.close({action:e})},e.prototype.showCancel=function(){var e=this.data;return!e||!e.hasOwnProperty("showCancel")||e.showCancel},e}(),ee=function(){function e(){this.fireEvent=new l.EventEmitter}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!0,configurable:!0}),e.prototype.menuClick=function(e){this.fireEvent.emit(e)},e}(),te=function(){function e(e,t){this.data=e,this.snackBarRef=t}return e.prototype.ngOnInit=function(){},e.prototype.close=function(){this.snackBarRef.dismiss()},e}(),ne={encrypt:"true",noencrypt:"false"},le={TermErrorKey:"TermErrorKey",TermLoginKey:"TermLoginKey",TermApplicationKey:"TermApplicationKey",TermKey:"TermKey",ServerKey:"ServerKey",UserDataKey:"UserDataKey",StudyDataKey:"StudyDataKey",StudyTagkey:"StudyTagKey",FilterDataKey:"FilterDataKey",GetAppDataKey:"GetAppDataKey",GetPlanListKey:"GetPlanListKey",GetStudyPlanKey:"GetStudyPlanKey",GetStudySummary:"GetStudySummaryKey",GetPlanList:"GetPlanListKey",updatePlantList:"updatePlanListKey",getSourceCohortList:"getSourceCohortList",getAllCohortList:"getAllCohortList",GetBriefPlanList:"GetBriefPlanList",GetPlanDetails:"getPlanDetails",GetFilterCountryData:"GetFilterCountryData",GetInterimAnalysisList:"GetInterimAnalysisList",GetStudyDetails:"getStudyDetails",GetStudyTags:"GetStudyTags",GetStudySettings:"getStudySettings",GetCohortDetails:"GetCohortDetails"},re={sticky:"Yes",nonsticky:"No"},ae={InMemory:"In-Memory",Session:"Session"},oe=function(){function e(e,t){this.encryptionService=e,this.config=t,this.maxAge=t.cacheMaxAge}return e.prototype.get=function(e,t){var n=this;return this.hasValidCachedValue(e)?this.isEncrypt?Object(h.a)(this.encryptionService.decrypt(sessionStorage.getItem(e))):Object(h.a)(JSON.parse(sessionStorage.getItem(e))):t&&t instanceof f.a?(console.log("%c Calling api for "+e,"color: purple"),t.pipe(Object(v.a)((function(t){n.set(e,t)})))):Object(m.a)("Requested key is not available in Cache")},e.prototype.set=function(e,t){if(this.isEncrypt){var n=this.encryptionService.encrypt(t);sessionStorage.setItem(e,n)}else sessionStorage.setItem(e,JSON.stringify(t))},e.prototype.call=function(e,t){if(e&&e instanceof f.a)return e.pipe(Object(v.a)((function(e){return e})))},e.prototype.remove=function(e){this.hasValidCachedValue(e)&&sessionStorage.removeItem(e)},e.prototype.hasValidCachedValue=function(e){return null!==sessionStorage.getItem(e)},e.prototype.keyExist=function(e){return Object(h.a)(this.hasValidCachedValue(e))},e.prototype.setCacheAge=function(e){void 0===e&&(e=0),this.maxAge=e},e.prototype.setEncryption=function(e){this.isEncrypt=e===ne.encrypt},e}(),ie=function(){function e(){}return e.prototype.createStore=function(e,t,n,l){switch(e){case ae.InMemory:return l;case ae.Session:return new oe(t,n);default:return null}},e}(),se=function(){function e(){}return e.prototype.setEncryption=function(e){this.encryption=e},e.prototype.setKey=function(e){this.key=e},e.prototype.encrypt=function(e,t){if(void 0===t&&(t=this.key),void 0===this.encryption||void 0===t)throw new Error("Encryption object or key not set");return this.encryption.encrypt(e,t)},e.prototype.decrypt=function(e,t){if(void 0===t&&(t=this.key),void 0===this.encryption||void 0===t)throw new Error("Encryption object or key not set");return this.encryption.decrypt(e,t)},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}(),ue=function(){function e(e){this.encryptionService=e}return Object.defineProperty(e.prototype,"encryptKey",{get:function(){return this.encryptionKey},set:function(e){this.encryptionKey=e,this.encryptionService.setKey(this.encryptionKey)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cacheMaxAge",{get:function(){return this.cacheAge},set:function(e){this.cacheAge=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encryptType",{get:function(){return this.encryptionType},set:function(e){this.encryptionType=e,this.encryptionService.setEncryption(this.encryptionType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dispatchUrl",{get:function(){return this.dispatchedUrl},set:function(e){this.dispatchedUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appUrl",{get:function(){return this.applicationUrl},set:function(e){this.applicationUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$loginUrl",{get:function(){return this.loginUrl},set:function(e){this.loginUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authUrl",{get:function(){return this._authUrl},set:function(e){this._authUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"soApiUrl",{get:function(){return this._soApiUrl},set:function(e){this._soApiUrl=e},enumerable:!0,configurable:!0}),e.prototype.setConfig=function(e){if(!e)throw new Error("Environment object is empty");if(!this.typeCheck(e))throw new Error("Invalid environment object");this.encryptKey=e.clientEncryptionKey,this.cacheMaxAge=e.cacheAge,this.encryptType=e.cryptoJS,this.appUrl=e.app_url,this.$loginUrl=e.login_url,this.authUrl=e.authUrl,this.soApiUrl=e.soApiUrl},e.prototype.typeCheck=function(e){return void 0!==e.clientEncryptionKey&&void 0!==e.cacheAge&&void 0!==e.cryptoJS&&void 0!==e.app_url&&void 0!==e.login_url},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(se))},token:e,providedIn:"root"}),e}(),ce=function(){function e(e){this.config=e,this.cache=new Map,this.inFlightObservables=new Map,this.maxAge=e.cacheMaxAge}return e.prototype.get=function(e,t){var n=this;return this.hasValidCachedValue(e)?Object(h.a)(this.cache.get(e).value):t&&t instanceof f.a?(console.log("%c Calling api for "+e,"color: purple"),t.pipe(Object(v.a)((function(t){n.set(e,t)})))):Object(m.a)("Requested key is not available in Cache")},e.prototype.set=function(e,t){this.cache.set(e,{value:t,expiry:0}),console.log("%c In Memory data","color: green"),console.log(this.cache)},e.prototype.has=function(e){return this.cache.has(e)},e.prototype.call=function(e){if(e&&e instanceof f.a)return e.pipe(Object(v.a)((function(e){return e})))},e.prototype.hasValidCachedValue=function(e){return!!this.cache.get(e)},e.prototype.notifyInFlightObservers=function(e,t){if(this.inFlightObservables.has(e)){var n=this.inFlightObservables.get(e);n.observers.length&&(console.log("%cNotifying "+n.observers.length+" flight subscribers for "+e,"color: Swap"),n.next(t)),n.complete(),this.inFlightObservables.delete(e)}},e.prototype.remove=function(e){var t=this;this.cache.has(e)?this.cache.delete(e):this.cache.forEach((function(n,l){l.search(e)&&t.cache.delete(l)})),console.log("%c In memory remove key "+e,"color:purple"),console.log("%c Current In Memory data","color: green"),console.log(this.cache)},e.prototype.setCacheAge=function(e){void 0===e&&(e=0),this.maxAge=e},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(ue))},token:e,providedIn:"root"}),e}(),de=function(){function e(e,t,n){this.encryptionService=e,this.config=t,this.inMemory=n,this.factory=null,this.factory=new ie}return e.prototype.get=function(e,t){return this.cachingStore.get(e,t)},e.prototype.set=function(e,t){this.cachingStore.set(e,t)},e.prototype.remove=function(e){this.cachingStore.remove(e)},e.prototype.call=function(e){return this.cachingStore.call(e)},e.prototype.keyExist=function(e){return this.cachingStore.keyExist(e)},e.prototype.setCachingStore=function(e,t,n){this.cachingStore=this.factory.createStore(e,this.encryptionService,this.config,this.inMemory),this.cachingStore.setCacheAge(n),e!==ae.InMemory&&this.cachingStore.setEncryption(t)},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(se),Object(l["ɵɵinject"])(ue),Object(l["ɵɵinject"])(ce))},token:e,providedIn:"root"}),e}(),pe={get:"get",post:"post",put:"put",delete:"delete",patch:"patch"},he=function(e){function t(t,n){var l=e.call(this,t)||this;return l.httpClient=t,l.configService=n,l}return Object(u.__extends)(t,e),t.prototype.postData=function(e,t){void 0===t&&(t=U);var n=new E.h({"Content-Type":"application/x-www-form-urlencoded"});return this.httpClient.post(t,"payload="+encodeURIComponent(e)+"&output=json",{headers:n,withCredentials:!0}).pipe(Object(R.a)(this.handleError("post",[])))},t.prototype.handleError=function(e,t){return void 0===e&&(e="operation"),function(n){return console.error(n),console.log(e+" failed: "+n.message),Object(h.a)(t)}},t.prototype.post=function(e,t,n,l){if(void 0===n&&(n=!0),!e)throw new Error("Command name can not be empty");return this.postData(t,l).pipe(Object(S.a)((function(l){if(!l.serviceResponse){console.log("Could not find serviceResponse object.Trying to parse response as XML string for xml request :: XMLRequest: %s",t);var r=!1,a="";try{var o=(new DOMParser).parseFromString(l,"text/xml");l=JSON.parse(window.xml2json(o,"","")),r=!0,console.log("Parse XML String",l)}catch(i){throw console.error("Response XML data parsing error ",i),a="Failed to parse response data!"+i,Error("Failed to parse response data!")}if(!r)return console.log(a),a}if(l.serviceResponse.result!==M.RESULT_OK&&l.serviceResponse.result)if(l.serviceResponse.result.toUpperCase()===M.RESULT_ERROR){if(n){var i={desc:l.serviceResponse.error.errorCode+" : "+l.serviceResponse.error.message,text:"------------------------------------------------------------------------\nError Stack for command **"+e+"**\n------------------------------------------------------------------------\n"+l.serviceResponse.error.stack};i=Object.assign({},i,l.serviceResponse.error),console.error("BaseConnection -> error",l.serviceResponse)}}else console.error("BaseConnection -> error2",l.serviceResponse);return l.serviceResponse})))},t.prototype.get=function(e,t){return this.httpClient.get(e,t)},t.prototype.sendData=function(e,t,n,l){if(void 0===l&&(l=!0),!e)throw new Error("Command name can not be empty");return this.sendRequestToServer(t,n).pipe(Object(S.a)((function(t){if(console.log(t),!t.serviceResponse){var n={status:200,message:"No content found or No records found"};throw console.error(n.message),n}return t.serviceResponse.result!==M.RESULT_OK&&t.serviceResponse.result&&(t.serviceResponse.result.toUpperCase()===M.RESULT_ERROR?l&&(n={desc:t.serviceResponse.error.errorCode+" : "+t.serviceResponse.error.message,text:"------------------------------------------------------------------------\nError Stack for command **"+e+"**\n------------------------------------------------------------------------\n"+t.serviceResponse.error.stack},n=Object.assign({},n,t.serviceResponse.error),console.error("BaseConnection -> error",t.serviceResponse)):console.error("BaseConnection -> error2",t.serviceResponse)),t.serviceResponse})))},t.prototype.getHttpOptions=function(e,t){var n={headers:e.headers,params:e.queryParams,withCredentials:!1};return t.prelogin||(n=Object(u.__assign)({},n,{withCredentials:!0})),n},t.prototype.getEndPointUrl=function(e){return e.isSSOEndPoint?this.configService.authUrl:this.configService.soApiUrl},t.prototype.sendRequestToServer=function(e,t){if(t.httpMethod||(t.httpMethod=pe.get),!t.url)throw new Error("Rest end point url can not be empty, please set Action Url.");var n=this.getHttpOptions(e,t),l=this.getEndPointUrl(t);if(!l)throw new Error("Rest end point url can not be empty.");switch(t.httpMethod){case pe.get:return this.getMethod(l,t,n);case pe.post:return this.postMethod(l,t,n,e.jsonRequest);case pe.put:return this.put(l,t,n,e.jsonRequest);case pe.delete:return this.delete(l,t,n,e.id);default:throw new Error("Http method not found!")}},t.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new t(Object(l["ɵɵinject"])(E.c),Object(l["ɵɵinject"])(ue))},token:t,providedIn:"root"}),t}(function(){function e(e){this.httpClient=e}return e.prototype.getMethod=function(e,t,n){var l=this;return this.httpClient.get(""+e+t.url,Object(u.__assign)({},n)).pipe(Object(S.a)((function(e){return l.handleResponse(e)})),Object(R.a)((function(e){return l.handleHttpError("get",e)})))},e.prototype.postMethod=function(e,t,n,l){var r=this;return this.httpClient.post(""+e+t.url,l,Object(u.__assign)({},n)).pipe(Object(S.a)((function(e){return r.handleResponse(e)})),Object(R.a)((function(e){return r.handleHttpError("post",e)})))},e.prototype.put=function(e,t,n,l){var r=this;return this.httpClient.put(""+e+t.url,l,Object(u.__assign)({},n)).pipe(Object(S.a)((function(e){return r.handleResponse(e)})),Object(R.a)((function(e){return r.handleHttpError("put",e)})))},e.prototype.delete=function(e,t,n,l){var r=this;return this.httpClient.delete(""+e+t.url+"/"+l,Object(u.__assign)({},n)).pipe(Object(S.a)((function(e){return r.handleResponse(e)})),Object(R.a)((function(e){return r.handleHttpError("delete",e)})))},e.prototype.handleResponse=function(e){return e.body?e.body:e||{}},e.prototype.handleHttpError=function(e,t){return void 0===e&&(e="operation"),t instanceof E.f?navigator.onLine||console.log("No Internet Connection"):t.message||t.toString(),console.log(e+" failed: "+t.message),Promise.reject(t)},e}()),fe=function(){function e(e,t){this.cacheStoreManagerService=e,this.dataService=t}return e.prototype.get=function(e){var t=this;return e.cacheKey?(e.storeType=e.cacheType===re.nonsticky?ae.InMemory:e.storeType,this.cacheStoreManagerService.setCachingStore(e.storeType,e.encryption),!0===e.isSelf&&this.clearDependencies(e.dependencyList),this.cacheStoreManagerService.get(e.cacheKey,this.dataService.post(e.cmdName,e.xmlRequest,e.reportError,e.url)).pipe(Object(v.a)((function(){!1===e.isSelf&&t.clearDependencies(e.dependencyList)})))):this.dataService.post(e.cmdName,e.xmlRequest,e.reportError,e.url).pipe(Object(v.a)((function(){t.cacheStoreManagerService.setCachingStore(e.storeType),t.clearDependencies(e.dependencyList)})))},e.prototype.setDependencies=function(e,t){var n=this;return t.cacheKey?(t.storeType=t.cacheType===re.nonsticky?ae.InMemory:t.storeType,this.cacheStoreManagerService.setCachingStore(t.storeType,t.encryption),!0===t.isSelf&&this.clearDependencies(t.dependencyList),this.cacheStoreManagerService.get(t.cacheKey,this.dataService.sendData(t.cmdName,e,t,t.reportError)).pipe(Object(v.a)((function(){!1===t.isSelf&&n.clearDependencies(t.dependencyList)})))):this.dataService.sendData(t.cmdName,e,t,t.reportError).pipe(Object(v.a)((function(){n.cacheStoreManagerService.setCachingStore(t.storeType),n.clearDependencies(t.dependencyList)})))},e.prototype.clearDependencies=function(e){var t=this;e&&e.length>0&&e.map((function(e){t.cacheStoreManagerService.remove(e)}))},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(de),Object(l["ɵɵinject"])(he))},token:e,providedIn:"root"}),e}(),me=function(){function e(e){this.dependencyManagerService=e}return e.prototype.sendRequest=function(e,t){if(!e)throw new Error("PayloadObj can not be undefined or empty");var n;n="string"==typeof e?e:e.xmlRequest,console.warn("BaseConnection ->sendRequest [DEPRECATED]: Directly passing XMLRequest as string is no longer supported!  XMLRequest :: ",n);var l=n.match(/<command name=\"(\w+)\"/i)[1];return t||(t={}),(t=this.setDefault(t)).xmlRequest||(t.xmlRequest=n),t.cmdName||(t.cmdName=l),this.dependencyManagerService.get(t).pipe(Object(S.a)((function(e){return e})))},e.prototype.send=function(e,t){if(!e)throw new Error("PayloadObj can not be undefined or empty");console.warn("BaseConnection ->sendRequest:",e.jsonRequest);var n=e.command;return(t=this.setDefault(t=t||{})).cmdName||(t.cmdName=n),this.dependencyManagerService.setDependencies(e,t).pipe(Object(S.a)((function(e){return e})))},e.prototype.setDefault=function(e){return e.url||(e.url=U),null==e.reportError&&(e.reportError=!0),e.cacheType||(e.cacheType=re.nonsticky),e.storeType||(e.storeType=ae.InMemory),e.encryption||(e.encryption=ne.noencrypt),null==e.isSelf&&(e.isSelf=!1),e.isSSOEndPoint||(e.isSSOEndPoint=!1),e.prelogin||(e.prelogin=!1),e},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(fe))},token:e,providedIn:"root"}),e}(),ge=function(){return function(e,t,n){this.command=e,this.params=t,this.xmlRequest=n}}(),ye=function(){function e(e,t,n,l,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===l&&(l=null),this.command=e,this.queryParams=t,this.headers=n,this.moduleInfo=l,this.jsonRequest=r,this.command=e,this.queryParams=this.getQueryParams(t),this.headers=this.getHeaders(n),this.moduleInfo=l,this.jsonRequest=this.getJSONReq(r)}return e.prototype.getHeaders=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t["Content-Type"]="application/json; charset=utf-8",t.localTime=(new Date).toString(),t.tenantID="tenant1",this.command&&(t.command=this.command),this.moduleInfo&&(this.moduleInfo.moduleName&&(t.module=this.moduleInfo.moduleName),this.moduleInfo.pageName&&(t.page=this.moduleInfo.pageName),this.moduleInfo.studykey&&(t.studykey=this.moduleInfo.studykey.toString()),this.moduleInfo.plankey&&(t.plankey=this.moduleInfo.plankey.toString())),new E.h(t)},e.prototype.getQueryParams=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new E.i({fromObject:t})},e.prototype.getJSONReq=function(e){try{return e?JSON.stringify(e):null}catch(t){throw console.error("JSON stringify error",t),new Error("APIPayload: Error passing request object to JSON string")}},e}(),ve=function(){function e(){}return e.prototype.getXMLTag=function(e){if("object"!=typeof e)return"string"==typeof e&&(e=J.escapeHTML(e)),e;var t="";for(var n in e)if(e.hasOwnProperty(n)){if("[object Array]"!==Object.prototype.toString.call(e)&&"params"!==n&&"value"!==n){if(t+="<"+n,e[n]&&void 0!==e[n].params)for(var l in e[n].params)l&&(t+=" "+l+'="'+e[n].params[l]+'"');t+=">"}"params"!==n&&(t+=this.getXMLTag(e[n])),"[object Array]"!==Object.prototype.toString.call(e)&&"params"!==n&&"value"!==n&&(t+="</"+n+">")}return t},e.prototype.buildRequest=function(e,t,n,l,r){void 0===t&&(t={}),void 0===n&&(n=null),void 0===l&&(l=null),void 0===r&&(r=null);var a,o='<serviceRequest xmlns="http://www.coprindm.com">';if(o+='<command name="'+e+'">',null!==t)for(a in t)a&&(o+='<parameter name="'+a+'">'+("string"==typeof t[a]?J.escapeHTML(t[a]):t[a])+"</parameter>");if(null!=l&&(o+=this.getXMLTag(l)),o+="</command>",o+="<userAction>",r&&(r.moduleName&&(o+="<module>"+r.moduleName+"</module>"),r.pageName&&(o+="<page>"+r.pageName+"</page>"),r.studykey&&(o+="<studykey>"+r.studykey+"</studykey>")),o+="<localTime>"+(new Date).toString()+"</localTime>",o+="</userAction>",null!==n)for(a in n)a&&(o+="<"+a+">"+n[a]+"</"+a+">");return new ge(e,t,o+="</serviceRequest>")},e.prototype.buildAPIRequest=function(e,t,n,l,r){return void 0===t&&(t={}),void 0===n&&(n=null),void 0===l&&(l=null),void 0===r&&(r=null),new ye(e,t,r)},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Se=function(){function e(e){this.basePayloadCommand=e}return e.prototype.getCommandDetails=function(e,t,n,l,r){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===l&&(l=null),void 0===r&&(r=null),!e)throw new Error("Command name can not be empty");return this.basePayloadCommand.buildRequest(e,t,n,l,r)},e.prototype.getApiRequest=function(e,t,n,l,r){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===l&&(l=null),!e)throw new Error("Command name can not be empty");return new ye(e,t,n,l,r)},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(ve))},token:e,providedIn:"root"}),e}(),Re={LOGIN:"login",LOGOUT:"logout",USER_DATA:"user/data",STUDY_TAGS:"study/tags",STUDY_TAGS_LIST:"study/tagsList",BASE_TERMS:"prelogin/terms",APP_DATA:"prelogin/appdata",SERVER_STATUS:"prelogin/serverstatus",USER_PREFERENCE:"user/preference",STUDY_DETAILS:"study/details",STUDY_SETTINGS:"study/settings",COHORT_DETAILS:"cohorts/details",STUDY_SUMMARY:"study/summary",FILTER_COUNTRY_DATA:"filter/countrydata",UPDATE_COUNTRY_NOTES:"study/country/notes",GETALLCURVES:"study/all-curves",GETALLMILESTONES:"getAllMileStones"},Ce=function(){function e(e,t){this.baseConnectionService=e,this.payloadCommandService=t,this.appResources=null,this.appPropertyList={},this._commonTerms=null}return e.prototype.loadData=function(e,t){if(!e)throw new Error("Params can not be empty or undefined in base term servie");if(!this.typeCheck(e))throw new Error("Invalid params object");var n=this,l=this.payloadCommandService.getCommandDetails(e.commandName,e.category),r={};return(r=Object.assign({},t)).cacheKey=le.TermKey,n.baseConnectionService.sendRequest(l,r).pipe(Object(S.a)((function(e){return e})),Object(C.a)((function(r){if(r.terminologies.term)return n._commonTerms=[],Object.assign(n._commonTerms,r.terminologies),l=n.payloadCommandService.getCommandDetails(e.commandName,e.category),t||(t={}),n.baseConnectionService.sendRequest(l,t).pipe(Object(S.a)((function(e){if(e.terminologies)return e.terminologies})))})))},e.prototype.load=function(e,t){if(!e)throw new Error("Params can not be empty or undefined in base term servie");if(!this.typeCheck(e))throw new Error("Invalid params object");var n;return t||(t={}),t.endPoint?(n=this.payloadCommandService.getApiRequest(e.commandName,e.category),this.baseConnectionService.send(n,t).pipe(Object(S.a)((function(e){if(e.terminologies)return e.terminologies})))):(n=this.payloadCommandService.getCommandDetails(e.commandName,e.category),this.baseConnectionService.sendRequest(n,t).pipe(Object(S.a)((function(e){if(e.terminologies)return e.terminologies}))))},e.prototype.resolveValue=function(e){if(e){var t=this._commonTerms.term;return e.toString().replace(/!(.*?)!/g,(function(e,n){var l=t.find((function(e){return e.name===n}));return l?l.value:e}))}},e.prototype.getTerm=function(e,t){if(!e)throw Error("term param can not be empty or undefined in base term servie");if(!this.typeCheck(e))throw Error("Invalid params object");var n,l=this;return(t=t||{}).storeType=ae.Session,t.cacheType=re.sticky,t.encryption=ne.encrypt,t.cmdName="",t.xmlRequest="",t.cacheKey=le.TermKey,t.endPoint&&(t.url=Re.BASE_TERMS),t.endPoint?(n=this.payloadCommandService.getApiRequest(e.commandName,e.category),l.baseConnectionService.send(n,t).pipe(Object(S.a)((function(e){var t=null;return e.terminologies&&e.terminologies.term&&(l._commonTerms=[],Object.assign(l._commonTerms,e.terminologies),t=e.terminologies),t})))):(n=this.payloadCommandService.getCommandDetails(e.commandName,e.category),l.baseConnectionService.sendRequest(n,t).pipe(Object(S.a)((function(e){var t=null;return e.terminologies&&e.terminologies.term&&(l._commonTerms=[],Object.assign(l._commonTerms,e.terminologies),t=e.terminologies),t}))))},e.prototype.setPropertyBaseList=function(){if(this.appResources)for(var e=this.appResources.term.length,t=0;t<e;t++)this.appPropertyList[this.appResources.term[t].name]=this.appResources.term[t].value},e.prototype.typeCheck=function(e){return void 0!==e.category&&void 0!==e.commandName},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(me),Object(l["ɵɵinject"])(Se))},token:e,providedIn:"root"}),e}(),be=function(){function e(e){this.baseTermsService=e,this.appResources=null,this.appPropertyList={}}return e.prototype.getAppResources=function(e,t){(t=t||{}).cacheKey=le.TermApplicationKey,t.storeType=ae.Session,t.cacheType=re.sticky,t.encryption=ne.encrypt,t.cmdName="",t.xmlRequest="",t.endPoint&&(t.url=Re.BASE_TERMS);var n=this;return null===n.appResources?this.baseTermsService.load(e,t).pipe(Object(S.a)((function(e){return n.appResources=e,n.setPropertyBaseList(),e}))):Object(h.a)(n.appResources)},e.prototype.setPropertyBaseList=function(){if(this.appResources)for(var e=this.appResources.term.length,t=0;t<e;t++)this.appPropertyList[this.appResources.term[t].name]=this.appResources.term[t].value},e.prototype.getResource=function(e){var t="";return this.appPropertyList&&(t=this.baseTermsService.resolveValue(this.appPropertyList[e])),t},e.prototype.getRes=function(e){var t={};if(this.appResources)for(var n=0,l=this.appResources.term.length;n<l;n++)for(var r=0;r<e.length;r++)this.appResources.term[n].name===e[r]&&(t[""+this.appResources.term[n].name]=this.baseTermsService.resolveValue(this.appResources.term[n].value));return t},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(Ce))},token:e,providedIn:"root"}),e}(),Pe=function(){var e={FIRST:0,SECOND:1,THIRD:2,FOURTH:3};return e[e.FIRST]="FIRST",e[e.SECOND]="SECOND",e[e.THIRD]="THIRD",e[e.FOURTH]="FOURTH",e}(),De=function(){function e(e,t){this.datePipe=e,this.localAppResource=t,this.exportObj={}}return e.prototype.setDataForCopy=function(e){var t=this.jsonfyPlanCardHeaderData(this.header),n=this.convertArrayToString(t,!0);n+=this.convertArrayToString(e),n+=this.appendFooter(n),this.setTextToCopy(n)},e.prototype.jsonfyPlanCardHeaderData=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({A:n,B:e[n]});return t},e.prototype.planCardHeaderData=function(e){e&&(this.header=e)},e.prototype.convertArrayToString=function(e,t){void 0===t&&(t=!1);var n="";t||(n+=this.setRowHeader(e[0]));for(var l=0;l<e.length;l++){for(var r in e[l])e[l].hasOwnProperty(r)&&(n+='"'+e[l][r]+'"\t');n+="\r\n"}return n+"\r\n"},e.prototype.setRowHeader=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+='"'+n+'"\t');return t+"\n"},e.prototype.appendFooter=function(e){return"\r\n"+this.getFooter()},e.prototype.getFooter=function(){return this.localAppResource.getResource("FooterForReports")},e.prototype.setTextToCopy=function(e){var t,n=!1,l=document.createElement("textarea");l.style.position="fixed",l.style.top="0px",l.style.left="-99999px",l.setAttribute("readonly",""),l.value=e,document.body.appendChild(l),l.select(),l.focus(),l.setSelectionRange(0,l.value.length);try{if(t=window.document.execCommand("copy"),n=!0,console.warn("copy success status:",t),!t)throw t}catch(r){n=!1}return document.body.removeChild(l),l=null,n},e.prototype.exportData=function(e){e.length>0&&Promise.all([e[Pe.FIRST].workbookOptions(),e[Pe.SECOND].workbookOptions(),e[Pe.THIRD].workbookOptions()]).then((function(t){t[Pe.FIRST].sheets[Pe.FIRST].rows=t[Pe.FIRST].sheets[Pe.FIRST].rows.concat([{}],t[Pe.SECOND].sheets[Pe.FIRST].rows,t[Pe.THIRD].sheets[Pe.FIRST].rows),e[Pe.FIRST].save(t[Pe.FIRST])}))},e.prototype.exportExcelData=function(e,t){var n=this.header,l=this.jsonfyPlanCardHeaderData(n),r=[],a=this.getFooter();r.push({" ":a});var o=y.utils.json_to_sheet(l,{skipHeader:!0}),i=y.utils.book_new(),s=Object.keys(n).length+2;y.utils.sheet_add_json(o,e,{origin:"A"+s}),y.utils.sheet_add_json(o,r,{skipHeader:!0,origin:-1}),y.utils.book_append_sheet(i,o,"Sheet1"),Object(y.writeFile)(i,t)},e.prototype.setDataForPrint=function(e){var t=this.createDataTableForPrint(e),n=this.getPlanCardHeaderForPrint("10px")+t+this.getPlanCardFooterForPrint("10px");this.doPrintFrame(n)},e.prototype.execPCECommand=function(e,t,n){switch(e.action){case"ExportGraph":return this.exportGraph(e,t,n);case"PrintGraph":return this.printGraph(e);case"CopyGraph":return this.copyGraph(e,n);case"copyCohortData":return this.copyCohort(e)}return g.a},e.prototype.copyGraph=function(e,t){var n=this;return new f.a((function(l){if("copy"===t){var r=n.jsonfyPlanCardHeaderData(e.header),a=n.convertArrayToString(r,!0);a+="Milestones\t\r\n\r\n",r=n.jsonfyPlanCardHeaderData(e.metaData.milestone),a+=n.convertArrayToString(r,!0),a+="Chart Data:\t\r\n\r\n",a+=n.convertArrayToString(e.metaData.curve),a+=n.appendFooter(a),n.setTextToCopy(a),e.copyString=a,l.next(e)}}))},e.prototype.copyCohort=function(e){var t=this;return new f.a((function(n){var l=t.jsonfyPlanCardHeaderData(e.header),r=t.convertArrayToString(l,!0);e.metaData.cohortData.length>0&&(r+="Cohort\t\r\n\r\n",r+=t.convertArrayToString(e.metaData.cohortData)),e.metaData.dependencyData.length>0&&(r+="Dependency\t\r\n\r\n",r+=t.convertArrayToString(e.metaData.dependencyData)),r+=t.appendFooter(r),t.setTextToCopy(r),n.next(e)}))},e.prototype.printGraph=function(e){var t=this;return new f.a((function(n){html2canvas(e.domElement).then((function(l){var r='<img src="'+l.toDataURL()+'">',a=t.getHeaderAsHtmlStr(e.header)+r+t.getPlanCardFooterForPrint("10px");t.doPrintFrame(a),n.next(e)}))}))},e.prototype.exportGraph=function(e,t,n){var l=this;return new f.a((function(t){html2canvas(e.domElement).then((function(r){var a="<div >";a+=l.getHeaderAsHtmlStr(e.header),a+='<div><img src="'+r.toDataURL()+'"></div>',a+=l.getPlanCardFooterForPrint("10px"),a+="</div>";var o=document.createElement("div");o.setAttribute("id","dummyexportDiv"),o.innerHTML=a,console.log("html2canvas",a),o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.zIndex="-1",o.style.backgroundColor="white",o.style.padding="45px",document.body.appendChild(o),html2canvas(o).then((function(a){console.log(r.toDataURL()),l.downloadCanvas(a,"png",n,l.save),t.next(e)}))}))}))},e.prototype.downloadCanvas=function(e,t,n,l){e.toBlob((function(e){var t=Math.round(e[length]/1024)+" KB";l&&l(e,t,n)}))},e.prototype.save=function(e,t,n){Object(T.saveAs)(e,n+".png");var l=document.getElementById("dummyexportDiv");l.parentNode.removeChild(l)},e.prototype.createDataTableForPrint=function(e){var t='<div style="margin-top:20px;"><table>';t+=this.createHeaderForPrint(e[0]),t+="<tbody>";for(var n=0;n<e.length;n++){for(var l in t+="<tr>",e[n])e[n].hasOwnProperty(l)&&(t+="<td>"+e[n][l]+"</td>");t+="</tr>"}return t+"</tbody></table></div>"},e.prototype.createHeaderForPrint=function(e){var t="<thead><tr>";for(var n in e)e.hasOwnProperty(n)&&(t+="<th>"+n+"</th>");return t+"</tr></thead>"},e.prototype.getHeaderAsHtmlStr=function(e){var t='<div class="header" style="font: 11pt sans-serif;color:"#000" font-size:${fntz}"><table>';for(var n in e)e.hasOwnProperty(n)&&(t+="<tr>  <td> "+n+"</td><td>"+e[n]+"</td></tr>");return t+"</table></div>"},e.prototype.getPlanCardHeaderForPrint=function(e){var t=this.header;console.log(t);var n="";for(var l in t)t.hasOwnProperty(l)&&(n+="<tr><td>"+l+"</td> <td>"+t[l]+"</td></tr>");return'<div class="header" style="font: 11pt sans-serif; font-size:${fntz}"><table>'+n+"</table></div>"},e.prototype.getPlanCardFooterForPrint=function(e){var t=this.getFooter();return'<div style="text-align:center; font-size: 14px"><p><strong> '+(t=t.replace("<Organization Name>","&lt;Organization Name&gt;"))+" </strong></p></div>"},e.prototype.doPrintFrame=function(e){var t=window.navigator.userAgent.indexOf("MSIE");t>0||navigator.userAgent.match(/Trident.*rv\:11\./)?e+=this.appendStyleForTable(!0):e+=this.appendStyleForTable(!1),e+=this.appendStyleForTable();var n=document.createElement("iframe");n.name="frame1",n.style.position="absolute",n.style.top="-1000000px",document.body.appendChild(n);var l=n.contentWindow?n.contentWindow:n.contentDocument.document?n.contentDocument.document:n.contentDocument;l.document.open(),l.document.write(e),l.document.close(),window.setTimeout((function(){t>0||navigator.userAgent.match(/Trident.*rv\:11\./)?n.contentWindow.document.execCommand("print",!1,null)||window.frames.frame1.contentWindow.print():n.contentWindow.print()}),1e3)},e.prototype.appendStyleForTable=function(e){return e?"<style> @page {margin:1.5cm 0.4cm;} @media all { table,th,td{ border: 1px solid black; border-collapse: collapse  } .header td{width:50%;}table{ page-break-after: auto; width:100%; margin-top:10px;font-size:0.386vw;counter-reset: page 1;}tr {page-break-inside: avoid;page-break-after: always}td {padding:1px; white-space:wrap; max-width:10px; width:10px;word-wrap:break-word; }td:first-child{max-width:30px; width:30px;} th{ width:10px; word-wrap: break-word;} table { page-break-inside: auto}tr { page-break-inside: auto;page-break-after: auto}thead {display: table-header-group}tfoot {display: table-footer-group} } </style>":"<style>@media all and (-webkit-min-device-pixel-ratio:0) { table,th,td{ border: 1px solid black; border-collapse: collapse  } .header td{width:50%;} table{ page-break-after: auto; width:100%; margin-top:10px;font-size:0.8vw;} tr{page-break-inside: avoid;page-break-after: auto} td:not(:first-child){padding:1px; white-space: nowrap; } table{ page-break-inside: auto} tr{ page-break-inside: auto;page-break-after: auto} thead{display: table-header-group} tfoot{display: table-footer-group} </style>"},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(r.DatePipe),Object(l["ɵɵinject"])(be))},token:e,providedIn:"root"}),e}(),Ae=function(){function e(e){this.pceService=e,this.headerCells={background:"#ffffff",color:"#ffffff"},this.cellAlignment={textAlign:"left"},this.count=0}return e.prototype.ngOnChanges=function(e){this.count=this.count+1,this.startExport&&this.count>1&&(e.exportToExcelObj.currentValue.data&&(this.excelexportdata.data=e.exportToExcelObj.currentValue.data),this.pceService.exportData([this.excelexportheader,this.excelexportdata,this.excelexportfooter]))},e.prototype.ngAfterViewInit=function(){this.startExport&&this.pceService.exportData([this.excelexportheader,this.excelexportdata,this.excelexportfooter])},e}(),Ee=function(){function e(e){this.route=e}return e.prototype.ngOnInit=function(){this.message=this.route.snapshot.data["info-message"]},e.prototype.ngOnDestroy=function(){this.message=null},e}(),Te=function(){function e(){}return e.getWindow=function(){return window},e}(),Ie={NEW_PLANS_TAB_VIEW:8007,PLAN_PROPERTIES_VIEW:8008,PLAN_DESIGN_VIEW:8009,COUNTRIES_VIEW:8010,RATE_ADJUSTMENTS_VIEW:8011,REPORTS_VIEW:8012,PERCENT_SI_VIEW:8014,CUSTOM_SI_VIEW:8015,STUDY_ENROLLMENT_OVERVIEW_VIEW:8016,STUDY_MILESTONES_VIEW:8017,STUDY_REPORTS_VIEW:8018,SITE_ENROLLMENT_DETAILS:7e3,SITE_SCORECARD:7002,SITE_DATA_MANAGMENT:7003,COUNTRY_PERFORMANCE_VIEW:6e3,COHORT_PERFORMANCE_VIEW:6e3,COHORT_PERFORMANCE_CHART:6e3},Le=window.location.origin+"/dv/StudyOptimizer/hostedhelp",Oe=function(){function e(e,t,n){this.route=e,this.payloadCommandService=t,this.baseConnectionService=n}return e.prototype.openHelp=function(){var e=Te.getWindow(),t=this.route;if(t){for(;t.firstChild;)t=t.firstChild;var n=this.payloadCommandService.getCommandDetails("HostedHelp",{pagecontext:t.snapshot&&t.snapshot.data&&t.snapshot.data.helpId?t.snapshot.data.helpId:8007},null,null,{moduleName:"NEWPLANTAB"});this.baseConnectionService.sendRequest(n,{url:Le}).pipe(Object(S.a)((function(e){return e.result===M.RESULT_OK?e.helpUrl:null}))).subscribe((function(t){t&&e.open(t,"_blank","width=1100,height=500")}))}},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(i.a),Object(l["ɵɵinject"])(Se),Object(l["ɵɵinject"])(me))},token:e,providedIn:"root"}),e}(),_e=function(){function e(e,t,n){this.name=e,this.items=t,this.nameSeparator=n}return Object.defineProperty(e.prototype,"$name",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$items",{get:function(){return this.items},set:function(e){this.items=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$nameSeparator",{get:function(){return this.nameSeparator},set:function(e){this.nameSeparator=e},enumerable:!0,configurable:!0}),e}(),Ne=function(){function e(){this.errorTerminologies=null,this.errorCodeBase={}}return e.prototype.createErrorCodeBase=function(e){this.errorTerminologies=e;for(var t=this.errorTerminologies.term.length,n=0;n<t;n++)this.errorCodeBase[this.errorTerminologies.term[n].name]=this.errorTerminologies.term[n].value},e.prototype.getErrorMessage=function(e){return isNaN(e)?this.errorCodeBase[e]:this.errorCodeBase["E"+e]},e.prototype.consolidateValidationErrors=function(e,t,n){var l=this,r="";if(e){var a=[];Object.keys(e).forEach((function(t){var n=l.getErrorMessage(t);n||("max"===t?n=l.getErrorMessage("maxNumExceedError")+" "+e.max.max+".":"min"===t?n=l.getErrorMessage("minNumExceedError")+" "+e.min.min+".":"matDatepickerParse"===t?n=l.getErrorMessage("DateFormatIncorrect"):"daysToSIAfterARTB"===t?n=l.getErrorMessage("SIDateError"):"FSIRequiredForFSS"===t?n=l.getErrorMessage("NonEmptyField"):"required"===t?n=l.getErrorMessage("NonEmptyField"):"ARTB_LT_EQ_FSI"===t?n=J.interpolate(l.getErrorMessage("ARTblteqFSI"),[z.formatDateStrict(e.ARTB_LT_EQ_FSI.ARTB_LT_EQ_FSI)]):"ARTB__LT_EQ_FSS"===t?n=J.interpolate(l.getErrorMessage("ARTblteqFSS"),[z.formatDateStrict(e.ARTB__LT_EQ_FSS.ARTB__LT_EQ_FSS)]):"FSI_GT_TLSS"===t?n=J.interpolate(l.getErrorMessage("FSIgtTLSS"),[z.formatDateStrict(e.FSI_GT_TLSS.FSI_GT_TLSS)]):"FSILT_ERROR"===t?n=J.interpolate(l.getErrorMessage("FSILTError"),[z.formatDateStrict(e.FSILT_ERROR.FSILT_ERROR)]):"DEPENDENCY_ERROR"===t&&(n=J.interpolate(l.getErrorMessage("dependencyError"),[z.formatDateStrict(e.DEPENDENCY_ERROR.DEPENDENCY_ERROR)]))),a.push(n)})),r=a.join("\n")}return r},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Me=function(){function e(e,t){this.payloadCommandService=e,this.baseConnectionService=t}return e.prototype.logout=function(){var e=this.payloadCommandService.getApiRequest("Logout",null,null,null),t={};return t.url=Re.LOGOUT,t.isSSOEndPoint=!0,t.httpMethod=pe.get,t.prelogin=!1,this.baseConnectionService.send(e,t).pipe(Object(S.a)((function(e){return e.result===M.RESULT_OK&&sessionStorage.clear(),e})))},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(Se),Object(l["ɵɵinject"])(me))},token:e,providedIn:"root"}),e}(),we=function(){function e(e,t){this.payloadCommandService=e,this.baseConnectionService=t}return e.prototype.changeCurrUserPassword=function(e,t){var n=this.payloadCommandService.getCommandDetails("changeCurrUserPassword",e,null,null,{moduleName:"NEWPLANTAB"});return this.baseConnectionService.sendRequest(n).pipe(Object(S.a)((function(e){return e})))},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(Se),Object(l["ɵɵinject"])(me))},token:e,providedIn:"root"}),e}(),xe=function(){function e(e,t,n,l){this.dialogRef=e,this.data=t,this.resetPasswordService=n,this.errorTermsStoreService=l,this.validationMessage="",this.showSuccessMessage=!1,this.showError=!1,t.okLabel||(t.okLabel="Ok"),t.cancelLabel||(t.cancelLabel="Cancel")}return e.prototype.ngOnInit=function(){this.getPasswordRulesList()},e.prototype.cancel=function(e){this.dialogRef.close()},e.prototype.ok=function(e,t){t.valid&&this.changePassword({currentPassword:t.value.currentPassword,newPassword:t.value.newPassword})},e.prototype.changePassword=function(e){var t=this;this.resetPasswordService.changeCurrUserPassword(e).subscribe((function(e){"OK"!==e.result?t.validationMessage=t.errorTermsStoreService.getErrorMessage(e.error.errorCode):t.dialogRef.close({data:e})}))},e.prototype.hideSuccessMessage=function(){this.showSuccessMessage=!1,this.validationMessage=""},e.prototype.getPasswordRulesList=function(){this.data.lengthRule=this.data.lengthRule;var e=this.data.mixCharRule.split("\n");this.mixruleSplitHeader=e[0],this.mixruleSplit=e.splice(1,e.length-1)},e}(),Fe=function(){function e(e,t){this.localeAppResourcesService=e,this.dialog=t}return Object.defineProperty(e.prototype,"isStatusChanged",{get:function(){return void 0!==this._isStatusChanged&&this._isStatusChanged},set:function(e){this._isStatusChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedStudyKey",{get:function(){return this._selectedStudyKey},set:function(e){this._selectedStudyKey=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isProceed",{get:function(){return this._isProceed},set:function(e){this._isProceed=e},enumerable:!0,configurable:!0}),e.prototype.confirm=function(){var e=this,t=!1;return this.showUnsavedDataConfirmation().afterClosed().pipe(Object(S.a)((function(n){var l=n;return l&&l.action===e.getConfirmProp().okLabel?t=!0:l&&l.action===e.getConfirmProp().cancelLabel&&(t=!1),t})))},e.prototype.showUnsavedDataConfirmation=function(e){return e=e||this.getConfirmProp(),this.dialog.open(Q,{width:"310px",data:e,panelClass:"delete-plan-confirmation-dialog",id:"warnDataLossOnNavDialog"})},e.prototype.getConfirmProp=function(){return{heading:this.localeAppResourcesService.getResource("unsavedTitle"),message:this.localeAppResourcesService.getResource("unsavedMessage"),okLabel:this.localeAppResourcesService.getResource("OkLabel"),cancelLabel:this.localeAppResourcesService.getResource("CancelLabel")}},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(be),Object(l["ɵɵinject"])(o.e))},token:e,providedIn:"root"}),e}(),ke=function(){function e(e,t){this.payloadCommandService=e,this.baseConnectionService=t,this.serverStatus=null}return e.prototype.getServerStatus=function(e,t){if(!e)throw new Error("server Info can not be empty or undefined");if(!this.typeCheck(e))throw new Error("Invalid server Info object");(t=t||{}).cacheType=re.sticky,t.storeType=ae.Session,t.cacheKey=le.ServerKey,t.reportError=!1,t.encryption=ne.encrypt,t.cmdName="",t.xmlRequest="";var n={moduleName:"NEWPLANTAB"};t.endPoint&&(t.url=Re.SERVER_STATUS);var l,r=this;return t.endPoint?(l=r.payloadCommandService.getApiRequest("getServerStatus",e,{jsonRequest:"true"},n),r.baseConnectionService.send(l,t).pipe(Object(S.a)((function(e){return r.serverStatus=e,r.serverStatus})))):(l=r.payloadCommandService.getCommandDetails("getServerStatus",e,null,null,n),r.baseConnectionService.sendRequest(l,t).pipe(Object(S.a)((function(e){return r.serverStatus=e,r.serverStatus}))))},e.prototype.typeCheck=function(e){return void 0!==e.clientVersion&&void 0!==e.clientBuildID&&void 0!==e.clientBuildDate},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(Se),Object(l["ɵɵinject"])(me))},token:e,providedIn:"root"}),e}(),je=function(){function e(e,t,n,r,a,o,i,s,u,c){this.logoutService=e,this.configurationService=t,this.router=n,this.errorTermsStoreService=r,this.localeAppResourcesService=a,this.dialog=o,this.snackBar=i,this.helpService=s,this.dialogService=u,this.serverStatusService=c,this.contextMenuClass="main-header-context-menu",this.toShowOverlay=!1,this.hideCustomerLogo=!1,this.headerTabClicked=new l.EventEmitter}return e.prototype.ngOnInit=function(){this.subscriptions=[],this.setUserProfile(),this.show=!1,this.toConfirmLogout=!1,this.toAbout=!1,this.successPasswordmessage=!1,this.LogoutMessage1=this.errorTermsStoreService.getErrorMessage("LogoutMessage1"),this.LogoutMessage2=this.errorTermsStoreService.getErrorMessage("LogoutMessage2"),this.passwordResetSuccessful=this.errorTermsStoreService.getErrorMessage("PasswordResetSuccessful"),this.OkLabel=this.localeAppResourcesService.getResource("OkLabel"),this.CancelLabel=this.localeAppResourcesService.getResource("CancelLabel")},e.prototype.ngAfterViewInit=function(){window.AppcuesWidget(window.Appcues.user()).init("#my-widget",{position:"left"})},e.prototype.ngOnChanges=function(e){e.userProfile&&this.setUserProfile()},e.prototype.setUserProfile=function(){if(void 0!==this.userProfile){this.userInitials=z.getNameInitials(this.userProfile.$name,this.userProfile.$nameSeparator);var e=this.userProfile.$name.split(" ");this.UserNameToolTip=e.join("\n"),e.length>1?(this.firstName=e[0],delete e[0],this.lastName=e.join(" ")):this.firstName=e.join(" "),this.profileItems=this.userProfile.$items}else this.userInitials="",this.UserNameToolTip="",this.profileItems=[]},e.prototype.onTabClick=function(e){var t=this;this.canDeactivate().subscribe((function(n){!0===n&&t.headerTabClicked.emit(e)}))},e.prototype.canDeactivate=function(e){return!0===e?Object(h.a)(!0):!0===this.dialogService.isStatusChanged?this.dialogService.confirm():Object(h.a)(!0)},e.prototype.getResource=function(e){return this.localeAppResourcesService.getResource(e)},e.prototype.getActionAppResource=function(){return{about:this.getResource("HeaderAboutStudyOptimizer"),logout:this.getResource("HeaderLogout"),help:this.getResource("HeaderProfileHelp"),password:this.getResource("HeaderChangePassword")}},e.prototype.onClickAction=function(e){e&&(this.getActionAppResource().logout===e?this.openConfirmLogoutDialog():this.getActionAppResource().about===e?this.openAboutDialog():this.getActionAppResource().password===e?this.openPasswordDialog():this.getActionAppResource().help===e?this.helpService.openHelp():this.router.navigate([e.toLowerCase()]))},e.prototype.openConfirmLogoutDialog=function(){var e=this,t=this.dialog.open(Q,{width:"25%",data:this.getLogoutDialogProp(),panelClass:"logout-dialog",id:"LogoutDialog"});this.subscriptions.push(t.afterClosed().subscribe((function(t){t&&t.action===e.getLogoutDialogProp().okLabel&&e.logout()})))},e.prototype.getLogoutDialogProp=function(){return{heading:"",message:this.errorTermsStoreService.getErrorMessage("LogoutMessage1")+"<br>"+this.errorTermsStoreService.getErrorMessage("LogoutMessage2")+"<br>",prefixMaterialIcon:{name:"help",color:"#0e6ca9",size:"65px"},okLabel:this.localeAppResourcesService.getResource("OkLabel"),cancelLabel:this.localeAppResourcesService.getResource("CancelLabel")}},e.prototype.logout=function(){var e=this,t=this.logoutService.logout().subscribe((function(t){if(t.result===M.RESULT_OK){if(e.serverStatusService.serverStatus)if(e.serverStatusService.serverStatus.loginRequired){var n=e.configurationService.$loginUrl;n&&(Te.getWindow().location.href=n)}else Te.getWindow().location.href=e.serverStatusService.serverStatus.ssoRedirectURL}else if(t.result===M.RESULT_ERROR)throw console.log(t.error.message),new Error(t.error.message)}));this.subscriptions.push(t)},e.prototype.openAboutDialog=function(){this.dialog.open(Q,{width:"50%",data:this.getAboutDialogProp(),panelClass:"about-dialog",id:"AboutDialog"})},e.prototype.getAboutDialogProp=function(){return{heading:this.aboutResource.aboutBoxTitle,message:this.aboutResource.aboutBoxVersion+"<br><br>"+this.aboutResource.aboutBoxDisclaimer,postfixImageUrl:this.aboutResource.logoUrl,okLabel:this.localeAppResourcesService.getResource("OkLabel"),showCancel:!1}},e.prototype.openPasswordDialog=function(){var e=this,t=this.dialog.open(xe,{width:"50%",data:this.getPasswordDialogProp(),panelClass:"password-dialog",id:"PasswordDialog"});this.subscriptions.push(t.afterClosed().subscribe((function(t){t&&(console.log(t.data),e.showBanner("positive","positive-snackbar","assets/images/manageplans/icon-positive.png","PasswordResetSuccessful"))})))},e.prototype.getPasswordDialogProp=function(){return{heading:this.passwordResource.changePassword,currentPassword:this.passwordResource.currentPassword,nonEmptyField:this.passwordResource.nonEmptyField,newPassword:this.passwordResource.newPassword,confirmPassword:this.passwordResource.confirmPassword,passwordMisMatchMessage:this.passwordResource.passwordMisMatchMessage,lengthRule:this.passwordResource.lengthRule,mixCharRule:this.passwordResource.mixCharRule,okLabel:this.localeAppResourcesService.getResource("OkLabel"),cancelLabel:this.localeAppResourcesService.getResource("CancelLabel")}},e.prototype.showBanner=function(e,t,n,l){this.snackBar.openFromComponent(te,{data:{message:this.errorTermsStoreService.getErrorMessage(l),icon:n,messageType:e},panelClass:[t]})},e.prototype.onclickWindow=function(){console.log("clicked")},e.prototype.hideImage=function(e){this.hideCustomerLogo=!0},e.prototype.contains=function(e){return this.profileAnchor.nativeElement.contains(e)||!!this.profilePopup&&this.profilePopup.nativeElement.contains(e)},e.prototype.ngOnDestroy=function(){this.items=null,this.userProfile=null,this.passwordComponent=null,this.profileItems=null,this.subscriptions.forEach((function(e){e.unsubscribe()})),this.subscriptions=null},e}(),Ue=function(){function e(e){this.route=e}return e.prototype.ngOnInit=function(){var e=this.route.snapshot.queryParams,t=z.generateUrl(k,this.route.snapshot.data.externalUrlFragment),n=!0;for(var l in e)void 0!==e[l]&&(n?(t+="?",n=!1):t+="&",t+=l+"="+e[l]);Te.getWindow().location.href=t},e}(),Ve=function(){function e(e,t){this.searchListFB=e,this.dialogService=t,this.labels={},this.toggleArrowFlag=!1,this.itemSelect=new l.EventEmitter,this.selectionChange=new l.EventEmitter}return Object.defineProperty(e.prototype,"searchListFormGroupName",{get:function(){return this.searchListFormGroup},set:function(e){this.searchListFormGroup=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$searchGroups",{get:function(){return this.searchGroups},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.subscriptions=new Map,this.initializeSubjects(),this.setFilter(),this.setSearchGroups()},e.prototype.ngOnChanges=function(e){e&&e.searchListFormGroupName&&this.searchListFormGroupName.get("searchListControl")&&this.searchListFormGroupName.get("searchListControl").value&&(this.removeSubscription(),this.subscriptions=new Map,this.setFilter(this.searchListFormGroupName.get("searchListControl").value))},e.prototype.getSelectedItem=function(e,t){var n;return n=null!=e&&null!=t&&t.find((function(t){return"string"==typeof e?t.id.toLowerCase()===e.toLowerCase():t.key===e}))||"",null!=this.dialogService.selectedStudyKey&&""!==this.dialogService.selectedStudyKey||(this.dialogService.selectedStudyKey=n),n},e.prototype.initializeSubjects=function(){this.recentlistItemsSubject=new p.a,this.allListItemsSubject=new p.a},e.prototype.setSearchGroups=function(){void 0!==this.recentlistItemsSubject&&void 0!==this.allListItemsSubject||this.initializeSubjects();var e=[];this.searchListInput.recentListItemsLabel&&e.push({name:this.searchListInput.recentListItemsLabel,list:this.recentlistItemsSubject.asObservable()}),e.push({name:this.searchListInput.allListItemsLabel,list:this.allListItemsSubject.asObservable()}),this.searchGroups=e},e.prototype.setFilter=function(e){var t=this;if(this.isFirstFilterCall=!0,!this.subscriptions.has("valueChangeSubscription")){var n=this.isSearchListOn?"filterListControl":"searchListControl";if(this.searchListFormGroupName.get(n)){var l=this.searchListFormGroupName.get(n).valueChanges.pipe(Object(b.a)(e||""),Object(P.a)(j),Object(S.a)((function(e){return"string"==typeof e?e:e.id})),Object(D.a)((function(e,t){return e===t})),Object(C.a)((function(n){return t.filterItems(n,e||t.searchListInput.selectedItemKey)}))).subscribe((function(e){}));this.subscriptions.set("valueChangeSubscription",l)}}},e.prototype.filterItems=function(e,t){var n=this,l=this;if(void 0!==l.searchListInput.searchApi){var r=l.searchListInput.searchApi(e).subscribe((function(e){e.allListItems&&e.allListItems.length>0?(l.recentlistItemsSubject.next(e.recentListItems),l.allListItemsSubject.next(e.allListItems)):e.allListItems&&e.allListItems.length<=0&&(l.recentlistItemsSubject.next([n.searchListInput.recentListItemsLabel]),l.allListItemsSubject.next([n.searchListInput.allListItemsLabel]));var r=l.getSelectedItem(t,e.recentListItems);n.isFirstFilterCall&&(l.searchListFormGroupName.get("searchListControl").setValue(r),n.isFirstFilterCall=!1),n.selectionChange.emit(r)}));this.subscriptions.set("searchApiSubscription",r)}return Object(h.a)(l.searchGroups)},e.prototype.formatItem=function(e){if(e)return"string"==typeof e?e:e.id},e.prototype.click=function(){this.searchListFormGroup.get("filterListControl").setValue("")},e.prototype.onBlur=function(){var e="";this.searchListFormGroup.get("searchListControl")&&this.searchListFormGroup.get("searchListControl").value&&(e=this.searchListFormGroup.get("searchListControl").value.hasOwnProperty("searchListControl")?this.searchListFormGroup.get("searchListControl").value.searchListControl:this.searchListFormGroup.get("searchListControl").value),this.searchListFormGroup.get("searchListControl").setValue(e)},e.prototype.open=function(){this.toggleArrowFlag=!0,this.searchListFormGroup.get("filterListControl")&&this.searchListFormGroup.get("filterListControl").value&&this.searchListFormGroup.get("filterListControl").setValue("")},e.prototype.close=function(){this.searchListFormGroup.get("filterListControl")&&this.searchListFormGroup.get("filterListControl").value&&this.searchListFormGroup.get("filterListControl").setValue(""),this.toggleArrowFlag=!1},e.prototype.itemSelected=function(e){var t=this;this.canDeactivate(void 0!==this.dialogService.isProceed&&this.dialogService.isProceed).subscribe((function(n){if(!0===n)t.dialogService.isStatusChanged=!1,t.selectionChange.emit(e.option.value),t.itemSelect.emit(e),t.searchbox.nativeElement.expanded=!1,t.searchbox.nativeElement.blur();else{var l=t.dialogService.selectedStudyKey;t.searchListFormGroupName.get("searchListControl").setValue(l)}}))},e.prototype.canDeactivate=function(e){return!0===e?Object(h.a)(!0):!0===this.dialogService.isStatusChanged?this.dialogService.confirm():Object(h.a)(!0)},e.prototype.ngOnDestroy=function(){this.searchListInput=null,this.itemSelect=null,this.selectionChange=null,this.searchListFormGroupName=null,this.recentlistItemsSubject=null,this.allListItemsSubject=null,this.searchGroups=null,this.removeSubscription()},e.prototype.removeSubscription=function(){this.subscriptions.forEach((function(e){e.unsubscribe()})),this.subscriptions=null},e}(),Ke=function(){function e(e,t){this.dialogService=e,this.router=t,this.isSearchListOn=!0,this.disableLink=!1,this.itemSelect=new l.EventEmitter,this.headerTabClicked=new l.EventEmitter}return Object.defineProperty(e.prototype,"searchListFormGroupName",{get:function(){return this.searchListFormGroup},set:function(e){this.searchListFormGroup=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.onTabClick=function(e,t){var n=this,l=this;l.canDeactivate().subscribe((function(r){!0===l.disableLink&&"MODULE_PLANNING"===e?(t.stopPropagation(),t.preventDefault()):!0===r&&n.headerTabClicked.emit(e)}))},e.prototype.itemSelected=function(e){this.itemSelect.emit(e)},e.prototype.onStudyChange=function(e){this.disableLink=!(!0!==this.disablePlansTab||!e||!0!==e.newPlanInd)},e.prototype.canDeactivate=function(e){return!0===e?Object(h.a)(!0):!0===this.dialogService.isStatusChanged?this.dialogService.confirm():Object(h.a)(!0)},e.prototype.isTabActive=function(e){var t=!1,n=this.router.url.split("/");if(n.length>1){var l=n[1];t=e.$name.toLowerCase()===l.toLowerCase()}return t},e.prototype.ngOnDestroy=function(){this.subHeaders=null,this.studyListInput=null,this.itemSelect=null},e}(),Ye=function(){function e(e){this.activatedRoute=e,this.tabClicked=new l.EventEmitter}return e.prototype.ngOnInit=function(){var e=this.activatedRoute.snapshot.firstChild.url[0].path;this.items&&(this.selectedTab=this.items.find((function(t){return t.routePath===e})))},e.prototype.selectTab=function(e){e.enable&&(this.selectedTab=e,this.tabClicked.emit(e))},e.prototype.getMouseEvent=function(e,t){this.showTooltip=!1,"Countries"!==e||t||"Y"!==this.isCohortPlan||(this.showTooltip=!0)},e.prototype.ngOnDestroy=function(){this.selectedTab=null},e.prototype.ngOnChanges=function(e){e.items&&e.items.currentValue&&(this.items=e.items.currentValue),e.selectedTabItem&&e.selectedTabItem.currentValue&&(this.selectedTab=e.selectedTabItem.currentValue)},e}(),Ge=function(){function e(e,t){this.dialogRef=e,this.countryNotesProp=t,this.isEditMode=!1,this.selectionIndex=null,this.isNoteContentEnabled=!1,this.isNoteEditAccess=!1,this.noteTemplate={indicator:"",lastModifiedDate:"",userId:"",userName:"",content:""}}return e.prototype.ngOnInit=function(){this.noteTemplate=this.getEmptyNote(),this.areNotesEditable=this.countryNotesProp.areNotesEditable},e.prototype.cancel=function(){this.dialogRef.close()},e.prototype.ok=function(){this.countryNotesProp.noteList.forEach((function(e){e.indicator||(e.indicator="I")})),this.dialogRef.close({action:this.countryNotesProp.resources.SAVE,noteList:this.countryNotesProp.noteList})},e.prototype.addComment=function(){this.noteTemplate.userId=this.countryNotesProp.userId,this.noteTemplate.userName=this.countryNotesProp.userName,this.noteTemplate.lastModifiedDate=z.formatDate(new Date,"MMM-DD-YYYY HH:mm:ss"),this.isEditMode?(this.noteTemplate.oldUserId=this.selectedNote.userId,this.noteTemplate.isModified=!0,this.countryNotesProp.noteList[this.selectionIndex]=this.noteTemplate,this.isEditMode=!1,this.selectionIndex=null):this.countryNotesProp.noteList.push(this.noteTemplate),this.isNoteContentEnabled=!0,this.noteTemplate=this.getEmptyNote()},e.prototype.getEmptyNote=function(){return{indicator:"",lastModifiedDate:z.formatDate(new Date,"MMM-DD-YYYY HH:mm:ss"),userId:this.countryNotesProp.userId,userName:this.countryNotesProp.userName,content:""}},e.prototype.onContentChange=function(e){this.noteTemplate&&this.noteTemplate.indicator&&(this.noteTemplate.indicator="U")},e.prototype.isEnabled=function(){return!(!this.countryNotesProp.areNotesEditable||!this.noteTemplate.content||0===this.noteTemplate.content.trim().length)},e.prototype.onNoteSelected=function(e,t){this.selectionIndex=t,this.isEditMode=!0,this.selectedNote=Object(u.__assign)({},e),this.noteTemplate=JSON.parse(JSON.stringify(e))},e.prototype.resetNote=function(){this.isEditMode=!1,this.selectionIndex=null,this.noteTemplate=this.getEmptyNote()},e.prototype.removeNote=function(e){this.countryNotesProp&&this.countryNotesProp.noteList&&e>-1&&e<this.countryNotesProp.noteList.length&&(this.countryNotesProp.noteList[e].indicator?(this.selectedNote=Object(u.__assign)({},this.countryNotesProp.noteList[e]),this.countryNotesProp.noteList[e].indicator="D",this.countryNotesProp.noteList[e].oldUserId=this.selectedNote.userId,this.countryNotesProp.noteList[e].isModified=!0,this.isNoteContentEnabled=!0):this.countryNotesProp.noteList.splice(e,1),e===this.selectionIndex&&this.resetNote())},e.prototype.isDeletedNote=function(e){return"D"===e.indicator},e}(),He=function(){function e(){this.hideCustomerLogo=!1}return e.prototype.ngOnInit=function(){},e.prototype.hideImage=function(e){this.hideCustomerLogo=!0},e}(),Be=function(){function e(){this.optionClick=new l.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.optionClicked=function(e){this.optionClick.emit(e)},e}(),qe=function(){return function(){}}(),We=function(){function e(e){var t=this;this.overlay=e,this.spinnerRef=this.cdkSpinnerCreate(),this.spin$=new p.a,this.spin$.asObservable().pipe(Object(S.a)((function(e){return e?1:-1})),Object(A.a)((function(e,t){return e+t>=0?e+t:0}),0)).subscribe((function(e){1===e?t.showSpinner():0===e&&t.spinnerRef.hasAttached()&&t.stopSpinner()}))}return e.prototype.cdkSpinnerCreate=function(){return this.overlay.create({hasBackdrop:!0,backdropClass:"dark-backdrop",positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically()})},e.prototype.showSpinner=function(){this.spinnerRef.attach(new I.d(a.d))},e.prototype.stopSpinner=function(){this.spinnerRef.detach()},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(d.c))},token:e,providedIn:"root"}),e}(),$e=function(){return function(){}}(),ze=function(){function e(e,t,n){this.baseConnectionService=e,this.payloadCommandService=t,this.errorTermsStoreService=n}return e.prototype.getErrorTerminologies=function(e,t){if(!e)throw new Error("params can not be empty or undefined");if(!this.typeCheck(e))throw new Error("Invalid params object");(t=t||{}).cacheKey=le.TermErrorKey,t.cacheType=re.sticky,t.storeType=ae.Session,t.encryption=ne.encrypt,t.cmdName="",t.xmlRequest="";var n={moduleName:"NEWPLANTAB"};t.endPoint&&(t.url=Re.BASE_TERMS);var l,r=this;return t.endPoint?(l=r.payloadCommandService.getApiRequest(e.commandName,e.categoriesError,null,n),r.errorTermsStoreService.errorTerminologies?f.a.create("ok"):r.baseConnectionService.send(l,t).pipe(Object(S.a)((function(e){return e.result===M.RESULT_OK?(r.errorTermsStoreService.createErrorCodeBase(e.terminologies),"ok"):"failed"})))):(l=r.payloadCommandService.getCommandDetails(e.commandName,e.categoriesError,null,null,n),r.errorTermsStoreService.errorTerminologies?f.a.create("ok"):r.baseConnectionService.sendRequest(l,t).pipe(Object(S.a)((function(e){return e.result===M.RESULT_OK?(r.errorTermsStoreService.createErrorCodeBase(e.terminologies),"ok"):"failed"}))))},e.prototype.typeCheck=function(e){return void 0!==e.categoriesError&&void 0!==e.commandName},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(me),Object(l["ɵɵinject"])(Se),Object(l["ɵɵinject"])(Ne))},token:e,providedIn:"root"}),e}(),Je=function(){function e(e){this.baseTermsService=e,this._loginTerminologies=null,this.terms=null}return e.prototype.getLoginTerminologies=function(e,t){if(!e)throw new Error("Params can not be empty or undefined");if(!this.typeCheck(e))throw new Error("Invalid params object");var n=this;return(t=t||{}).cacheType=re.sticky,t.storeType=ae.Session,t.encryption=ne.encrypt,t.cacheKey=le.TermLoginKey,t.cmdName="",t.xmlRequest="",t.endPoint&&(t.url=Re.BASE_TERMS),null===n._loginTerminologies?n.baseTermsService.load(e,t).pipe(Object(S.a)((function(e){return n._loginTerminologies=e,e}))):Object(h.a)([])},e.prototype.getTerm=function(e){for(var t="",n=0,l=this._loginTerminologies.term.length;n<l;n++)if(this._loginTerminologies.term[n].name===e){t=this.baseTermsService.resolveValue(this._loginTerminologies.term[n].value);break}return t},e.prototype.typeCheck=function(e){return void 0!==e.category&&void 0!==e.commandName},e.ngInjectableDef=Object(l["ɵɵdefineInjectable"])({factory:function(){return new e(Object(l["ɵɵinject"])(Ce))},token:e,providedIn:"root"}),e}(),Xe=function(e){function t(n,l){var r=e.call(this,n)||this;return r.message=n,r.errorCode=l,r.name=t.name,Object.setPrototypeOf(r,t.prototype),r}return Object(u.__extends)(t,e),t}(Error),Ze=function(){function e(e,t,n,l,r){this.name=e,this.url=t,this.moduleName=n,this.isEnabled=l,this.isVisible=r}return Object.defineProperty(e.prototype,"$name",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$url",{get:function(){return this.url},set:function(e){this.url=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$moduleName",{get:function(){return this.moduleName},set:function(e){this.moduleName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$isEnabled",{get:function(){return this.isEnabled},set:function(e){this.isEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$isVisible",{get:function(){return this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),e}(),Qe=function(){function e(){}return e.prototype.getParameterByName=function(e){var t=Te.getWindow().location.href;e=e.replace(/[[]]/g,"$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace("/+/g"," ")):"":null},e.prototype.redirectAsPerParams=function(){},e.prototype.userHasPrivilegesForModule=function(e){return Object(h.a)("")},e.prototype.navigateToModule=function(e){},e}(),et=function(){function e(){}return e.prototype.init=function(){},e.prototype.call=function(e,t,n){},e}(),tt=function(){function e(){}return e.prototype.encrypt=function(e,t){var n=JSON.stringify(e);return L.AES.encrypt(n,t).toString()},e.prototype.decrypt=function(e,t){var n=L.AES.decrypt(e.toString(),t);return JSON.parse(n.toString(L.enc.Utf8))},e}(),nt=function(){function e(){}return e.data=[{path:"new-plans",component:Ue,data:{externalUrlFragment:"app1",moduleId:35}},{path:"new-study",component:Ue,data:{externalUrlFragment:"app2",moduleId:36}},{path:"new-countries",component:Ue,data:{externalUrlFragment:"app3",moduleId:9}},{path:"new-sites",component:Ue,data:{externalUrlFragment:"app4",moduleId:5}},{path:"new-login",component:Ue,data:{externalUrlFragment:"login",moduleId:39}}],e}()},"8gu7":function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return R}));var l=n("LoAr"),r=n("2tfK"),a=n("5kg2"),o=n("WT9V"),i=n("0xYh"),s=n("Gien"),u=n("eXL1"),c=n("C7Lb"),d=n("GcYS"),p=n("Z5FQ"),h=n("Hc9t"),f=n("rXXt"),m=n("hkMt"),g=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function y(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"button",[["class","mat-button-action mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var r=!0,a=e.component;return"click"===t&&(r=!1!==l["ɵnov"](e,1)._checkDisabled(n)&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,1)._handleMouseEnter()&&r),"click"===t&&(r=!1!==a.menuClicked(e.context.$implicit)&&r),r}),r.c,r.a)),l["ɵdid"](1,180224,[[1,4],[2,4]],0,a.e,[l.ElementRef,o.DOCUMENT,i.h,[2,a.b]],null,null),(e()(),l["ɵted"](2,0,[" "," "]))],null,(function(e,t){e(t,0,0,l["ɵnov"](t,1).role,l["ɵnov"](t,1)._highlighted,l["ɵnov"](t,1)._triggersSubmenu,l["ɵnov"](t,1)._getTabIndex(),l["ɵnov"](t,1).disabled.toString(),l["ɵnov"](t,1).disabled||null),e(t,2,0,t.context.$implicit.text)}))}function v(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,5,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-icon-button",""]],[[1,"aria-expanded",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var r=!0;return"mousedown"===t&&(r=!1!==l["ɵnov"](e,1)._handleMousedown(n)&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"click"===t&&(r=!1!==l["ɵnov"](e,1)._handleClick(n)&&r),r}),s.b,s.a)),l["ɵdid"](1,1196032,null,0,a.g,[u.c,l.ElementRef,l.ViewContainerRef,a.c,[2,a.d],[8,null],[2,c.b],i.h],{menu:[0,"menu"]},null),l["ɵdid"](2,180224,null,0,d.b,[l.ElementRef,i.h,[2,p.a]],null,null),(e()(),l["ɵeld"](3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,h.b,h.a)),l["ɵdid"](4,9158656,null,0,f.b,[l.ElementRef,f.d,[8,null],[2,f.a],[2,l.ErrorHandler]],null,null),(e()(),l["ɵted"](-1,0,["more_vert"])),(e()(),l["ɵeld"](6,0,null,null,8,"mat-menu",[["class","context-menu"]],null,null,null,r.d,r.b)),l["ɵprd"](6144,null,a.d,null,[a.h]),l["ɵprd"](6144,null,a.b,null,[a.d]),l["ɵdid"](9,1294336,[["menu",4]],3,a.h,[l.ElementRef,l.NgZone,a.a],{panelClass:[0,"panelClass"]},null),l["ɵqud"](603979776,1,{_allItems:1}),l["ɵqud"](603979776,2,{items:1}),l["ɵqud"](603979776,3,{lazyContent:0}),(e()(),l["ɵand"](16777216,null,0,1,null,y)),l["ɵdid"](14,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,l["ɵnov"](t,9)),e(t,4,0),e(t,9,0,"context-menu"),e(t,14,0,n.options)}),(function(e,t){e(t,0,0,l["ɵnov"](t,1).menuOpen||null,l["ɵnov"](t,2).disabled||null,"NoopAnimations"===l["ɵnov"](t,2)._animationMode),e(t,3,0,l["ɵnov"](t,4).inline,"primary"!==l["ɵnov"](t,4).color&&"accent"!==l["ɵnov"](t,4).color&&"warn"!==l["ɵnov"](t,4).color)}))}function S(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-context-menus",[],null,null,null,v,g)),l["ɵdid"](1,770048,null,0,m.a,[],null,null)],(function(e,t){e(t,1,0)}),null)}var R=l["ɵccf"]("ctos-context-menus",m.a,S,{menuOption:"menuOption"},{emitMenuClick:"emitMenuClick"},[])},"9S+C":function(e,t,n){"use strict";var l=n("6nV5"),r=n("LoAr"),a=function(){function e(){this.mileStonePref=new Map,this.selectedCountriesGridRowPref=new Map}return e.prototype.getMileStonePref=function(e){return this.mileStonePref&&this.mileStonePref.has(e)?this.mileStonePref.get(e):null},e.prototype.setMileStonePref=function(e,t){!t||t.projection||t.actual||t.parentPlan?this.mileStonePref.set(e,{actual:t.actual,projection:t.projection,parentPlan:t.parentPlan}):this.deleteMileStonePref(e,t)},e.prototype.deleteMileStonePref=function(e,t){this.mileStonePref&&this.mileStonePref.has(e)&&this.mileStonePref.delete(e)},e.prototype.getSelectedCountriesGridRowPref=function(e){return this.selectedCountriesGridRowPref&&this.selectedCountriesGridRowPref.has(e)?this.selectedCountriesGridRowPref.get(e):null},e.prototype.setSelectedCountriesGridRowPref=function(e,t){t?this.selectedCountriesGridRowPref.set(e,t):this.deleteSelectedCountriesGridRowPref(e)},e.prototype.deleteSelectedCountriesGridRowPref=function(e){this.selectedCountriesGridRowPref&&this.selectedCountriesGridRowPref.has(e)&&this.selectedCountriesGridRowPref.delete(e)},e.ngInjectableDef=r["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e}();n.d(t,"a",(function(){return o}));var o=function(){function e(e){this.applicationPreferenceServcie=e,this.sortingPref=[],this.collapsedCountriesMap=new Map,this.filterPref={},this.MCEFilterPrefMap=new Map,this.MCFilterPrefMap=new Map,this.pinnedTopRowData=new Map,this.isMCEVisible=!0}return e.prototype.getSortingPref=function(){return this.sortingPref},e.prototype.setSortingPref=function(e){l.c.isDefined(e)&&(this.sortingPref=e)},e.prototype.getMileStonePref=function(e){return this.applicationPreferenceServcie.getMileStonePref(e)},e.prototype.setMileStonePref=function(e,t){this.applicationPreferenceServcie.setMileStonePref(e,t)},e.prototype.updateCollapsedRowForMapByPlanKey=function(e,t,n){if(e&&t){var l=this.getCollapsedStateOfRows().get(e);n?this.deleteRowForMapByPlanKey(l,t):l?this.updateExistingRowForMapByPlanKey(l,t):(l=[]).push(t),l&&this.collapsedCountriesMap.set(e,l)}},e.prototype.deleteRowForMapByPlanKey=function(e,t){e&&t&&e.find((function(e){return e.geographyKey===t.geographyKey}))&&e.map((function(n){n.geographyKey===t.geographyKey&&e.splice(n,1)}))},e.prototype.updateExistingRowForMapByPlanKey=function(e,t){e.find((function(e){return e.geographyKey===t.geographyKey}))?e.map((function(e){e.geographyKey===t.geographyKey&&(e.expanded=t.expanded)})):e.push(t)},e.prototype.getCollapsedStateOfRows=function(){return this.collapsedCountriesMap},e.prototype.getFilterPref=function(){return this.filterPref},e.prototype.setFilterPref=function(e){this.filterPref=e},e.prototype.getMCEFilterPref=function(e){return this.MCEFilterPrefMap.get(e)},e.prototype.updateMCEFilterPref=function(e,t){this.MCEFilterPrefMap.set(e,t)},e.prototype.getMCFilterPref=function(e){return this.MCFilterPrefMap.get(e)},e.prototype.updateMCFilterPref=function(e,t){this.MCFilterPrefMap.set(e,t)},e.prototype.getSelectedCountriesGridRowPref=function(e){return this.applicationPreferenceServcie.getSelectedCountriesGridRowPref(e)},e.prototype.setSelectedCountriesGridRowPref=function(e,t){this.applicationPreferenceServcie.setSelectedCountriesGridRowPref(e,t)},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRowData},Object.defineProperty(e.prototype,"isMCEVisible",{get:function(){return this._isMCEVisible},set:function(e){this._isMCEVisible=e},enumerable:!0,configurable:!0}),e.ngInjectableDef=r["ɵɵdefineInjectable"]({factory:function(){return new e(r["ɵɵinject"](a))},token:e,providedIn:"root"}),e}()},"9jBP":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var l=n("LoAr"),r=n("5IsW"),a=(n("bhCd"),n("pdNw")),o=function(){function e(e,t,n,r){this.dialogRef=e,this.data=t,this.formBuilder=n,this.copyCountryDialogService=r,this.emitCopyCountryDetails=new l.EventEmitter,this.countryList=[],this.enableSaveButton=!0,this.selectedCountryObj=new a.a,this.isAlreadyPresent=!1}return e.prototype.ngOnInit=function(){this.createCopyCountryFrom(),this.countryToBeCopied=this.data.countryName,this.countryList=this.data.countries,this.selectedCountryObj=this.countryList[0],this.selectedCountryObj.isCountryLocked?(this.errorMessage=this.copyCountryDialogService.getCopyCountryErrorMessage(r.q.COPY_PLAN_MSG,"localApp"),this.enableSaveButton=!1,this.isAlreadyPresent=!1):this.selectedCountryObj.isAlreadyAvailable&&(this.errorMessage=this.copyCountryDialogService.getErrorMessages(r.q.COUNTRY_ALREADY_PRESENT,this.selectedCountryObj.countryName),this.enableSaveButton=!1,this.isAlreadyPresent=!0)},Object.defineProperty(e.prototype,"okLabel",{get:function(){return this.copyCountryDialogService.copyCountryResource.okLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelLabel",{get:function(){return this.copyCountryDialogService.copyCountryResource.cancelLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyCountryPlan",{get:function(){return this.copyCountryDialogService.copyCountryResource.copyCountryPlan},enumerable:!0,configurable:!0}),e.prototype.createCopyCountryFrom=function(){return this.copyCountryForm=this.formBuilder.group({countryPresent:[!1]})},e.prototype.isCountryPresentInTheGrid=function(e){return this.countryList.find((function(t){return t.countryKey===e}))},e.prototype.onCountryChange=function(e){e.value&&"object"==typeof e.value&&(this.selectedCountryObj=e.value,this.copyCountryForm.patchValue({countryPresent:!1}),this.selectedCountryObj.isCountryLocked?(this.enableSaveButton=!1,this.isAlreadyPresent=!1,this.errorMessage=this.copyCountryDialogService.getCopyCountryErrorMessage(r.q.COPY_PLAN_LOCKED_MSG,"localApp")):this.selectedCountryObj.isAFSIAchieved?(this.enableSaveButton=!1,this.isAlreadyPresent=!1,this.errorMessage=this.copyCountryDialogService.getCopyCountryErrorMessage(r.q.COPY_COUNTRY_AFSI_ACHIEVED_MSG,"localApp")):this.selectedCountryObj.isAlreadyAvailable?(this.enableSaveButton=!1,this.isAlreadyPresent=!0,this.errorMessage=this.copyCountryDialogService.getErrorMessages(r.q.COUNTRY_ALREADY_PRESENT,this.selectedCountryObj.countryName)):(this.enableSaveButton=!0,this.isAlreadyPresent=!1,this.errorMessage=""))},e.prototype.cancelCopyCountry=function(){this.dialogRef.close("cancel")},e.prototype.onValueChange=function(){var e=this.copyCountryForm.get("countryPresent").value;this.enableSaveButton=!(!this.isAlreadyPresent||!e)},e.prototype.saveCountry=function(){if(0!==Object.keys(this.selectedCountryObj).length&&!this.selectedCountryObj.isCountryLocked&&!this.selectedCountryObj.isAFSIAchieved){var e=this.copyCountryForm.getRawValue();this.isAlreadyPresent&&!e.countryPresent||this.emitCopyCountryDetails.emit(this.selectedCountryObj)}},e.prototype.ngOnDestroy=function(){},e}()},AvVu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("D57K"),r=n("uMZP"),a=n("biPp"),o=n("LoAr"),i=function(){function e(e){this.userDataService=e}return Object.defineProperty(e.prototype,"modulePrivilege",{get:function(){return this.mPrivilege},set:function(e){this.mPrivilege=e},enumerable:!0,configurable:!0}),e.prototype.getModulePrivilege=function(e){return this.userDataService.getUserPrivilegesForModule(e)},e.prototype.getPlanActions=function(){var e=[],t=this.getModulePrivilege(r.F.MODULE_PLANNING);if(t){var n=this.hasApprovePlanAccess(t),l=this.hasEditPlanAccess(t);return a.a.forEach((function(t){n&&t.name===a.c&&e.push(t),!l&&!n||t.name!==a.j&&t.name!==a.h&&t.name!==a.g&&t.name!==a.e&&t.name!==a.f||e.push(t)})),e}},e.prototype.hasApprovePlanAccess=function(e){var t,n;try{for(var r=l.__values(e),o=r.next();!o.done;o=r.next())if(o.value.name===a.b)return!0}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.hasEditPlanAccess=function(e){var t,n;try{for(var r=l.__values(e),o=r.next();!o.done;o=r.next())if(o.value.name===a.i)return!0}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.hasViewPlanAccess=function(e){var t,n;try{for(var r=l.__values(e),o=r.next();!o.done;o=r.next())if(o.value.name===a.m)return!0}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.hasLockCountryPlanAccess=function(e){var t,n;try{for(var r=l.__values(e),o=r.next();!o.done;o=r.next())if(o.value.name===a.k)return!0}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.hasUnlockCountryPlanAccess=function(e){var t,n;try{for(var r=l.__values(e),o=r.next();!o.done;o=r.next())if(o.value.name===a.l)return!0}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.hasCountryListImportAccess=function(e){var t,n;try{for(var r=l.__values(e),o=r.next();!o.done;o=r.next())if(o.value.name===a.d)return!0}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.ngInjectableDef=o["ɵɵdefineInjectable"]({factory:function(){return new e(o["ɵɵinject"](r.cb))},token:e,providedIn:"root"}),e}()},BpAa:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(){function e(){}return e.prototype.canDeactivate=function(e){return!e.canDeactivate||e.canDeactivate()},e}()},D57K:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return r})),n.d(t,"__assign",(function(){return a})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return i})),n.d(t,"__param",(function(){return s})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return S})),n.d(t,"__asyncValues",(function(){return R})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return b})),n.d(t,"__importDefault",(function(){return P}));var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]])}return n}function i(e,t,n,l){var r,a=arguments.length,o=a<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,n):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,l);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function s(e,t){return function(n,l){t(n,l,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,l){return new(n||(n=Promise))((function(r,a){function o(e){try{s(l.next(e))}catch(t){a(t)}}function i(e){try{s(l.throw(e))}catch(t){a(t)}}function s(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(o,i)}s((l=l.apply(e,t||[])).next())}))}function d(e,t){var n,l,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,l&&(r=2&a[0]?l.return:a[0]?l.throw||((r=l.return)&&r.call(l),0):l.next)&&!(r=r.call(l,a[1])).done)return r;switch(l=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,l=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(i){a=[6,i],l=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(l=a.next()).done;)o.push(l.value)}catch(i){r={error:i}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var l=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,i=a.length;o<i;o++,r++)l[r]=a[o];return l}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,r=n.apply(e,t||[]),a=[];return l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l;function o(e){r[e]&&(l[e]=function(t){return new Promise((function(n,l){a.push([e,t,n,l])>1||i(e,t)}))})}function i(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(s,u):c(a[0][2],n)}catch(l){c(a[0][3],l)}var n}function s(e){i("next",e)}function u(e){i("throw",e)}function c(e,t){e(t),a.shift(),a.length&&i(a[0][0],a[0][1])}}function S(e){var t,n;return t={},l("next"),l("throw",(function(e){throw e})),l("return"),t[Symbol.iterator]=function(){return this},t;function l(l,r){t[l]=e[l]?function(t){return(n=!n)?{value:y(e[l](t)),done:"return"===l}:r?r(t):t}:r}}function R(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},l("next"),l("throw"),l("return"),t[Symbol.asyncIterator]=function(){return this},t);function l(n){t[n]=e[n]&&function(t){return new Promise((function(l,r){!function(e,t,n,l){Promise.resolve(l).then((function(t){e({value:t,done:n})}),t)}(l,r,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}},DH3O:function(e,t,n){"use strict";var l=n("D57K"),r=n("Jg5f"),a=n("6nV5"),o=n("uMZP"),i=n("5IsW"),s=n("AvVu"),u=n("bhCd"),c=n("9jBP"),d=(n("pdNw"),n("wgY5")),p=n("+Ve9"),h=n("LoAr"),f=n("s8WJ"),m=n("WT9V");n.d(t,"a",(function(){return y}));var g=d,y=function(){function e(e,t,n,l,r,a,o,i,s,u,c){this.localAppResources=e,this.userDataService=t,this.userPrevilegeService=n,this.payloadCommandService=l,this.baseConnectionService=r,this.errorTermsStoreService=a,this.appDataService=o,this.dialog=i,this.datePipe=s,this.dialogService=u,this.copyCountryDialogService=c,this.copyCountryData(null),this.pasteVisible=!1,this.getResources()}return e.prototype.copyCountryData=function(e){this.copyData=e},e.prototype.onActionCopyClick=function(e){e&&(this.copyCountryData(e.params),this.pasteVisible=!0,e.params.context.componentParent.methodToUpdatePlan(null,"copy"))},e.prototype.onActionPasteClick=function(e){if(e){var t=e.countryKey,n=[];e.params.api.forEachNode((function(e,l){e.data.geographyKey===t&&n.push(e.data)})),this.dialogService.isStatusChanged=!0;var l=e.params.api.getDisplayedRowAtIndex(e.params.rowIndex),r=this.copyData.data,a=JSON.parse(JSON.stringify(l.data));this.pasteCommonParameters(a,r,e.params);var o=e.getFPA;if(this.checkSiteInitiationMethod(l))this.pasteParametersAfterSiteInitiationCheck(a,r),l.setDataValue(p.a.DAYS_TO_FSI,this.calculateDaysTo(r.planParamsDetails.FSI?r.planParamsDetails.FSI:"",o||"")),l.setData(a),e.params.context.componentParent.methodToUpdatePlan(l,"paste",e);else{var i=this.getMessage(this.optionDialogResource.pastingCustomSIWarning,e.countryName),s=this.warningMessageDialog(e,i,this.optionDialogResource.pasteParametersheading);this.pasteWarningDialog(s,e,l,r)}}},e.prototype.pasteCommonParameters=function(e,t,n){this.pastePlanParamDetails(e,t),"Y"===n.isCohortPlan&&this.initCopyCohortRows(e,t,n)},e.prototype.initCopyCohortRows=function(e,t,n){var l=this,r=t.geographyKey,a=e.geographyKey,o=[],i=[];n.api.forEachNode((function(e){!0===e.data.isCohortCountry&&(e.data.geographyKey===r?o.push(e.data):e.data.geographyKey===a&&i.push(e))})),i&&i.length>0&&i.forEach((function(e){var t=JSON.parse(JSON.stringify(e.data));l.pasteCohortData(t,o),e.setData(t)}))},e.prototype.pasteCohortData=function(e,t){var n=t.find((function(t){return t.cohortKey===e.cohortKey}));n&&(e.isCohortExcluded=n.isCohortExcluded,e.isCohModified=!0,this.pastePlanParamDetails(e,n))},e.prototype.pastePlanParamDetails=function(e,t){e.planParamsDetails.enrollmentTarget=t.planParamsDetails.enrollmentTarget,e.planParamsDetails.ARTB=t.planParamsDetails.ARTB,e.planParamsDetails.overRecruitmentPercent=t.planParamsDetails.overRecruitmentPercent,e.planParamsDetails.calculatedSR=t.planParamsDetails.calculatedSR,e.planParamsDetails.calculatedRR=t.planParamsDetails.calculatedRR,e.planParamsDetails.SR=t.planParamsDetails.SR,e.planParamsDetails.RR=t.planParamsDetails.RR,e.planParamsDetails.SFR=t.planParamsDetails.SFR,e.planParamsDetails.PFSS=t.planParamsDetails.PFSS,e.planParamsDetails.FSS=t.planParamsDetails.FSS,e.planParamsDetails.ARC=t.planParamsDetails.ARC,e.planParamsDetails.SITOFSSDAYS=t.planParamsDetails.SITOFSSDAYS,e.planParamsDetails.LSS=t.planParamsDetails.LSS,e.planParamsDetails.LSR=t.planParamsDetails.LSR,e.planParamsDetails.PLSR=t.planParamsDetails.PLSR,e.planParamsDetails.PLSS=t.planParamsDetails.PLSS,e.planParamsDetails.avgDaysToSiteInit=t.planParamsDetails.avgDaysToSiteInit,e.planParamsDetails.minRT=t.planParamsDetails.minRT,e.planParamsDetails.maxRT=t.planParamsDetails.maxRT,e.planParamsDetails.isSSV=t.planParamsDetails.isSSV,e.planParamsDetails.screeningTarget=t.planParamsDetails.screeningTarget,e.isEdited=!0},e.prototype.pasteParametersAfterSiteInitiationCheck=function(e,t){var n=Object.assign({},t.planParamsDetails.centerInitInfo);e.planParamsDetails.FSI=t.planParamsDetails.FSI,e.planParamsDetails.PFSI=t.planParamsDetails.PFSI,e.planParamsDetails.numSites=t.planParamsDetails.numSites,e.planParamsDetails.algorithmCode=t.planParamsDetails.algorithmCode,e.planParamsDetails.algorithmId=t.planParamsDetails.algorithmId,e.planParamsDetails.algorithmSiteCompId=t.planParamsDetails.algorithmSiteCompId,e.planParamsDetails.centerInitInfo=n,e.planParamsDetails.siteInitiationMethod=t.planParamsDetails.siteInitiationMethod},e.prototype.checkSiteInitiationMethod=function(e){return e.data.planParamsDetails.siteInitiationMethod===i.ac.PERCENT||e.data.planParamsDetails.siteInitiationMethod!==i.ac.GRANULAR&&void 0},e.prototype.warningMessageDialog=function(e,t,n){var l={heading:i.M,message:i.M,okLabel:i.M,showCancel:!1};return t=t,l.okLabel=this.optionDialogResource.okLabel,l.heading=n,l.showCancel=!1,l.message=t,this.dialog.open(a.t,{width:i.F.CONFIRM_DIALOG.WIDTH,height:i.F.CONFIRM_DIALOG.HEIGHT,data:l,panelClass:i.F.COUNTRY_OPTIONS_DIALOG.PANEL_CLASS})},e.prototype.generalWarningDialog=function(e,t){e.afterClosed().subscribe((function(e){if(e&&e.action)return!1}))},e.prototype.onActionLockUnlockClick=function(e){if(e){this.planKey=e.planKey,new Date;var t=this.getLockUnlockPayload(e),n=e.isCountryLocked?this.optionDialogResource.unlockHeading:this.optionDialogResource.lockheading,l=this.getMessage(e.isCountryLocked?this.optionDialogResource.unlockCountryMessage:this.optionDialogResource.lockCountryMessage,e.countryName),r=this.warningMessageDialog(e,l,n);this.lockDialog(r,e,t)}},e.prototype.lockDialog=function(e,t,n){var l=this;e.afterClosed().subscribe((function(e){if(e&&e.action){if(e.action!==l.optionDialogResource.okLabel)return!1;l.onCountryLockUnlock(t,n)}}))},e.prototype.onCountryLockUnlock=function(e,t){var n=this;this.callBaseConnection({commandName:e.planType?i.p.UPDATECOUNTRYLOCK:i.p.UPDATEADJUSTCOUNTRYLOCKED,payload:t}).subscribe((function(t){if(t&&t.studyPlanDetails)e.params.context.componentParent.methodToUpdatePlan(t);else if(t&&t.error){i.S.find((function(e){return e===t.error.errorCode}))&&e.params.context.componentParent.setRevertLink(t);var l=t.error.message.indexOf(":"),r=t.error.message.substring(l+1),a=n.getErrorMessages(t.error.errorCode,r),o=n.warningMessageDialog(e,a,e.isCountryLocked?n.optionDialogResource.unlockHeading:n.optionDialogResource.lockheading);n.generalWarningDialog(o,e)}}))},e.prototype.getLockUnlockPayload=function(e){var t,n=new Date;return(t={studyKey:e.studyKey})[e.planType?"planKey":"adjustStudyPlanKey"]=e.planKey,t.version=e.version,t.countryKey=e.countryKey,t.action=e.isCountryLocked?"Unlock":"Lock",t.actionDate=this.datePipe.transform(n,"yyyy-MM-dd hh:mm:ss"),t.updatePlanDetails=!0,t},e.prototype.onActionRevertToApprovedPlanClick=function(e){var t=this.getMessage(this.optionDialogResource.revertToApprovedPlanConfirmationMsg,e.countryName);this.revertToApprovedPlanConfirmation(e,t)},e.prototype.revertToApprovedPlanConfirmation=function(e,t){var n=this,l={heading:i.M,message:i.M,okLabel:i.M,cancelLabel:i.M};l.cancelLabel=this.optionDialogResource.cancelLabel,l.okLabel=this.optionDialogResource.okLabel,l.heading=this.optionDialogResource.revertToApprovedPlanPopUpHeader,l.message=t,this.dialog.open(a.t,{width:i.F.CONFIRM_DIALOG.WIDTH,height:i.F.CONFIRM_DIALOG.HEIGHT,data:l,panelClass:i.F.COUNTRY_OPTIONS_DIALOG.PANEL_CLASS}).afterClosed().subscribe((function(t){if(t&&t.action){if(t.action!==n.optionDialogResource.okLabel)return!1;e.params.context.componentParent.onRevertToApprovedPlan(e.parentPlankey,e.countryKey)}}))},e.prototype.onActionDeleteClick=function(e){this.planKey=e.planKey;var t=this.getDeletePayload(e),n=this.getMessage(this.optionDialogResource.deleteCountryConfirmation,e.countryName);this.deleteConfirmation(e,t,n)},e.prototype.deleteConfirmation=function(e,t,n){var l=this,r={heading:i.M,message:i.M,okLabel:i.M,cancelLabel:i.M};r.cancelLabel=this.optionDialogResource.cancelLabel,r.okLabel=this.optionDialogResource.okLabel,r.heading=this.optionDialogResource.delete,r.message=n,this.dialog.open(a.t,{width:i.F.CONFIRM_DIALOG.WIDTH,height:i.F.CONFIRM_DIALOG.HEIGHT,data:r,panelClass:i.F.COUNTRY_OPTIONS_DIALOG.PANEL_CLASS}).afterClosed().subscribe((function(n){if(n&&n.action){if(n.action!==l.optionDialogResource.okLabel)return!1;l.onCountryDelete(e,t)}}))},e.prototype.onCountryDelete=function(e,t){var n=this;this.callBaseConnection({commandName:e.planType?i.p.DELETEBASECOUNTRYLOCKED:i.p.DELETEADJUSTCOUNTRYLOCKED,payload:t}).subscribe((function(t){if(t&&t.studyPlanDetails)e.params.context.componentParent.methodToUpdatePlan(t);else if(t&&t.error){i.S.find((function(e){return e===t.error.errorCode}))&&e.params.context.componentParent.setRevertLink(t);var l=t.error.message.indexOf(":"),r=t.error.message.substring(l+1),a=n.getErrorMessages(t.error.errorCode,r),o=n.warningMessageDialog(e,a,n.optionDialogResource.delete);n.generalWarningDialog(o,e)}}))},e.prototype.getDeletePayload=function(e,t){var n,l=t||e.countryKey;return(n={studyKey:e.studyKey})[e.planType?"planKey":"adjustStudyPlanKey"]=e.planKey,n.countryKey=l,n.version=e.version,n.updatePlanDetails=!0,n},e.prototype.getMessage=function(e,t){return e.replace("{0}",t)},e.prototype.checkingPlanStatus=function(e){return!e.isReadOnly&&!(!e.planType&&e.isReadOnly||e.isPlanApproved||e.isPrevApproved)},e.prototype.hasEditAccess=function(e){var t=this.userDataService.getUserPrivilegesForModule(o.F.MODULE_PLANNING);return(this.userPrevilegeService.hasApprovePlanAccess(t)||this.userPrevilegeService.hasEditPlanAccess(t))&&this.checkingPlanStatus(e)},e.prototype.hasLockAccess=function(e){var t=this.userDataService.getUserPrivilegesForModule(o.F.MODULE_PLANNING);return this.userPrevilegeService.hasLockCountryPlanAccess(t)&&this.isCountryValid(e)&&this.checkingPlanStatus(e)},e.prototype.hasUnlockAccess=function(e){var t=this.userDataService.getUserPrivilegesForModule(o.F.MODULE_PLANNING);return this.userPrevilegeService.hasUnlockCountryPlanAccess(t)&&this.checkingPlanStatus(e)},e.prototype.isCountryValid=function(e){if("WW"!==e.data.geographyLevel&&"Study"!==e.data.geographyLevel)return"valid"===e.data.planParamsDetails.planStatus.value.toString().toLowerCase()},e.prototype.isCountryLocked=function(e){return!!e.data.planParamsDetails.isCountryLocked},e.prototype.isBasePlan=function(e){return!!e.data.planParamsDetails.isFromBasePlan},e.prototype.isCountryAdjusted=function(e){return!!e.data.planParamsDetails.isCountryAdjusted},e.prototype.hasAchievedAFSI=function(e){return!!(e&&!e.planType&&!e.ReadOnly&&e.data.planParamsDetails&&e.data.planParamsDetails.actuals&&e.data.planParamsDetails.actuals.FSI&&e.data.planParamsDetails.isAdjustable)},e.prototype.lockAndAFSI=function(e){return!this.isCountryLocked(e)&&!this.hasAchievedAFSI(e)},e.prototype.hasPasteAccess=function(e){return!this.isCountryLocked(e)&&!this.hasAchievedAFSI(e)},e.prototype.hasRowEdit=function(e){var t=!1;return e.api.forEachNode((function(n){n.data.geographyKey===e.data.geographyKey&&n.data.isEdited&&(t=!0)})),!!t},e.prototype.getStudyKey=function(){return this.userDataService.lastVisitedStudy},e.prototype.calculateDaysTo=function(e,t){return e&&t?g(e).diff(g(t),"days"):""},e.prototype.callBaseConnection=function(e){var t={};t.dependencyList=[a.l.GetPlanListKey+"_"+e.payload.studyKey,a.l.GetPlanDetails+"_"+e.payload.studyKey+"_"+this.planKey];var n=o.m.getModuleInfo(i.Db,e.payload.studyKey);return this.baseConnectionService.sendRequest(this.payloadCommandService.getCommandDetails(e.commandName,e.payload,null,null,n),t).pipe(Object(r.a)((function(e){if(e.result.toString().toUpperCase()===a.k.RESULT_OK){if(e)return e}else if(e.result.toString().toUpperCase()===a.k.RESULT_ERROR)return e})))},e.prototype.getResources=function(){return this.optionDialogResource={delete:this.localAppResources.getResource("Delete"),okLabel:this.localAppResources.getResource("OK"),cancelLabel:this.localAppResources.getResource("Cancel"),deleteCountryConfirmation:this.localAppResources.getResource("DELETE_COUNTRY_CONFIRMATION"),revertTitle:this.localAppResources.getResource("revertTitle"),pastingCustomSIWarning:this.localAppResources.getResource("PASTING_CUSTOM_SI"),lockCountryMessage:this.localAppResources.getResource("lock_country_message"),unlockCountryMessage:this.localAppResources.getResource("unlock_country_message"),pasteParametersheading:this.localAppResources.getResource("paste_parameters"),lockheading:this.localAppResources.getResource("lockheading"),unlockHeading:this.localAppResources.getResource("unlockheading"),saveLabel:this.localAppResources.getResource("Save"),revertToApprovedPlanPopUpHeader:this.localAppResources.getResource("REVERT_TO_APPROVED_PLAN_POPUP_HEADER"),revertToApprovedPlanConfirmationMsg:this.localAppResources.getResource("REVERT_TO_APPROVED_PLAN_CONFIRMATION"),copyCountryConfirm:this.localAppResources.getResource(i.q.CONFIRM_COPY),copyCountryHeading:this.localAppResources.getResource(i.q.COPY_COUNTRY_HEADING)},this.optionDialogResource},e.prototype.resetPasteVisibility=function(){this.pasteVisible=!1},e.prototype.hasRowsSelected=function(e){var t=e.api.getSelectedNodes();return(t="Y"===e.isCohortPlan?this.removeCohortRows(t):t).length>0},e.prototype.hasRowsSelectedEdit=function(e){var t=e.api.getSelectedNodes(),n=!1;return t.length>0&&t.forEach((function(e){e.data.isEdited&&(n=!0)})),!!n},e.prototype.hasLockAccessMulti=function(e){var t=this.userDataService.getUserPrivilegesForModule(o.F.MODULE_PLANNING);return this.userPrevilegeService.hasLockCountryPlanAccess(t)&&this.checkingPlanStatus(e)&&!this.hasRowsSelectedEdit(e)},e.prototype.hasUnlockAccessMulti=function(e){var t=this.userDataService.getUserPrivilegesForModule(o.F.MODULE_PLANNING);return this.userPrevilegeService.hasUnlockCountryPlanAccess(t)&&this.checkingPlanStatus(e)&&!this.hasRowsSelectedEdit(e)},e.prototype.onActionLockSelected=function(e){this.planKey=e.planKey,new Date;var t,n,l,r,a=[],o=[],i=[],s=[];if(e.selectedRows.forEach((function(e){e.data.planParamsDetails.isCountryLocked?a.push(e.data.geographyName):"invalid"===e.data.planParamsDetails.planStatus.value.toString().toLowerCase()?o.push(e.data.geographyName):e.data.planParamsDetails.isCountryLocked||"invalid"===e.data.planParamsDetails.planStatus.value.toString().toLowerCase()||(i.push(e.data.geographyKey),s.push(e.data.geographyName))})),a.length>0&&(a=a.join(),t=this.getMessage(this.errorTermsStoreService.getErrorMessage("LOCKED_COUNTRY_ERROR"),a)),o.length>0&&(o=o.join(),n=(n=this.getMessage(this.errorTermsStoreService.getErrorMessage("INVALID_COUNTRY_ERROR"),o)).replace("{0}",o)),i.length>0&&(r=this.getMessage(this.optionDialogResource.lockCountryMessage,s)),t&&n?l=t+"<br><br>"+n:(t||n)&&(l=t||n),l||r){r&&(l=(l?l+"<br><br>":"")+r);var u=this.warningMessageDialog(e,l,this.optionDialogResource.lockheading);this.lockWarningDialog(u,e,i,"Lock")}},e.prototype.onActionUnLockSelected=function(e){this.planKey=e.planKey,new Date;var t,n,l=[],r=[],a=[];if(e.selectedRows.forEach((function(e){e.data.planParamsDetails.isCountryLocked?(r.push(e.data.geographyKey),a.push(e.data.geographyName)):l.push(e.data.geographyName)})),l.length>0&&(l=l.join(),t=this.getMessage(this.errorTermsStoreService.getErrorMessage("UNLOCKED_COUNTRY_ERROR"),l)),r.length>0&&(n=this.getMessage(this.optionDialogResource.unlockCountryMessage,a)),t||n){n&&(t=(t?t+"<br><br>":"")+n);var o=this.warningMessageDialog(e,t,this.optionDialogResource.unlockHeading);this.lockWarningDialog(o,e,r,"Unlock")}},e.prototype.getLockPayload=function(e,t,n){var l,r,a=new Date,o=e.planType?"planKey":"adjustStudyPlanKey",i=t;return console.log("Tha payload info:"+((l={studyKey:e.studyKey})[o]=e.planKey,l.version=e.version,l.countryKey=i,l.action=n,l.actionDate=this.datePipe.transform(a,"yyyy-MM-dd hh:mm:ss"),l.updatePlanDetails=!0,l)),(r={studyKey:e.studyKey})[o]=e.planKey,r.version=e.version,r.countryKey=i,r.action=n,r.actionDate=this.datePipe.transform(a,"yyyy-MM-dd hh:mm:ss"),r.updatePlanDetails=!0,r},e.prototype.lockWarningDialog=function(e,t,n,l){var r=this;e.afterClosed().subscribe((function(e){if(e&&e.action){if(e.action!==r.optionDialogResource.okLabel)return!1;if(!(n.length>0))return!1;var a=r.getLockPayload(t,n,l);r.onCountryLockUnlock(t,a)}}))},e.prototype.onActionDeleteSelected=function(e){var t=this;this.planKey=e.planKey,new Date;var n,l,r,a=[],o=[],i=[],s=[];e.selectedRows.forEach((function(n){n.planType=e.planType,n.isReadOnly=e.isReadOnly,n.data.planParamsDetails.isCountryLocked?a.push(n.data.geographyName):t.hasAchievedAFSI(n)?o.push(n.data.geographyName):n.data.planParamsDetails.isCountryLocked||t.hasAchievedAFSI(n)||(i.push(n.data.geographyKey),s.push(n.data.geographyName))})),a.length>0&&(a=a.join(),n=this.getMessage(this.errorTermsStoreService.getErrorMessage("DELETE_LOCKED_COUNTRY_ERROR"),a)),o.length>0&&(o=o.join(),l=this.getMessage(this.errorTermsStoreService.getErrorMessage("DELETE_AFSI_COUNTRY_ERROR"),o)),n&&l?r=n+"<br><br>"+l:(n||l)&&(r=n||l);var u={deleteMessage:this.getMessage(this.optionDialogResource.deleteCountryConfirmation,s),deletePayload:this.getDeletePayload(e,i)};if(r){var c=void 0,d=this.optionDialogResource.delete;i.length>0?(c=this.warningMessageDialog(e,r,d),this.deleteWarningDialog(c,e,u)):(c=this.warningMessageDialog(e,r,d),this.deleteWarningDialog(c,e))}else i.length>0&&this.deleteConfirmation(e,u.deletePayload,u.deleteMessage)},e.prototype.deleteWarningDialog=function(e,t,n){var l=this;e.afterClosed().subscribe((function(e){if(e&&e.action){if(e.action!==l.optionDialogResource.okLabel)return!1;if(!n)return!1;l.deleteConfirmation(t,n.deletePayload,n.deleteMessage)}}))},e.prototype.onActionPasteParametersSelected=function(e){var t=this,n=this.copyData.data;this.dialogService.isStatusChanged=!0;var l,r=[],a=[],o=[],i=[],s=[],u=[],c="",d="",p="";if(e.selectedRows.forEach((function(n){n.planType=e.planType,n.isReadOnly=e.isReadOnly,n.data.planParamsDetails.isCountryLocked?r.push(n.data.geographyName):t.hasAchievedAFSI(n)?a.push(n.data.geographyName):t.checkSiteInitiationMethod(n)?t.checkSiteInitiationMethod(n)&&u.push(n):(s.push(n.data.geographyName),i.push(n))})),r.length>0&&(r=r.join(),c=this.getMessage(this.errorTermsStoreService.getErrorMessage("PASTE_LOCKED_COUNTRY_ERROR"),r)),a.length>0&&(a=a.join(),d=this.getMessage(this.errorTermsStoreService.getErrorMessage("PASTE_AFSI_COUNTRY_ERROR"),a)),i.length>0&&(p=this.getMessage(this.optionDialogResource.pastingCustomSIWarning,s)),c&&d&&!p?l=c+"<br><br>"+d:!c&&d&&p?l=d+"<br><br>"+p:c&&!d&&p?l=c+"<br><br>"+p:!c||d||p?c||!d||p?c||d||!p?c&&d&&p&&(l=c+"<br><br>"+d+"<br><br>"+p):l=p:l=d:l=c,l){o=i.concat(u);var h=this.warningMessageDialog(e,l,this.optionDialogResource.pasteParametersheading);this.pasteWarningDialog(h,e,o,n)}else this.setRowNodeData(u,n,e)},e.prototype.setRowNodeData=function(e,t,n){var l=this,r=n.getFPA;if(e instanceof Array)e.forEach((function(e){var a=e.data;l.checkSiteInitiationMethod(e)?(l.pasteParametersAfterSiteInitiationCheck(a,t),e.setDataValue(p.a.DAYS_TO_FSI,l.calculateDaysTo(t.planParamsDetails.FSI?t.planParamsDetails.FSI:"",r||""))):e.setDataValue(p.a.DAYS_TO_FSI,l.calculateDaysTo(a.planParamsDetails.FSI?a.planParamsDetails.FSI:"",r||"")),l.pasteCommonParameters(a,t,n.params),e.setData(a),n.params.context.componentParent.methodToUpdatePlan(e,"paste",n)}));else{var a=e.data;this.pasteCommonParameters(a,t,n.params),e.setDataValue(p.a.DAYS_TO_FSI,this.calculateDaysTo(a.planParamsDetails.FSI?a.planParamsDetails.FSI:"",r||"")),e.setData(a),n.params.context.componentParent.methodToUpdatePlan(e,"paste",n)}},e.prototype.pasteWarningDialog=function(e,t,n,l){var r=this;e.afterClosed().subscribe((function(e){if(e&&e.action){if(e.action!==r.optionDialogResource.okLabel)return!1;if(!n||!l)return!1;r.setRowNodeData(n,l,t)}}))},e.prototype.getErrorMessages=function(e,t){var n=t.indexOf(":"),l=t.substring(n+1);return e=e.toString()===i.Y.PLAN_OUTDATED?i.U+e.toString():e,this.errorTermsStoreService.getErrorMessage(e).replace("{0}",l)},e.prototype.removeCohortRows=function(e){var t=[];return e.forEach((function(e){!1===e.data.isCohortCountry&&t.push(e)})),t},e.prototype.getAllAvailableCountryList=function(e){var t=[];if(e.countryRegionMappingList&&e.countryRegionMappingList.countryRegionMapping)return e.countryRegionMappingList.countryRegionMapping.forEach((function(e){e.countryDataList&&(t=l.__spread(t,e.countryDataList.countryData))})),t},e.prototype.getCountryGridData=function(e,t){var n=[];return e.params.api.forEachNode((function(e,t){e.data.isCohortCountry||n.push(e.data)})),"AFSIAchieved"===t?n=n.filter((function(e){return e.planParamsDetails.actuals&&e.planParamsDetails.actuals.FSI})):n},e.prototype.getGridCountryObject=function(e){var t=this.getCountryGridData(e),n={};return t.forEach((function(e){n[e.geographyKey]=e.planParamsDetails.isCountryLocked})),n},e.prototype.transformData=function(e,t){var n=this.getAllAvailableCountryList(t),r=this.getGridCountryObject(e),a={};return e.planType||this.getCountryGridData(e,"AFSIAchieved").forEach((function(e){a[e.geographyKey]=!0})),(n=n.map((function(t){return l.__assign({},t,{isCountryLocked:!!r[t.countryKey]&&r[t.countryKey],isAFSIAchieved:!(e.planType||!a[t.countryKey])&&a[t.countryKey],isAlreadyAvailable:void 0!==r[t.countryKey]})}))).sort((function(e,t){return(""+e.countryName).localeCompare(t.countryName)}))},e.prototype.onActionCopyCountryClick=function(e){var t=this,n=o.m.getModuleInfo(i.Db,e.studyKey),l=this.payloadCommandService.getCommandDetails(i.p.GET_FILTER_COUNTRY_DATA,null,null,null,n),r={};r.cacheKey=a.l.GetFilterCountryData,this.baseConnectionService.sendRequest(l,r).subscribe((function(n){if(n.result===i.Yb.Okay){var l=t.transformData(e,n),r=t.getGridCountryObject(e);t.openCopyCountryDialog(e,l,r)}else if(n&&n.error){var a=t.errorTermsStoreService.getErrorMessage(+n.error.errorCode);t.copyCountryDialogService.showErrorMessage(a)}}))},e.prototype.openCopyCountryDialog=function(e,t,n){var l=this,r=this.dialog.open(c.a,{width:i.F.COPY_COUNTRY_DIALOG.WIDTH,minHeight:i.F.COPY_COUNTRY_DIALOG.MIN_HEIGHT,data:{countryName:e.countryName,countryKey:e.countryKey,countries:t}});r.componentInstance.emitCopyCountryDetails.subscribe((function(t){t&&"object"==typeof t&&(t.isNewCountry=void 0===n[t.countryKey],r.close(),l.onCopyCountry(e,t))}))},e.prototype.getCopyCountryPayload=function(e,t){var n;return(n={studyKey:e.studyKey})[e.planType?"planKey":"adjustStudyPlanKey"]=e.planKey,n.version=e.version,n.srcCountryKey=e.countryKey,n.srcCountryName=e.countryName,n.destCountryKey=t.countryKey,n.destCountryName=t.countryName,n.isCohortPlan=e.isCohortPlan,n},e.prototype.onCopyCountry=function(e,t){var n=this,l=this.getCopyCountryPayload(e,t);this.callBaseConnection({commandName:e.planType?i.p.COPY_COUNTRY_PLAN:i.p.COPY_ADJUST_COUNTRY_PLAN,payload:l}).subscribe((function(l){if(l&&l.studyPlanDetails){if(t.isNewCountry&&l.studyPlanDetails&&l.studyPlanDetails.geoList){var r=l.studyPlanDetails.geoList.geography.findIndex((function(e){return e.geographyKey===t.countryKey}));r>-1&&(l.studyPlanDetails.geoList.geography[r].isNewCountry=!0)}t.isNewCountry||e.params.api.forEachNode((function(e){e.data.geographyKey===t.countryKey&&e.data.isEdited&&(e.data.isEdited=!1)})),e.params.context.componentParent.methodToUpdatePlan(l,"copyCountry")}else if(l&&l.error){i.S.find((function(e){return e===l.error.errorCode}))&&e.params.context.componentParent.setRevertLink(l);var a=l.error.message.indexOf(":"),o=l.error.message.substring(a+1),s=n.getErrorMessages(l.error.errorCode,o),u=n.warningMessageDialog(e,s,n.optionDialogResource.copyCountryHeading);n.generalWarningDialog(u,e)}}))},e.ngInjectableDef=h["ɵɵdefineInjectable"]({factory:function(){return new e(h["ɵɵinject"](a.M),h["ɵɵinject"](o.cb),h["ɵɵinject"](s.a),h["ɵɵinject"](a.S),h["ɵɵinject"](a.h),h["ɵɵinject"](a.D),h["ɵɵinject"](o.e),h["ɵɵinject"](f.e),h["ɵɵinject"](m.DatePipe),h["ɵɵinject"](a.y),h["ɵɵinject"](u.a))},token:e,providedIn:"root"}),e}()},EQPj:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return Q})),n.d(t,"d",(function(){return ee})),n.d(t,"l",(function(){return re})),n.d(t,"e",(function(){return ae})),n.d(t,"m",(function(){return ue})),n.d(t,"f",(function(){return ce})),n.d(t,"n",(function(){return he})),n.d(t,"g",(function(){return fe})),n.d(t,"o",(function(){return Pe})),n.d(t,"t",(function(){return Le})),n.d(t,"h",(function(){return Oe})),n.d(t,"p",(function(){return _e})),n.d(t,"u",(function(){return xe})),n.d(t,"i",(function(){return Fe})),n.d(t,"q",(function(){return Ue})),n.d(t,"j",(function(){return Ve})),n.d(t,"r",(function(){return Ye})),n.d(t,"k",(function(){return Ge})),n.d(t,"s",(function(){return He}));var l=n("LoAr"),r=n("6nV5"),a=(n("C9Ky"),n("tjWy"),n("pLqg"),n("7tlY"),n("UUMc"),n("f8B5"),n("WT9V")),o=n("eXL1"),i=n("C7Lb"),s=n("D5nm"),u=n("IfiR"),c=n("0xYh"),d=n("WV+C"),p=(n("pnMH"),n("LYzL")),h=(n("y7gG"),n("SECt")),f=n("SeAg"),m=n("s8WJ"),g=n("5kg2"),y=(n("CRa1"),n("O0P8"),n("7qGT"),n("981U")),v=(n("abkR"),n("IvSS")),S=n("GcYS"),R=n("8raB"),C=(n("rXXt"),n("6RHh"),n("X7Hn"),n("EAoM"),n("Ho7M")),b=(n("+3V+"),n("dgjn"),n("w9fW"),n("z1EI"),n("bdSb"),n("e5Hd"),n("Hfg7"),n("QIIz"),n("euho"),n("Gien")),P=n("Z5FQ"),D=n("2tfK"),A=n("QH8h"),E=n("fHWn"),T=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function I(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,1,0,null==n.data?null:n.data.prefixImageUrl)}))}function L(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["ɵdid"](1,81920,null,0,m.m,[[2,m.l],l.ElementRef,m.e],null,null),(e()(),l["ɵted"](2,null,["",""]))],(function(e,t){e(t,1,0)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,1).id),e(t,2,0,null==n.data?null:n.data.heading)}))}function O(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,1,0,null==n.data?null:n.data.postfixImageUrl)}))}function _(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,5,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,4,"i",[["class","material-icons"]],null,null,null,null,null)),l["ɵprd"](512,null,a["ɵNgStyleImpl"],a["ɵNgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["ɵdid"](3,278528,null,0,a.NgStyle,[a["ɵNgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["ɵpod"](4,{color:0,"font-size":1}),(e()(),l["ɵted"](5,null,[" "," "]))],(function(e,t){var n=t.component,l=e(t,4,0,null==n.data?null:null==n.data.prefixMaterialIcon?null:n.data.prefixMaterialIcon.color,null==n.data?null:null==n.data.prefixMaterialIcon?null:n.data.prefixMaterialIcon.size);e(t,3,0,l)}),(function(e,t){var n=t.component;e(t,5,0,null==n.data?null:null==n.data.prefixMaterialIcon?null:n.data.prefixMaterialIcon.name)}))}function N(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,5,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,4,"i",[["class","material-icons"]],null,null,null,null,null)),l["ɵprd"](512,null,a["ɵNgStyleImpl"],a["ɵNgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["ɵdid"](3,278528,null,0,a.NgStyle,[a["ɵNgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["ɵpod"](4,{color:0,"font-size":1}),(e()(),l["ɵted"](5,null,[" "," "]))],(function(e,t){var n=t.component,l=e(t,4,0,null==n.data?null:null==n.data.postfixMaterialIcon?null:n.data.postfixMaterialIcon.color,null==n.data?null:null==n.data.postfixMaterialIcon?null:n.data.postfixMaterialIcon.size);e(t,3,0,l)}),(function(e,t){var n=t.component;e(t,5,0,null==n.data?null:null==n.data.postfixMaterialIcon?null:n.data.postfixMaterialIcon.name)}))}function M(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"button",[["class","cancel-btn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"click"===t&&(l=!1!==r.cancel(r.data.cancelLabel)&&l),l}),b.b,b.a)),l["ɵdid"](1,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],null,null),(e()(),l["ɵted"](2,0,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,1).disabled||null,"NoopAnimations"===l["ɵnov"](t,1)._animationMode),e(t,2,0,null==n.data?null:n.data.cancelLabel)}))}function w(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,10,"div",[["class","dialog-heading"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,I)),l["ɵdid"](2,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](3,0,null,null,5,"div",[],null,null,null,null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](5,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),l["ɵpod"](6,{"col-sm-6":0,"col-sm-9":1,"col-sm-12":2}),(e()(),l["ɵand"](16777216,null,null,1,null,L)),l["ɵdid"](8,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,O)),l["ɵdid"](10,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](11,0,null,null,10,"div",[["class","dialog-content-container mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l["ɵdid"](12,16384,null,0,m.j,[],null,null),(e()(),l["ɵand"](16777216,null,null,1,null,_)),l["ɵdid"](14,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](15,0,null,null,4,"div",[["class","html-data-container"]],null,null,null,null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](17,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](18,{"col-sm-6":0,"col-sm-9":1,"col-sm-12":2}),(e()(),l["ɵeld"](19,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,N)),l["ɵdid"](21,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](22,0,null,null,6,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l["ɵdid"](23,16384,null,0,m.f,[],null,null),(e()(),l["ɵand"](16777216,null,null,1,null,M)),l["ɵdid"](25,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](26,0,null,null,2,"button",[["cdkFocusInitial",""],["class","ok-btn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"click"===t&&(l=!1!==r.ok(r.data.okLabel)&&l),l}),b.b,b.a)),l["ɵdid"](27,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],null,null),(e()(),l["ɵted"](28,0,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,n.data&&n.data.prefixImageUrl);var l=e(t,6,0,!(!n.data.prefixImageUrl||!n.data.postfixImageUrl),!(!n.data.prefixImageUrl&&!n.data.postfixImageUrl),!n.data.prefixImageUrl&&!n.data.postfixImageUrl);e(t,5,0,l),e(t,8,0,n.data.heading),e(t,10,0,n.data&&n.data.postfixImageUrl),e(t,14,0,n.data&&n.data.prefixMaterialIcon);var r=n.data.contentClass,a=e(t,18,0,!(!n.data.postfixMaterialIcon||!n.data.prefixMaterialIcon),!(!n.data.prefixMaterialIcon&&!n.data.postfixMaterialIcon),!n.data.prefixMaterialIcon&&!n.data.postfixMaterialIcon);e(t,17,0,r,a),e(t,21,0,n.data&&n.data.postfixMaterialIcon),e(t,25,0,n.showCancel())}),(function(e,t){var n=t.component;e(t,19,0,null==n.data?null:n.data.message),e(t,26,0,l["ɵnov"](t,27).disabled||null,"NoopAnimations"===l["ɵnov"](t,27)._animationMode),e(t,28,0,null==n.data?null:n.data.okLabel)}))}function x(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-confirmation-dialog",[],null,null,null,w,T)),l["ɵdid"](1,49152,null,0,r.t,[m.l,m.a],null,null)],null,null)}var F=l["ɵccf"]("ctos-confirmation-dialog",r.t,x,{},{},[]),k=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function j(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,8,"div",[],null,null,null,null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](2,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),l["ɵeld"](3,0,null,null,3,"p",[["class","position-text"]],null,null,null,null,null)),(e()(),l["ɵeld"](4,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(e()(),l["ɵeld"](5,0,null,null,1,"span",[["class","data"]],null,null,null,null,null)),(e()(),l["ɵted"](6,null,["",""])),(e()(),l["ɵeld"](7,0,null,null,1,"a",[["class","closeBanner"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.close()&&l),l}),null,null)),(e()(),l["ɵted"](-1,null,["×"]))],(function(e,t){e(t,2,0,t.component.data.messageType)}),(function(e,t){var n=t.component;e(t,4,0,n.data.icon),e(t,6,0,n.data.message)}))}function U(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-display-banner",[],null,null,null,j,k)),l["ɵdid"](1,114688,null,0,r.z,[R.a,R.g],null,null)],(function(e,t){e(t,1,0)}),null)}var V=l["ɵccf"]("ctos-display-banner",r.z,U,{},{},[]),K=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Y(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"button",[["class","btn-add-comment"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.resetNote()&&l),l}),b.b,b.a)),l["ɵdid"](1,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],{disableRipple:[0,"disableRipple"]},null),(e()(),l["ɵted"](-1,0,[" Cancel "]))],(function(e,t){e(t,1,0,!0)}),(function(e,t){e(t,0,0,l["ɵnov"](t,1).disabled||null,"NoopAnimations"===l["ɵnov"](t,1)._animationMode)}))}function G(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,[" add_circle_outline "]))],null,null)}function H(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,16,null,null,null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,7,"textarea",[["class","form-control"],["cols","50"],["id","content"],["maxlength","1024"],["name","content"],["rows","3"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,a=e.component;return"input"===t&&(r=!1!==l["ɵnov"](e,2)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,2).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,2)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,2)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==a.onContentChange(n)&&r),"ngModelChange"===t&&(r=!1!==(a.noteTemplate.content=n)&&r),r}),null,null)),l["ɵdid"](2,16384,null,0,u.e,[l.Renderer2,l.ElementRef,[2,u.a]],null,null),l["ɵdid"](3,540672,null,0,u.o,[],{maxlength:[0,"maxlength"]},null),l["ɵprd"](1024,null,u.p,(function(e){return[e]}),[u.o]),l["ɵprd"](1024,null,u.q,(function(e){return[e]}),[u.e]),l["ɵdid"](6,671744,[["content",4]],0,u.v,[[8,null],[6,u.p],[8,null],[6,u.q]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,u.r,null,[u.v]),l["ɵdid"](8,16384,null,0,u.s,[[4,u.r]],null,null),(e()(),l["ɵeld"](9,0,null,null,7,"div",[["class","row action-btn-container"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,Y)),l["ɵdid"](11,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](12,0,null,null,4,"button",[["class","btn-add-comment"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.addComment()&&l),l}),b.b,b.a)),l["ɵdid"](13,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],{disabled:[0,"disabled"],disableRipple:[1,"disableRipple"]},null),(e()(),l["ɵand"](16777216,null,0,1,null,G)),l["ɵdid"](15,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵted"](16,0,[" "," "]))],(function(e,t){var n=t.component;e(t,3,0,"1024"),e(t,6,0,"content",!n.areNotesEditable,n.noteTemplate.content),e(t,11,0,n.isEditMode),e(t,13,0,!n.isEnabled(),!0),e(t,15,0,!n.isEditMode)}),(function(e,t){var n=t.component;e(t,1,0,l["ɵinlineInterpolate"](1,"",null==n.countryNotesProp?null:null==n.countryNotesProp.resources?null:n.countryNotesProp.resources.TYPE_TO_ADD_COMMENT,""),l["ɵnov"](t,3).maxlength?l["ɵnov"](t,3).maxlength:null,l["ɵnov"](t,8).ngClassUntouched,l["ɵnov"](t,8).ngClassTouched,l["ɵnov"](t,8).ngClassPristine,l["ɵnov"](t,8).ngClassDirty,l["ɵnov"](t,8).ngClassValid,l["ɵnov"](t,8).ngClassInvalid,l["ɵnov"](t,8).ngClassPending),e(t,12,0,l["ɵnov"](t,13).disabled||null,"NoopAnimations"===l["ɵnov"](t,13)._animationMode),e(t,16,0,n.isEditMode?"Save Comment":null==n.countryNotesProp?null:null==n.countryNotesProp.resources?null:n.countryNotesProp.resources.ADD_COMMENT)}))}function B(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,"div",[["class","col-sm-1"]],null,null,null,null,null))],null,null)}function q(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,4,"div",[["class","col-sm-1 btn-remove-note"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.removeNote(e.parent.parent.context.index)&&l),l}),null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](3,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l["ɵeld"](4,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,[" clear "]))],(function(e,t){e(t,3,0,"col-sm-1 btn-remove-note",!1===t.component.countryNotesProp.areNotesEditable?"disable":"")}),null)}function W(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,q)),l["ɵdid"](2,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](3,0,null,null,7,"div",[["class","col-sm-11 row"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onNoteSelected(e.parent.context.$implicit,e.parent.context.index)&&l),l}),null,null)),(e()(),l["ɵeld"](4,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),l["ɵted"](5,null,["",""])),l["ɵppd"](6,2),(e()(),l["ɵeld"](7,0,null,null,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),l["ɵted"](8,null,["",""])),(e()(),l["ɵeld"](9,0,null,null,1,"div",[["class","col-sm-6 txt-content"]],null,null,null,null,null)),(e()(),l["ɵted"](10,null,["",""]))],(function(e,t){var n=t.component;e(t,2,0,null==n.countryNotesProp?null:n.countryNotesProp.areNotesEditable)}),(function(e,t){var n=l["ɵunv"](t,5,0,e(t,6,0,l["ɵnov"](t.parent.parent,0),t.parent.context.$implicit.lastModifiedDate,"dd-MMM-yyyy"));e(t,5,0,n),e(t,8,0,t.parent.context.$implicit.userId),e(t,10,0,t.parent.context.$implicit.content)}))}function $(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"div",[["class","row  note-row"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,W)),l["ɵdid"](2,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.component.isDeletedNote(t.context.$implicit))}),null)}function z(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,2,"button",[["class","ctos-btn-secondary"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancel()&&l),l}),b.b,b.a)),l["ɵdid"](2,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],null,null),(e()(),l["ɵted"](3,0,["",""])),(e()(),l["ɵeld"](4,0,null,null,2,"button",[["cdkFocusInitial",""],["class","ctos-btn-primary offset-2"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ok()&&l),l}),b.b,b.a)),l["ɵdid"](5,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],{disabled:[0,"disabled"]},null),(e()(),l["ɵted"](6,0,["",""]))],(function(e,t){e(t,5,0,!t.component.areNotesEditable)}),(function(e,t){var n=t.component;e(t,1,0,l["ɵnov"](t,2).disabled||null,"NoopAnimations"===l["ɵnov"](t,2)._animationMode),e(t,3,0,null==n.countryNotesProp?null:null==n.countryNotesProp.resources?null:n.countryNotesProp.resources.CANCEL),e(t,4,0,l["ɵnov"](t,5).disabled||null,"NoopAnimations"===l["ɵnov"](t,5)._animationMode),e(t,6,0,null==n.countryNotesProp?null:null==n.countryNotesProp.resources?null:n.countryNotesProp.resources.SAVE)}))}function J(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,2,"button",[["class","ctos-btn-primary"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancel()&&l),l}),b.b,b.a)),l["ɵdid"](2,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],null,null),(e()(),l["ɵted"](3,0,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,l["ɵnov"](t,2).disabled||null,"NoopAnimations"===l["ɵnov"](t,2)._animationMode),e(t,3,0,null==n.countryNotesProp?null:null==n.countryNotesProp.resources?null:n.countryNotesProp.resources.OK)}))}function X(e){return l["ɵvid"](0,[l["ɵpid"](0,a.DatePipe,[l.LOCALE_ID]),(e()(),l["ɵeld"](1,0,null,null,2,"h3",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["ɵdid"](2,81920,null,0,m.m,[[2,m.l],l.ElementRef,m.e],null,null),(e()(),l["ɵted"](3,null,[" "," ",""])),(e()(),l["ɵeld"](4,0,null,null,17,"div",[["class","country-notes-container mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l["ɵdid"](5,16384,null,0,m.j,[],null,null),(e()(),l["ɵand"](16777216,null,null,1,null,H)),l["ɵdid"](7,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](8,0,null,null,13,"div",[["class","note-list-container"]],null,null,null,null,null)),(e()(),l["ɵeld"](9,0,null,null,9,"div",[["class","row note-list-header"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,B)),l["ɵdid"](11,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](12,0,null,null,6,"div",[["class","col-sm-11 row"]],null,null,null,null,null)),(e()(),l["ɵeld"](13,0,null,null,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),l["ɵted"](14,null,["",""])),(e()(),l["ɵeld"](15,0,null,null,1,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),l["ɵted"](16,null,["",""])),(e()(),l["ɵeld"](17,0,null,null,1,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),l["ɵted"](18,null,["",""])),(e()(),l["ɵeld"](19,0,null,null,2,"div",[["class","note-list-data"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,$)),l["ɵdid"](21,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](22,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l["ɵdid"](23,16384,null,0,m.f,[],null,null),(e()(),l["ɵand"](16777216,null,null,1,null,z)),l["ɵdid"](25,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,J)),l["ɵdid"](27,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0),e(t,7,0,null==n.countryNotesProp?null:n.countryNotesProp.areNotesEditable),e(t,11,0,null==n.countryNotesProp?null:n.countryNotesProp.areNotesEditable),e(t,21,0,n.countryNotesProp.noteList),e(t,25,0,null==n.countryNotesProp?null:n.countryNotesProp.areNotesEditable),e(t,27,0,!(null!=n.countryNotesProp&&n.countryNotesProp.areNotesEditable))}),(function(e,t){var n=t.component;e(t,1,0,l["ɵnov"](t,2).id),e(t,3,0,null==n.countryNotesProp?null:n.countryNotesProp.titleLabel,null==n.countryNotesProp?null:n.countryNotesProp.titleValue),e(t,14,0,null==n.countryNotesProp?null:null==n.countryNotesProp.resources?null:n.countryNotesProp.resources.MODIFIED_DATE),e(t,16,0,null==n.countryNotesProp?null:null==n.countryNotesProp.resources?null:n.countryNotesProp.resources.USER_NAME),e(t,18,0,null==n.countryNotesProp?null:null==n.countryNotesProp.resources?null:n.countryNotesProp.resources.CONTENT)}))}function Z(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-notes",[],null,null,null,X,K)),l["ɵdid"](1,114688,null,0,r.Q,[m.l,m.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Q=l["ɵccf"]("ctos-notes",r.Q,Z,{},{},[]),ee=l["ɵcrt"]({encapsulation:0,styles:[""],data:{}});function te(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var r=!0,a=e.component;return"click"===t&&(r=!1!==l["ɵnov"](e,1)._checkDisabled(n)&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,1)._handleMouseEnter()&&r),"click"===t&&(r=!1!==a.optionClicked(e.parent.context.$implicit)&&r),r}),D.c,D.a)),l["ɵdid"](1,180224,[[2,4],[3,4]],0,g.e,[l.ElementRef,a.DOCUMENT,c.h,[2,g.b]],null,null),(e()(),l["ɵted"](2,0,["",""]))],null,(function(e,t){e(t,0,0,l["ɵnov"](t,1).role,l["ɵnov"](t,1)._highlighted,l["ɵnov"](t,1)._triggersSubmenu,l["ɵnov"](t,1)._getTabIndex(),l["ɵnov"](t,1).disabled.toString(),l["ɵnov"](t,1).disabled||null),e(t,2,0,t.parent.context.$implicit.name)}))}function ne(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var r=!0,a=e.component;return"click"===t&&(r=!1!==l["ɵnov"](e,1)._checkDisabled(n)&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,1)._handleMouseEnter()&&r),"mousedown"===t&&(r=!1!==l["ɵnov"](e,2)._handleMousedown(n)&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),"click"===t&&(r=!1!==l["ɵnov"](e,2)._handleClick(n)&&r),"click"===t&&(r=!1!==a.optionClicked(e.parent.context.$implicit)&&r),r}),D.c,D.a)),l["ɵdid"](1,180224,[[2,4],[3,4]],0,g.e,[l.ElementRef,a.DOCUMENT,c.h,[2,g.b]],null,null),l["ɵdid"](2,1196032,null,0,g.g,[o.c,l.ElementRef,l.ViewContainerRef,g.c,[2,g.d],[6,g.e],[2,i.b],c.h],{menu:[0,"menu"]},null),(e()(),l["ɵted"](3,0,["",""])),(e()(),l["ɵeld"](4,0,null,null,1,"ctos-nested-dropdown",[],null,[[null,"optionClick"]],(function(e,t,n){var l=!0;return"optionClick"===t&&(l=!1!==e.component.optionClicked(n)&&l),l}),re,ee)),l["ɵdid"](5,114688,[["innerPanel",4]],0,r.P,[],{items:[0,"items"]},{optionClick:"optionClick"})],(function(e,t){e(t,2,0,l["ɵnov"](t,5).menu),e(t,5,0,t.parent.context.$implicit.children)}),(function(e,t){e(t,0,0,l["ɵnov"](t,1).role,l["ɵnov"](t,1)._highlighted,l["ɵnov"](t,1)._triggersSubmenu,l["ɵnov"](t,1)._getTabIndex(),l["ɵnov"](t,1).disabled.toString(),l["ɵnov"](t,1).disabled||null,l["ɵnov"](t,2).menuOpen||null),e(t,3,0,t.parent.context.$implicit.name)}))}function le(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,te)),l["ɵdid"](2,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l["ɵand"](0,[["branch",2]],null,0,null,ne))],(function(e,t){e(t,2,0,!t.context.$implicit.children,l["ɵnov"](t,3))}),null)}function re(e){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{menu:0}),(e()(),l["ɵeld"](1,0,null,null,8,"mat-menu",[["class","nested-dropdown-menu world-wide-nested-dropdown-panel"]],null,null,null,D.d,D.b)),l["ɵprd"](6144,null,g.d,null,[g.h]),l["ɵprd"](6144,null,g.b,null,[g.d]),l["ɵdid"](4,1294336,[[1,4],["menu",4]],3,g.h,[l.ElementRef,l.NgZone,g.a],{panelClass:[0,"panelClass"]},null),l["ɵqud"](603979776,2,{_allItems:1}),l["ɵqud"](603979776,3,{items:1}),l["ɵqud"](603979776,4,{lazyContent:0}),(e()(),l["ɵand"](16777216,null,0,1,null,le)),l["ɵdid"](9,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"nested-dropdown-menu world-wide-nested-dropdown-panel"),e(t,9,0,n.items)}),null)}var ae=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function oe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"li",[["class","nav-item text-truncate"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onTabClick(e.context.$implicit.$moduleName)&&l),l}),null,null)),(e()(),l["ɵeld"](1,0,null,null,0,"a",[["class","nav-link text-truncate"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,1,0,t.context.$implicit.$name)}))}function ie(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,3,"h5",[["class","heading"],["matTooltipPosition","above"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,1).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,1)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](1,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],message:[1,"message"],tooltipClass:[2,"tooltipClass"]},null),(e()(),l["ɵeld"](2,0,null,null,0,"div",[["class","fullname_subheader"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵeld"](3,0,null,null,0,"div",[["class","fullname_subheader"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,"above",t.component.UserNameToolTip,"ctos-tooltip")}),(function(e,t){var n=t.component;e(t,2,0,n.firstName),e(t,3,0,n.lastName)}))}function se(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,6,"div",[["matTooltipPosition","right"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,1).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,1)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](1,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(e()(),l["ɵeld"](2,0,null,null,4,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var r=!0,a=e.component;return"click"===t&&(r=!1!==l["ɵnov"](e,3)._checkDisabled(n)&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,3)._handleMouseEnter()&&r),"click"===t&&(r=!1!==a.onClickAction(e.context.$implicit.name)&&r),r}),D.c,D.a)),l["ɵdid"](3,180224,[[4,4]],0,g.e,[l.ElementRef,a.DOCUMENT,c.h,[2,g.b]],{disabled:[0,"disabled"]},null),(e()(),l["ɵeld"](4,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l["ɵted"](5,null,["",""])),(e()(),l["ɵeld"](6,0,null,0,0,"hr",[],null,null,null,null,null)),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,"right",t.context.$implicit.isEnabled||!t.context.$implicit.tooltipMsg,t.context.$implicit.tooltipMsg),e(t,3,0,!t.context.$implicit.isEnabled)}),(function(e,t){e(t,2,0,l["ɵnov"](t,3).role,l["ɵnov"](t,3)._highlighted,l["ɵnov"](t,3)._triggersSubmenu,l["ɵnov"](t,3)._getTabIndex(),l["ɵnov"](t,3).disabled.toString(),l["ɵnov"](t,3).disabled||null),e(t,5,0,t.context.$implicit.name)}))}function ue(e){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{matMenu:0}),l["ɵqud"](402653184,2,{profileAnchor:0}),l["ɵqud"](402653184,3,{profilePopup:0}),(e()(),l["ɵeld"](3,0,null,null,38,"nav",[["class","navbar navbar-expand navbar-light bg-light"]],null,null,null,null,null)),(e()(),l["ɵeld"](4,0,null,null,10,"div",[["class","navbar-brand d-flex align-items-center"]],null,null,null,null,null)),(e()(),l["ɵeld"](5,0,null,null,4,"label",[["class","study-o-text"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["IQVIA "])),(e()(),l["ɵeld"](7,0,null,null,1,"sup",[],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["TM"])),(e()(),l["ɵted"](-1,null,[" StudyOptimizer"])),(e()(),l["ɵeld"](10,0,null,null,0,"div",[["class","v-divider"]],null,null,null,null,null)),(e()(),l["ɵeld"](11,0,null,null,3,"img",[["alt",""],["class","logo"]],[[8,"src",4]],[[null,"error"]],(function(e,t,n){var l=!0;return"error"===t&&(l=!1!==e.component.hideImage(n)&&l),l}),null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](13,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](14,{hideImage:0}),(e()(),l["ɵeld"](15,0,null,null,26,"div",[["class","collapse navbar-collapse d-flex justify-content-end full-height"],["id","navbarSupportedContent"]],null,null,null,null,null)),(e()(),l["ɵeld"](16,0,null,null,25,"ul",[["class","navbar-nav full-height"]],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,oe)),l["ɵdid"](18,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](19,0,null,null,2,"div",[["class","nav-item"],["id","my-widget"]],null,null,null,null,null)),(e()(),l["ɵeld"](20,0,null,null,1,"div",[["class","appcues-widget-icon"]],null,null,null,null,null)),(e()(),l["ɵeld"](21,0,null,null,0,"img",[["height","30px"],["width","30px"]],[[8,"src",4]],null,null,null,null)),(e()(),l["ɵeld"](22,0,null,null,1,"li",[["class","nav-item divider-menu-item"]],null,null,null,null,null)),(e()(),l["ɵeld"](23,0,null,null,0,"div",[["class","v-divider"]],null,null,null,null,null)),(e()(),l["ɵeld"](24,0,null,null,17,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),l["ɵeld"](25,0,null,null,16,"div",[["class","profile-wrapper"]],null,null,null,null,null)),(e()(),l["ɵeld"](26,16777216,null,null,4,"button",[["aria-haspopup","true"],["class"," mat-menu-trigger"],["mat-icon-button",""]],[[1,"aria-expanded",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var r=!0;return"mousedown"===t&&(r=!1!==l["ɵnov"](e,27)._handleMousedown(n)&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,27)._handleKeydown(n)&&r),"click"===t&&(r=!1!==l["ɵnov"](e,27)._handleClick(n)&&r),r}),b.b,b.a)),l["ɵdid"](27,1196032,null,0,g.g,[o.c,l.ElementRef,l.ViewContainerRef,g.c,[2,g.d],[8,null],[2,i.b],c.h],{menu:[0,"menu"]},null),l["ɵdid"](28,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],null,null),(e()(),l["ɵeld"](29,0,null,0,1,"div",[["class","profile-config"]],null,null,null,null,null)),(e()(),l["ɵeld"](30,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵeld"](31,0,null,null,10,"mat-menu",[],null,null,null,D.d,D.b)),l["ɵprd"](6144,null,g.d,null,[g.h]),l["ɵprd"](6144,null,g.b,null,[g.d]),l["ɵdid"](34,1294336,[[1,4],["menu",4]],3,g.h,[l.ElementRef,l.NgZone,g.a],{xPosition:[0,"xPosition"],yPosition:[1,"yPosition"],overlapTrigger:[2,"overlapTrigger"],panelClass:[3,"panelClass"]},null),l["ɵqud"](603979776,4,{_allItems:1}),l["ɵqud"](603979776,5,{items:1}),l["ɵqud"](603979776,6,{lazyContent:0}),(e()(),l["ɵand"](16777216,null,0,1,null,ie)),l["ɵdid"](39,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,0,1,null,se)),l["ɵdid"](41,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,r=e(t,14,0,n.hideCustomerLogo);e(t,13,0,"logo",r),e(t,18,0,n.items),e(t,27,0,l["ɵnov"](t,34)),e(t,34,0,"before","below",!1,"context-menu "+n.contextMenuClass),e(t,39,0,n.UserNameToolTip),e(t,41,0,n.profileItems)}),(function(e,t){var n=t.component;e(t,11,0,n.logoUrl),e(t,21,0,n.appInfoUrl),e(t,26,0,l["ɵnov"](t,27).menuOpen||null,l["ɵnov"](t,28).disabled||null,"NoopAnimations"===l["ɵnov"](t,28)._animationMode),e(t,30,0,n.userInitials)}))}var ce=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function de(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,5,"div",[],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onTabClick(e.context.$implicit.$moduleName,n)&&l),l}),null,null)),(e()(),l["ɵeld"](1,0,null,null,4,"a",[["href","javascript:void();"]],null,null,null,null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](3,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),l["ɵpod"](4,{active:0,disabled:1}),(e()(),l["ɵted"](5,null,[""," "]))],(function(e,t){var n=t.component,l=e(t,4,0,!0===n.isTabActive(t.context.$implicit),!0===n.disableLink);e(t,3,0,l)}),(function(e,t){e(t,5,0,t.context.$implicit.$name)}))}function pe(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,7,"div",[["class","float-right study-refresh-date"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,[": "])),(e()(),l["ɵeld"](4,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),l["ɵeld"](5,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),l["ɵted"](6,null,["",""])),l["ɵppd"](7,2)],null,(function(e,t){var n=t.component;e(t,1,0,n.studyRefreshDateLabel);var r=l["ɵunv"](t,6,0,e(t,7,0,l["ɵnov"](t.parent,0),n.studyRefreshDate,"dd-MMM-yyyy"));e(t,6,0,r)}))}function he(e){return l["ɵvid"](0,[l["ɵpid"](0,a.DatePipe,[l.LOCALE_ID]),(e()(),l["ɵeld"](1,0,null,null,6,"div",[["class","subnav"]],null,null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,1,"ctos-search-list",[],null,[[null,"itemSelect"],[null,"selectionChange"]],(function(e,t,n){var l=!0,r=e.component;return"itemSelect"===t&&(l=!1!==r.itemSelected(n)&&l),"selectionChange"===t&&(l=!1!==r.onStudyChange(n)&&l),l}),Pe,fe)),l["ɵdid"](3,770048,null,0,r.jb,[u.g,r.y],{isSearchListOn:[0,"isSearchListOn"],searchListInput:[1,"searchListInput"],required:[2,"required"],searchListFormGroupName:[3,"searchListFormGroupName"]},{itemSelect:"itemSelect",selectionChange:"selectionChange"}),(e()(),l["ɵand"](16777216,null,null,1,null,de)),l["ɵdid"](5,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,pe)),l["ɵdid"](7,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.isSearchListOn,n.studyListInput,!1,n.searchListFormGroupName),e(t,5,0,n.subHeaders),e(t,7,0,n.studyRefreshDate)}),null)}var fe=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function me(e){return l["ɵvid"](0,[(e()(),l["ɵand"](0,null,null,0))],null,null)}function ge(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,5,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"],[null,"longpress"],[null,"touchend"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==l["ɵnov"](e,1)._selectViaInteraction()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"longpress"===t&&(r=!1!==l["ɵnov"](e,2).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,2)._handleTouchend()&&r),r}),A.d,A.b)),l["ɵdid"](1,8568832,[[2,4]],0,p.p,[l.ElementRef,l.ChangeDetectorRef,[2,p.j],[2,p.o]],{value:[0,"value"]},null),l["ɵdid"](2,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{message:[0,"message"]},null),(e()(),l["ɵand"](16777216,null,0,2,null,me)),l["ɵdid"](4,540672,null,0,a.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["ɵpod"](5,{$implicit:0}),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit),e(t,2,0,l["ɵinlineInterpolate"](1,"",t.context.$implicit.name,""));var r=e(t,5,0,t.context.$implicit);e(t,4,0,r,n.searchListInput.optionTemplate)}),(function(e,t){e(t,0,0,l["ɵnov"](t,1)._getTabIndex(),l["ɵnov"](t,1).selected,l["ɵnov"](t,1).multiple,l["ɵnov"](t,1).active,l["ɵnov"](t,1).id,l["ɵnov"](t,1)._getAriaSelected(),l["ɵnov"](t,1).disabled.toString(),l["ɵnov"](t,1).disabled)}))}function ye(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,4,"mat-optgroup",[["class","mat-optgroup"],["role","group"]],[[2,"mat-optgroup-disabled",null],[1,"aria-disabled",0],[1,"aria-labelledby",0]],null,null,A.c,A.a)),l["ɵdid"](1,49152,[[3,4]],0,p.o,[],{label:[0,"label"]},null),(e()(),l["ɵand"](16777216,null,1,2,null,ge)),l["ɵdid"](3,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["ɵpid"](131072,a.AsyncPipe,[l.ChangeDetectorRef])],(function(e,t){e(t,1,0,t.context.$implicit.name),e(t,3,0,l["ɵunv"](t,3,0,l["ɵnov"](t,4).transform(t.context.$implicit.list)))}),(function(e,t){e(t,0,0,l["ɵnov"](t,1).disabled,l["ɵnov"](t,1).disabled.toString(),l["ɵnov"](t,1)._labelId)}))}function ve(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,33,"div",[["class","search-list-container"],["matAutocompleteOrigin",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==l["ɵnov"](e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==l["ɵnov"](e,2).onReset()&&r),r}),null,null)),l["ɵdid"](1,16384,[["origin",4]],0,s.f,[l.ElementRef],null,null),l["ɵdid"](2,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),l["ɵprd"](2048,null,u.d,null,[u.l]),l["ɵdid"](4,16384,null,0,u.t,[[4,u.d]],null,null),(e()(),l["ɵeld"](5,0,null,null,1,"label",[["class","study-label"]],null,null,null,null,null)),(e()(),l["ɵted"](6,null,["",""])),(e()(),l["ɵeld"](7,0,null,null,3,"i",[["class","material-icons arrow-mat-icon"]],null,null,null,null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](9,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l["ɵted"](-1,null,["play_arrow"])),(e()(),l["ɵeld"](11,16777216,[[1,0],["searchbox",1]],null,6,"input",[["aria-label","Search"],["class","dropdownArrow form-control study-and-study-name mat-autocomplete-trigger"],["formControlName","searchListControl"],["type","button"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"blur"],[null,"focusin"],[null,"input"],[null,"keydown"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,a=e.component;return"focusin"===t&&(r=!1!==l["ɵnov"](e,12)._handleFocus()&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,12)._onTouched()&&r),"input"===t&&(r=!1!==l["ɵnov"](e,12)._handleInput(n)&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,12)._handleKeydown(n)&&r),"input"===t&&(r=!1!==l["ɵnov"](e,13)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,13).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,13)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,13)._compositionEnd(n.target.value)&&r),"click"===t&&(r=!1!==a.click()&&r),"blur"===t&&(r=!1!==a.onBlur()&&r),r}),null,null)),l["ɵdid"](12,4866048,null,0,s.g,[l.ElementRef,o.c,l.ViewContainerRef,l.NgZone,l.ChangeDetectorRef,s.b,[2,i.b],[8,null],[2,a.DOCUMENT],v.d],{autocomplete:[0,"autocomplete"],connectedTo:[1,"connectedTo"]},null),l["ɵdid"](13,16384,null,0,u.e,[l.Renderer2,l.ElementRef,[2,u.a]],null,null),l["ɵprd"](1024,null,u.q,(function(e,t){return[e,t]}),[s.g,u.e]),l["ɵdid"](15,671744,null,0,u.j,[[3,u.d],[8,null],[8,null],[6,u.q],[2,u.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,u.r,null,[u.j]),l["ɵdid"](17,16384,null,0,u.s,[[4,u.r]],null,null),(e()(),l["ɵeld"](18,0,null,null,15,"mat-autocomplete",[["class","mat-autocomplete"],["showPanel","true"]],null,[[null,"optionSelected"],[null,"opened"],[null,"closed"]],(function(e,t,n){var l=!0,r=e.component;return"optionSelected"===t&&(l=!1!==r.itemSelected(n)&&l),"opened"===t&&(l=!1!==r.open()&&l),"closed"===t&&(l=!1!==r.close()&&l),l}),E.b,E.a)),l["ɵprd"](6144,null,p.j,null,[s.d]),l["ɵdid"](20,1097728,[["searchList",4]],2,s.d,[l.ChangeDetectorRef,l.ElementRef,s.a],{displayWith:[0,"displayWith"],classList:[1,"classList"]},{optionSelected:"optionSelected",opened:"opened",closed:"closed"}),l["ɵqud"](603979776,2,{options:1}),l["ɵqud"](603979776,3,{optionGroups:1}),(e()(),l["ɵeld"](23,0,null,0,1,"i",[["class","material-icons search-mat-icon"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["search"])),(e()(),l["ɵeld"](25,16777216,[["autoCompleteInput",1]],0,6,"input",[["aria-label","Search"],["class","dropdownArrow form-control"],["formControlName","filterListControl"],["matTooltipPosition","right"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0,a=e.component;return"input"===t&&(r=!1!==l["ɵnov"](e,26)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,26).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,26)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,26)._compositionEnd(n.target.value)&&r),"longpress"===t&&(r=!1!==l["ɵnov"](e,31).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,31)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,31)._handleTouchend()&&r),"blur"===t&&(r=!1!==a.onBlur()&&r),r}),null,null)),l["ɵdid"](26,16384,null,0,u.e,[l.Renderer2,l.ElementRef,[2,u.a]],null,null),l["ɵprd"](1024,null,u.q,(function(e){return[e]}),[u.e]),l["ɵdid"](28,671744,null,0,u.j,[[3,u.d],[8,null],[8,null],[6,u.q],[2,u.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,u.r,null,[u.j]),l["ɵdid"](30,16384,null,0,u.s,[[4,u.r]],null,null),l["ɵdid"](31,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),(e()(),l["ɵand"](16777216,null,0,1,null,ye)),l["ɵdid"](33,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.searchListFormGroupName),e(t,9,0,"material-icons arrow-mat-icon",n.toggleArrowFlag?"rotate-arrow-icon-ninty-degree":"rotate-arrow-icon-zero-degree"),e(t,12,0,l["ɵnov"](t,20),l["ɵnov"](t,1)),e(t,15,0,"searchListControl"),e(t,20,0,n.formatItem,"search-list"),e(t,28,0,"filterListControl"),e(t,31,0,"right",!(n.searchListFormGroupName.get("searchListControl").touched&&n.searchListFormGroupName.get("searchListControl").hasError("required")),null==n.labels?null:n.labels.required,"warn ctos-tooltip"),e(t,33,0,n.$searchGroups)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,4).ngClassUntouched,l["ɵnov"](t,4).ngClassTouched,l["ɵnov"](t,4).ngClassPristine,l["ɵnov"](t,4).ngClassDirty,l["ɵnov"](t,4).ngClassValid,l["ɵnov"](t,4).ngClassInvalid,l["ɵnov"](t,4).ngClassPending),e(t,6,0,n.searchListInput.studyListHeaderLabel),e(t,11,1,[l["ɵnov"](t,12).autocompleteAttribute,l["ɵnov"](t,12).autocompleteDisabled?null:"combobox",l["ɵnov"](t,12).autocompleteDisabled?null:"list",l["ɵnov"](t,12).panelOpen&&l["ɵnov"](t,12).activeOption?l["ɵnov"](t,12).activeOption.id:null,l["ɵnov"](t,12).autocompleteDisabled?null:l["ɵnov"](t,12).panelOpen.toString(),l["ɵnov"](t,12).autocompleteDisabled||!l["ɵnov"](t,12).panelOpen?null:null==l["ɵnov"](t,12).autocomplete?null:l["ɵnov"](t,12).autocomplete.id,!l["ɵnov"](t,12).autocompleteDisabled,l["ɵnov"](t,17).ngClassUntouched,l["ɵnov"](t,17).ngClassTouched,l["ɵnov"](t,17).ngClassPristine,l["ɵnov"](t,17).ngClassDirty,l["ɵnov"](t,17).ngClassValid,l["ɵnov"](t,17).ngClassInvalid,l["ɵnov"](t,17).ngClassPending]),e(t,25,0,n.searchListInput.placeholder,l["ɵnov"](t,30).ngClassUntouched,l["ɵnov"](t,30).ngClassTouched,l["ɵnov"](t,30).ngClassPristine,l["ɵnov"](t,30).ngClassDirty,l["ɵnov"](t,30).ngClassValid,l["ɵnov"](t,30).ngClassInvalid,l["ɵnov"](t,30).ngClassPending)}))}function Se(e){return l["ɵvid"](0,[(e()(),l["ɵand"](0,null,null,0))],null,null)}function Re(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,5,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"],[null,"longpress"],[null,"touchend"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==l["ɵnov"](e,1)._selectViaInteraction()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"longpress"===t&&(r=!1!==l["ɵnov"](e,2).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,2)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,2)._handleTouchend()&&r),r}),A.d,A.b)),l["ɵdid"](1,8568832,[[4,4]],0,p.p,[l.ElementRef,l.ChangeDetectorRef,[2,p.j],[2,p.o]],{value:[0,"value"]},null),l["ɵdid"](2,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{message:[0,"message"]},null),(e()(),l["ɵand"](16777216,null,0,2,null,Se)),l["ɵdid"](4,540672,null,0,a.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["ɵpod"](5,{$implicit:0}),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit),e(t,2,0,l["ɵinlineInterpolate"](1,"",t.context.$implicit.name,""));var r=e(t,5,0,t.context.$implicit);e(t,4,0,r,n.searchListInput.optionTemplate)}),(function(e,t){e(t,0,0,l["ɵnov"](t,1)._getTabIndex(),l["ɵnov"](t,1).selected,l["ɵnov"](t,1).multiple,l["ɵnov"](t,1).active,l["ɵnov"](t,1).id,l["ɵnov"](t,1)._getAriaSelected(),l["ɵnov"](t,1).disabled.toString(),l["ɵnov"](t,1).disabled)}))}function Ce(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,4,"mat-optgroup",[["class","mat-optgroup"],["role","group"]],[[2,"mat-optgroup-disabled",null],[1,"aria-disabled",0],[1,"aria-labelledby",0]],null,null,A.c,A.a)),l["ɵdid"](1,49152,[[5,4]],0,p.o,[],{label:[0,"label"]},null),(e()(),l["ɵand"](16777216,null,1,2,null,Re)),l["ɵdid"](3,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["ɵpid"](131072,a.AsyncPipe,[l.ChangeDetectorRef])],(function(e,t){e(t,1,0,t.context.$implicit.name),e(t,3,0,l["ɵunv"](t,3,0,l["ɵnov"](t,4).transform(t.context.$implicit.list)))}),(function(e,t){e(t,0,0,l["ɵnov"](t,1).disabled,l["ɵnov"](t,1).disabled.toString(),l["ɵnov"](t,1)._labelId)}))}function be(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,20,"div",[["class","search-list-container"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==l["ɵnov"](e,1).onSubmit(n)&&r),"reset"===t&&(r=!1!==l["ɵnov"](e,1).onReset()&&r),r}),null,null)),l["ɵdid"](1,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),l["ɵprd"](2048,null,u.d,null,[u.l]),l["ɵdid"](3,16384,null,0,u.t,[[4,u.d]],null,null),(e()(),l["ɵeld"](4,16777216,[["autoCompleteInput",1]],null,9,"input",[["aria-label","Search"],["class","dropdownArrow form-control mat-autocomplete-trigger"],["formControlName","searchListControl"],["matTooltipPosition","right"],["type","text"]],[[8,"placeholder",0],[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"focusin"],[null,"input"],[null,"keydown"],[null,"compositionstart"],[null,"compositionend"],[null,"longpress"],[null,"touchend"]],(function(e,t,n){var r=!0,a=e.component;return"focusin"===t&&(r=!1!==l["ɵnov"](e,5)._handleFocus()&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,5)._onTouched()&&r),"input"===t&&(r=!1!==l["ɵnov"](e,5)._handleInput(n)&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,5)._handleKeydown(n)&&r),"input"===t&&(r=!1!==l["ɵnov"](e,6)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,6).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,6)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,6)._compositionEnd(n.target.value)&&r),"longpress"===t&&(r=!1!==l["ɵnov"](e,13).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,13)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,13)._handleTouchend()&&r),"blur"===t&&(r=!1!==a.onBlur()&&r),r}),null,null)),l["ɵdid"](5,4866048,null,0,s.g,[l.ElementRef,o.c,l.ViewContainerRef,l.NgZone,l.ChangeDetectorRef,s.b,[2,i.b],[8,null],[2,a.DOCUMENT],v.d],{autocomplete:[0,"autocomplete"]},null),l["ɵdid"](6,16384,null,0,u.e,[l.Renderer2,l.ElementRef,[2,u.a]],null,null),l["ɵdid"](7,16384,null,0,u.z,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,u.p,(function(e){return[e]}),[u.z]),l["ɵprd"](1024,null,u.q,(function(e,t){return[e,t]}),[s.g,u.e]),l["ɵdid"](10,671744,null,0,u.j,[[3,u.d],[6,u.p],[8,null],[6,u.q],[2,u.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,u.r,null,[u.j]),l["ɵdid"](12,16384,null,0,u.s,[[4,u.r]],null,null),l["ɵdid"](13,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),(e()(),l["ɵeld"](14,0,null,null,6,"mat-autocomplete",[["class","mat-autocomplete"],["showPanel","true"]],null,[[null,"optionSelected"]],(function(e,t,n){var l=!0;return"optionSelected"===t&&(l=!1!==e.component.itemSelected(n)&&l),l}),E.b,E.a)),l["ɵprd"](6144,null,p.j,null,[s.d]),l["ɵdid"](16,1097728,[["searchList",4]],2,s.d,[l.ChangeDetectorRef,l.ElementRef,s.a],{displayWith:[0,"displayWith"],classList:[1,"classList"]},{optionSelected:"optionSelected"}),l["ɵqud"](603979776,4,{options:1}),l["ɵqud"](603979776,5,{optionGroups:1}),(e()(),l["ɵand"](16777216,null,0,1,null,Ce)),l["ɵdid"](20,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.searchListFormGroupName),e(t,5,0,l["ɵnov"](t,16)),e(t,7,0,n.required),e(t,10,0,"searchListControl"),e(t,13,0,"right",!(n.searchListFormGroupName.get("searchListControl").touched&&n.searchListFormGroupName.get("searchListControl").hasError("required")),null==n.labels?null:n.labels.required,"warn ctos-tooltip"),e(t,16,0,n.formatItem,"search-list"),e(t,20,0,n.$searchGroups)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,3).ngClassUntouched,l["ɵnov"](t,3).ngClassTouched,l["ɵnov"](t,3).ngClassPristine,l["ɵnov"](t,3).ngClassDirty,l["ɵnov"](t,3).ngClassValid,l["ɵnov"](t,3).ngClassInvalid,l["ɵnov"](t,3).ngClassPending),e(t,4,1,[n.searchListInput.placeholder,l["ɵnov"](t,5).autocompleteAttribute,l["ɵnov"](t,5).autocompleteDisabled?null:"combobox",l["ɵnov"](t,5).autocompleteDisabled?null:"list",l["ɵnov"](t,5).panelOpen&&l["ɵnov"](t,5).activeOption?l["ɵnov"](t,5).activeOption.id:null,l["ɵnov"](t,5).autocompleteDisabled?null:l["ɵnov"](t,5).panelOpen.toString(),l["ɵnov"](t,5).autocompleteDisabled||!l["ɵnov"](t,5).panelOpen?null:null==l["ɵnov"](t,5).autocomplete?null:l["ɵnov"](t,5).autocomplete.id,!l["ɵnov"](t,5).autocompleteDisabled,l["ɵnov"](t,7).required?"":null,l["ɵnov"](t,12).ngClassUntouched,l["ɵnov"](t,12).ngClassTouched,l["ɵnov"](t,12).ngClassPristine,l["ɵnov"](t,12).ngClassDirty,l["ɵnov"](t,12).ngClassValid,l["ɵnov"](t,12).ngClassInvalid,l["ɵnov"](t,12).ngClassPending])}))}function Pe(e){return l["ɵvid"](0,[l["ɵqud"](671088640,1,{searchbox:0}),(e()(),l["ɵand"](16777216,null,null,1,null,ve)),l["ɵdid"](2,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,be)),l["ɵdid"](4,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.isSearchListOn),e(t,4,0,!n.isSearchListOn)}),null)}var De=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ae(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),l["ɵdid"](1,16384,null,0,C.b,[],null,null),(e()(),l["ɵted"](2,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,1).id),e(t,2,0,n.validationMessage)}))}function Ee(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),l["ɵted"](1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function Te(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["ɵdid"](1,81920,null,0,m.m,[[2,m.l],l.ElementRef,m.e],null,null),(e()(),l["ɵted"](2,null,["",""])),(e()(),l["ɵeld"](3,0,null,null,61,"div",[["class","row password-dialog-container mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l["ɵdid"](4,16384,null,0,m.j,[],null,null),(e()(),l["ɵeld"](5,0,null,null,47,"div",[["class","col-6 left-side"]],null,null,null,null,null)),(e()(),l["ɵeld"](6,0,null,null,44,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==l["ɵnov"](e,8).onSubmit(n)&&r),"reset"===t&&(r=!1!==l["ɵnov"](e,8).onReset()&&r),r}),null,null)),l["ɵdid"](7,16384,null,0,u.G,[],null,null),l["ɵdid"](8,4210688,[["changePasswordForm",4]],0,u.u,[[8,null],[8,null]],null,null),l["ɵprd"](2048,null,u.d,null,[u.u]),l["ɵdid"](10,16384,null,0,u.t,[[4,u.d]],null,null),(e()(),l["ɵeld"](11,0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["ɵeld"](12,0,null,null,1,"label",[["class","control-label col-4 no-padding"],["for","currentPassword"]],null,null,null,null,null)),(e()(),l["ɵted"](13,null,["",""])),(e()(),l["ɵeld"](14,0,null,null,9,"div",[["class","backGround col-8"]],null,null,null,null,null)),(e()(),l["ɵeld"](15,16777216,null,null,8,"input",[["class","form-control"],["id","currentPassword"],["matTooltipPosition","right"],["name","currentPassword"],["required",""],["type","password"]],[[2,"is-invalid",null],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0,a=e.component;return"input"===t&&(r=!1!==l["ɵnov"](e,16)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,16).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,16)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,16)._compositionEnd(n.target.value)&&r),"longpress"===t&&(r=!1!==l["ɵnov"](e,23).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,23)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,23)._handleTouchend()&&r),"ngModelChange"===t&&(r=!1!==(a.currentPassword=n)&&r),"click"===t&&(r=!1!==a.hideSuccessMessage()&&r),r}),null,null)),l["ɵdid"](16,16384,null,0,u.e,[l.Renderer2,l.ElementRef,[2,u.a]],null,null),l["ɵdid"](17,16384,null,0,u.z,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,u.p,(function(e){return[e]}),[u.z]),l["ɵprd"](1024,null,u.q,(function(e){return[e]}),[u.e]),l["ɵdid"](20,671744,[["currentPasswordText",4]],0,u.v,[[2,u.d],[6,u.p],[8,null],[6,u.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,u.r,null,[u.v]),l["ɵdid"](22,16384,null,0,u.s,[[4,u.r]],null,null),l["ɵdid"](23,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),(e()(),l["ɵeld"](24,0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["ɵeld"](25,0,null,null,1,"label",[["class","control-label col-4 no-padding"],["for","newPassword"]],null,null,null,null,null)),(e()(),l["ɵted"](26,null,["",""])),(e()(),l["ɵeld"](27,0,null,null,9,"div",[["class","backGround col-8"]],null,null,null,null,null)),(e()(),l["ɵeld"](28,16777216,null,null,8,"input",[["class","form-control"],["id","newPassword"],["matTooltipPosition","right"],["name","newPassword"],["required",""],["type","password"]],[[2,"is-invalid",null],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"click"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0,a=e.component;return"input"===t&&(r=!1!==l["ɵnov"](e,29)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,29).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,29)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,29)._compositionEnd(n.target.value)&&r),"longpress"===t&&(r=!1!==l["ɵnov"](e,36).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,36)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,36)._handleTouchend()&&r),"ngModelChange"===t&&(r=!1!==(a.newPassword=n)&&r),"input"===t&&(r=!1!==l["ɵnov"](e,47).control.updateValueAndValidity()&&r),"click"===t&&(r=!1!==a.hideSuccessMessage()&&r),r}),null,null)),l["ɵdid"](29,16384,null,0,u.e,[l.Renderer2,l.ElementRef,[2,u.a]],null,null),l["ɵdid"](30,16384,null,0,u.z,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,u.p,(function(e){return[e]}),[u.z]),l["ɵprd"](1024,null,u.q,(function(e){return[e]}),[u.e]),l["ɵdid"](33,671744,[["newPasswordText",4]],0,u.v,[[2,u.d],[6,u.p],[8,null],[6,u.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,u.r,null,[u.v]),l["ɵdid"](35,16384,null,0,u.s,[[4,u.r]],null,null),l["ɵdid"](36,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),(e()(),l["ɵeld"](37,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),l["ɵeld"](38,0,null,null,1,"label",[["class","control-label col-4 no-padding"],["for","confirmPassword"]],null,null,null,null,null)),(e()(),l["ɵted"](39,null,["",""])),(e()(),l["ɵeld"](40,0,null,null,10,"div",[["class","backGround col-8"]],null,null,null,null,null)),(e()(),l["ɵeld"](41,16777216,null,null,9,"input",[["class","form-control"],["ctosConfirmEqualValidator","newPassword"],["id","confirmPassword"],["matTooltipPosition","right"],["name","confirmPassword"],["required",""],["type","password"]],[[2,"is-invalid",null],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0,a=e.component;return"input"===t&&(r=!1!==l["ɵnov"](e,42)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,42).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,42)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,42)._compositionEnd(n.target.value)&&r),"longpress"===t&&(r=!1!==l["ɵnov"](e,50).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,50)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,50)._handleTouchend()&&r),"ngModelChange"===t&&(r=!1!==(a.confirmPassword=n)&&r),"click"===t&&(r=!1!==a.hideSuccessMessage()&&r),r}),null,null)),l["ɵdid"](42,16384,null,0,u.e,[l.Renderer2,l.ElementRef,[2,u.a]],null,null),l["ɵdid"](43,16384,null,0,u.z,[],{required:[0,"required"]},null),l["ɵdid"](44,16384,null,0,r.s,[],{ctosConfirmEqualValidator:[0,"ctosConfirmEqualValidator"]},null),l["ɵprd"](1024,null,u.p,(function(e,t){return[e,t]}),[u.z,r.s]),l["ɵprd"](1024,null,u.q,(function(e){return[e]}),[u.e]),l["ɵdid"](47,671744,[["confirmPasswordText",4]],0,u.v,[[2,u.d],[6,u.p],[8,null],[6,u.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,u.r,null,[u.v]),l["ɵdid"](49,16384,null,0,u.s,[[4,u.r]],null,null),l["ɵdid"](50,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),(e()(),l["ɵand"](16777216,null,null,1,null,Ae)),l["ɵdid"](52,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](53,0,null,null,11,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),l["ɵeld"](54,0,null,null,10,"div",[["class","para"]],null,null,null,null,null)),(e()(),l["ɵeld"](55,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["The password must meet the following criteria:"])),(e()(),l["ɵeld"](57,0,null,null,7,"ol",[],null,null,null,null,null)),(e()(),l["ɵeld"](58,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),l["ɵted"](59,null,["",""])),(e()(),l["ɵeld"](60,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["ɵted"](61,null,[""," "])),(e()(),l["ɵeld"](62,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,Ee)),l["ɵdid"](64,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵeld"](65,0,null,null,10,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l["ɵdid"](66,16384,null,0,m.f,[],null,null),(e()(),l["ɵeld"](67,0,null,null,2,"button",[["class","cancel-btn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"click"===t&&(l=!1!==r.cancel(r.data.cancelLabel)&&l),l}),b.b,b.a)),l["ɵdid"](68,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],null,null),(e()(),l["ɵted"](69,0,[" "," "])),(e()(),l["ɵeld"](70,0,null,null,5,"button",[["cdkFocusInitial",""],["class","ok-btn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var r=!0,a=e.component;return"click"===t&&(r=!1!==a.ok(a.data.okLabel,l["ɵnov"](e,8))&&r),r}),b.b,b.a)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](72,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](73,{"disabled-button":0}),l["ɵdid"](74,180224,null,0,S.b,[l.ElementRef,c.h,[2,P.a]],{disabled:[0,"disabled"]},null),(e()(),l["ɵted"](75,0,[" "," "]))],(function(e,t){var n=t.component;e(t,1,0),e(t,17,0,""),e(t,20,0,"currentPassword",n.currentPassword),e(t,23,0,"right",!(l["ɵnov"](t,20).touched&&l["ɵnov"](t,20).invalid),null==n.data?null:n.data.nonEmptyField,"warn ctos-tooltip"),e(t,30,0,""),e(t,33,0,"newPassword",n.newPassword),e(t,36,0,"right",!(l["ɵnov"](t,33).touched&&l["ɵnov"](t,33).invalid),null==n.data?null:n.data.nonEmptyField,"warn ctos-tooltip"),e(t,43,0,""),e(t,44,0,"newPassword"),e(t,47,0,"confirmPassword",n.confirmPassword),e(t,50,0,"right",!(l["ɵnov"](t,47).touched&&l["ɵnov"](t,47).invalid),!l["ɵnov"](t,47).touched&&!l["ɵnov"](t,47).dirty||l["ɵnov"](t,47).value?null!=l["ɵnov"](t,47).errors&&l["ɵnov"](t,47).errors.notEqual&&l["ɵnov"](t,47).dirty?null==n.data?null:n.data.passwordMisMatchMessage:"":null==n.data?null:n.data.nonEmptyField,"warn ctos-tooltip"),e(t,52,0,n.validationMessage),e(t,64,0,n.mixruleSplit);var r=e(t,73,0,!l["ɵnov"](t,8).valid);e(t,72,0,"ok-btn",r),e(t,74,0,!l["ɵnov"](t,8).valid)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,1).id),e(t,2,0,null==n.data?null:n.data.heading),e(t,6,0,l["ɵnov"](t,10).ngClassUntouched,l["ɵnov"](t,10).ngClassTouched,l["ɵnov"](t,10).ngClassPristine,l["ɵnov"](t,10).ngClassDirty,l["ɵnov"](t,10).ngClassValid,l["ɵnov"](t,10).ngClassInvalid,l["ɵnov"](t,10).ngClassPending),e(t,13,0,null==n.data?null:n.data.currentPassword),e(t,15,0,l["ɵnov"](t,20).touched&&l["ɵnov"](t,20).invalid,l["ɵnov"](t,17).required?"":null,l["ɵnov"](t,22).ngClassUntouched,l["ɵnov"](t,22).ngClassTouched,l["ɵnov"](t,22).ngClassPristine,l["ɵnov"](t,22).ngClassDirty,l["ɵnov"](t,22).ngClassValid,l["ɵnov"](t,22).ngClassInvalid,l["ɵnov"](t,22).ngClassPending),e(t,26,0,null==n.data?null:n.data.newPassword),e(t,28,0,l["ɵnov"](t,33).touched&&l["ɵnov"](t,33).invalid,l["ɵnov"](t,30).required?"":null,l["ɵnov"](t,35).ngClassUntouched,l["ɵnov"](t,35).ngClassTouched,l["ɵnov"](t,35).ngClassPristine,l["ɵnov"](t,35).ngClassDirty,l["ɵnov"](t,35).ngClassValid,l["ɵnov"](t,35).ngClassInvalid,l["ɵnov"](t,35).ngClassPending),e(t,39,0,null==n.data?null:n.data.confirmPassword),e(t,41,0,l["ɵnov"](t,47).touched&&l["ɵnov"](t,47).invalid,l["ɵnov"](t,43).required?"":null,l["ɵnov"](t,49).ngClassUntouched,l["ɵnov"](t,49).ngClassTouched,l["ɵnov"](t,49).ngClassPristine,l["ɵnov"](t,49).ngClassDirty,l["ɵnov"](t,49).ngClassValid,l["ɵnov"](t,49).ngClassInvalid,l["ɵnov"](t,49).ngClassPending),e(t,59,0,n.data.lengthRule),e(t,61,0,n.mixruleSplitHeader),e(t,67,0,l["ɵnov"](t,68).disabled||null,"NoopAnimations"===l["ɵnov"](t,68)._animationMode),e(t,69,0,null==n.data?null:n.data.cancelLabel),e(t,70,0,l["ɵnov"](t,74).disabled||null,"NoopAnimations"===l["ɵnov"](t,74)._animationMode),e(t,75,0,null==n.data?null:n.data.okLabel)}))}function Ie(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-password",[],null,null,null,Te,De)),l["ɵdid"](1,114688,null,0,r.kb,[m.l,m.a,r.T,r.D],null,null)],(function(e,t){e(t,1,0)}),null)}var Le=l["ɵccf"]("ctos-password",r.kb,Ie,{},{},[]),Oe=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function _e(e){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{excelexportdata:0}),l["ɵqud"](402653184,2,{excelexportheader:0}),l["ɵqud"](402653184,3,{excelexportfooter:0})],null,null)}var Ne=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Me(e){return l["ɵvid"](0,[],null,null)}function we(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-redirect",[],null,null,null,Me,Ne)),l["ɵdid"](1,114688,null,0,r.mb,[y.a],null,null)],(function(e,t){e(t,1,0)}),null)}var xe=l["ɵccf"]("ctos-redirect",r.mb,we,{},{},[]),Fe=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function ke(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,1,"h5",[["class","heading"],["matTooltipPosition","above"]],[[8,"innerHTML",1]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,1).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,1)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](1,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],message:[1,"message"],tooltipClass:[2,"tooltipClass"]},null),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,"above",t.component.heading,"ctos-tooltip")}),(function(e,t){e(t,0,0,t.component.heading)}))}function je(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,6,"div",[["matTooltipPosition","right"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,1).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,1)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,1)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](1,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(e()(),l["ɵeld"](2,0,null,null,4,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var r=!0,a=e.component;return"click"===t&&(r=!1!==l["ɵnov"](e,3)._checkDisabled(n)&&r),"mouseenter"===t&&(r=!1!==l["ɵnov"](e,3)._handleMouseEnter()&&r),"click"===t&&(r=!1!==a.menuClick(e.context.$implicit.name)&&r),r}),D.c,D.a)),l["ɵdid"](3,180224,[[2,4]],0,g.e,[l.ElementRef,a.DOCUMENT,c.h,[2,g.b]],{disabled:[0,"disabled"]},null),(e()(),l["ɵeld"](4,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l["ɵted"](5,null,["",""])),(e()(),l["ɵeld"](6,0,null,0,0,"hr",[],null,null,null,null,null)),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,"right",t.context.$implicit.isEnabled||!t.context.$implicit.tooltipMsg,t.context.$implicit.tooltipMsg),e(t,3,0,!t.context.$implicit.isEnabled)}),(function(e,t){e(t,2,0,l["ɵnov"](t,3).role,l["ɵnov"](t,3)._highlighted,l["ɵnov"](t,3)._triggersSubmenu,l["ɵnov"](t,3)._getTabIndex(),l["ɵnov"](t,3).disabled.toString(),l["ɵnov"](t,3).disabled||null),e(t,5,0,t.context.$implicit.name)}))}function Ue(e){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{matMenu:0}),l["ɵncd"](null,0),(e()(),l["ɵeld"](2,0,null,null,10,"mat-menu",[],null,null,null,D.d,D.b)),l["ɵprd"](6144,null,g.d,null,[g.h]),l["ɵprd"](6144,null,g.b,null,[g.d]),l["ɵdid"](5,1294336,[[1,4],["menu",4]],3,g.h,[l.ElementRef,l.NgZone,g.a],{xPosition:[0,"xPosition"],yPosition:[1,"yPosition"],overlapTrigger:[2,"overlapTrigger"],panelClass:[3,"panelClass"]},null),l["ɵqud"](603979776,2,{_allItems:1}),l["ɵqud"](603979776,3,{items:1}),l["ɵqud"](603979776,4,{lazyContent:0}),(e()(),l["ɵand"](16777216,null,0,1,null,ke)),l["ɵdid"](10,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,0,1,null,je)),l["ɵdid"](12,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.xPosition,n.yPosition,!1,"context-menu "+n.contextMenuClass),e(t,10,0,n.heading),e(t,12,0,n.options)}),null)}var Ve=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ke(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,8,"li",[["matTooltipPosition","left"]],null,[[null,"mouseover"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0,a=e.component;return"longpress"===t&&(r=!1!==l["ɵnov"](e,4).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,4)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,4)._handleTouchend()&&r),"mouseover"===t&&(r=!1!==a.getMouseEvent(e.context.$implicit.label,e.context.$implicit.enable)&&r),r}),null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](2,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),l["ɵpod"](3,{active:0}),l["ɵdid"](4,212992,null,0,h.d,[o.c,l.ElementRef,v.a,l.ViewContainerRef,l.NgZone,d.a,c.c,c.h,h.b,[2,i.b],[2,h.a],[2,f.HAMMER_LOADER]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"],tooltipClass:[3,"tooltipClass"]},null),(e()(),l["ɵeld"](5,0,null,null,3,"span",[],[[8,"innerHTML",1]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.selectTab(e.context.$implicit)&&l),l}),null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](7,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),l["ɵpod"](8,{disabled:0}),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){var n=t.component,l=e(t,3,0,n.selectedTab.label===t.context.$implicit.label);e(t,2,0,l),e(t,4,0,"left",!n.showTooltip,"For a cohort plan, you must define one or more cohorts on the Cohort Design tab to enable the Countries tab.","warn ctos-tooltip");var r=e(t,8,0,!1===t.context.$implicit.enable);e(t,7,0,r)}),(function(e,t){e(t,5,0,t.context.$implicit.label)}))}function Ye(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),l["ɵand"](16777216,null,null,1,null,Ke)),l["ɵdid"](2,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.items)}),null)}var Ge=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function He(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,11,"nav",[["class","navbar navbar-expand navbar-light bg-light"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,10,"div",[["class","navbar-brand d-flex align-items-center"]],null,null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,4,"label",[["class","study-o-text"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["IQVIA "])),(e()(),l["ɵeld"](4,0,null,null,1,"sup",[],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["TM"])),(e()(),l["ɵted"](-1,null,[" StudyOptimizer"])),(e()(),l["ɵeld"](7,0,null,null,0,"div",[["class","v-divider"]],null,null,null,null,null)),(e()(),l["ɵeld"](8,0,null,null,3,"img",[["alt",""],["class","logo"]],[[8,"src",4]],[[null,"error"]],(function(e,t,n){var l=!0;return"error"===t&&(l=!1!==e.component.hideImage(n)&&l),l}),null,null)),l["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](10,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](11,{hideImage:0})],(function(e,t){var n=e(t,11,0,t.component.hideCustomerLogo);e(t,10,0,"logo",n)}),(function(e,t){e(t,8,0,t.component.logoUrl)}))}},GF7X:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var l=n("IfiR"),r=n("uMZP"),a=(n("wgY5"),function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.fb=n,this.pasteDatesForm=this.fb.group({pastedateRangers:["",[l.B.required]]}),this.pasteDatesForm.setValidators([Object(r.M)("pastedateRangers",t.labels.validationMsgs,t.maxRowsAllowed,t.maxRowsAllowedForPasteDate)])}return e.prototype.ngOnInit=function(){},e.prototype.applyToSI=function(e,t){t&&t.valid&&this.dialogRef.close({action:e,data:this.getFormValues(t),isFormDirty:t.dirty})},e.prototype.getFormValues=function(e){return e.get("pastedateRangers").value},e.prototype.cancel=function(){this.dialogRef.close()},e}())},IW84:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var l=n("6nV5"),r=n("LiEJ"),a=n("fQLH"),o=n("Jg5f"),i=n("4HYP"),s=n("IMYO"),u=n("uMZP"),c=n("5IsW"),d=n("gX7u"),p=(n("+xO1"),function(){function e(e,t,n,l,o,i,s,u,c,d,p,h,f){var m=this;this.studySummaryService=e,this.userDataService=t,this.appDataService=n,this.localeAppResourcesService=l,this.resourceService=o,this.studyListService=i,this.snackBar=s,this.errorTermsStoreService=u,this.router=c,this.route=d,this.dialog=p,this.dialogService=h,this.errorMessageServie=f,this.studyDetails=new r.a(null),this.studyKeySubj=new a.a,this.studyKey$=this.studyKeySubj.asObservable(),this.studyKeySubscription=this.studyListService.studyKey$.subscribe((function(e){m.studyKeySubj.next(e)})),this.planApproved=new a.a,this.planApproved$=this.planApproved.asObservable(),this.publishGlobalErrorMessage()}return Object.defineProperty(e.prototype,"studyDetailData",{get:function(){return this.studyDetails.getValue()},set:function(e){this.studyDetails.next(e)},enumerable:!0,configurable:!0}),e.prototype.getStudyRefreshDate=function(){var e=this.userDataService.getLastVisitedStudyKey();return this.studySummaryService.getStudyRefreshDate(e)},e.prototype.updateSelectedStudyPreferences=function(e){var t=this;return t.userDataService.getUserData(c.qc).pipe(Object(o.a)((function(e){return e})),Object(i.a)((function(n){if(n.result===l.k.RESULT_OK){var r=t.userDataService.getUserPreferences(),a=t.userDataService.getPreferenceBookmarks(r);a.lastVisitedStudy=e.key,a.mruStudyList=t.getUpdatedMRUStudyList(a.mruStudyList.toString(),e);var i=t.userDataService.getPreferenceBookmarksIndex(r);return t.userDataService.updateUserPreference(r[i]).pipe(Object(o.a)((function(e){return e})),Object(s.a)((function(e){throw e})))}throw new l.e(n.error.message,n.error.errorCode)})),Object(s.a)((function(e){throw e})))},e.prototype.updatePreferenceBookmarks=function(e){var t=this,n=this.userDataService.getUserPreferences(),r=this.userDataService.getPreferenceBookmarks(n);r.lastVisitedStudy=e.key,r.mruStudyList=this.getUpdatedMRUStudyList(r.mruStudyList.toString(),e);var a=this.userDataService.getPreferenceBookmarksIndex(n);return this.userDataService.updateUserPreference(n[a]).pipe(Object(o.a)((function(e){if(e.result===l.k.RESULT_OK)return t.userDataSubscription=t.userDataService.getUserData(c.qc).subscribe((function(e){console.log("user Data Preferences updated and Fetched again",e),t.userDataSubscription&&t.userDataSubscription.unsubscribe()})),e})),Object(s.a)((function(e){throw e})))},e.prototype.getUpdatedMRUStudyList=function(e,t){var n=e.split(";"),l=n.indexOf(t.key.toString());return l>-1&&n.splice(l,1),n.length>4&&n.shift(),n.push(t.key),n.join(";")},e.prototype.getUserData=function(){return this.userDataService.getUserData(c.qc)},e.prototype.getUserName=function(){return this.userDataService.getUserName()},e.prototype.getLastVisitedStudyKey=function(){return this.userDataService.getLastVisitedStudyKey()},e.prototype.getAppData=function(){return this.appDataService.getAppData()},e.prototype.getResource=function(e){return this.localeAppResourcesService.getResource(e)},e.prototype.getMenuResources=function(){return this.resourceService.getMenuResources()},e.prototype.getStudyTagList=function(e){return this.studyListService.getStudyTagList(e)},e.prototype.getStudyTagListFunction=function(){var e=this;return function(t){return e.studyListService.getStudyTagList(t)}},e.prototype.getStudyTag=function(){return this.studyListService.getStudyInfoByKey(this.userDataService.getLastVisitedStudyKey())},e.prototype.getStudyKey=function(){return this.userDataService.lastVisitedStudy},e.prototype.getUsageMetricsPageInfo=function(e){var t=u.L.find((function(t){return t.url===e}));return t?t.name:null},e.prototype.getMruStudyList=function(){return this.userDataService.getMruStudyList()},e.prototype.getAboutResources=function(){return this.resourceService.getAboutResources()},e.prototype.getPasswordResources=function(){return this.resourceService.getPasswordResources()},e.prototype.getPlanStatusImg=function(e,t){var n="";if(e===d.b.BASE)switch(t){case d.a.APPROVED:n=c.kb.STATUS.APPROVED;break;case d.a.VALID:n=c.kb.STATUS.VALID;break;case d.a.INVALID:n=c.kb.STATUS.INVALID;break;case d.a.PREVAPPROVED:n=c.kb.STATUS.PREVIOUSLY_APPROVED}else switch(t){case d.a.APPROVED:n=c.kb.STATUS.APPROVED;break;case d.a.VALID:n=c.kb.STATUS.ADJUSTMENT.VALID;break;case d.a.INVALID:n=c.kb.STATUS.ADJUSTMENT.INVALID;break;case d.a.PREVAPPROVED:n=c.kb.STATUS.ADJUSTMENT.PREVIOUSLY_APPROVED}return n},e.prototype.showSuccessMessage=function(e){this.snackBar.openFromComponent(l.z,{data:{message:e,icon:"assets/images/manageplans/icon-positive.png",messageType:"positive"},panelClass:["positive-snackbar"]})},e.prototype.showErrorMessage=function(e){this.snackBar.openFromComponent(l.z,{data:{message:e,icon:c.ib,messageType:"error"},panelClass:["error-snackbar"]})},e.prototype.getUserActionData=function(){if(this.router&&this.router._futureSnapshot&&this.router._futureSnapshot._urlSegment&&this.router._futureSnapshot._urlSegment.segments)return{moduleName:c.Fb,pageName:this.getUsageMetricsPageInfo(this.router._futureSnapshot._urlSegment.segments[this.router._futureSnapshot._urlSegment.segments.length-1].path),studykey:this.getStudyKey()}},e.prototype.updateUsageMetrics=function(e){this.userDataService.updateUsageMetrics(e).subscribe()},e.prototype.consolidateValidationErrors=function(e){return this.errorTermsStoreService.consolidateValidationErrors(e)},e.prototype.goToPlanDetails=function(e,t){console.log("go to Copied Plan is called : event:",e,"page Id: ",t),null!=e?t===c.Mb.COUNTRIES?this.route.navigate([c.Mb.PLANS,c.Mb.PLANDETAILS,e,c.Mb.COUNTRIES]):t===c.Mb.PLAN_PROPERTY?this.route.navigate([c.Mb.PLANS,c.Mb.PLANDETAILS,e,c.Mb.PLAN_PROPERTY]):t===c.Mb.PLAN_DESIGN?this.route.navigate([c.Mb.PLANS,c.Mb.PLANDETAILS,e,c.Mb.PLAN_DESIGN]):t===c.Mb.RATE_ADJUSTMENT&&this.route.navigate([c.Mb.PLANS,c.Mb.PLANDETAILS,e,c.Mb.RATE_ADJUSTMENT]):this.route.navigate([c.Mb.PLANS,c.Mb.PLANDETAILS,c.Mb.INVALID])},e.prototype.openDialog=function(e,t,n,r){void 0===r&&(r=!0);var a={heading:c.M,message:c.M,okLabel:c.M,cancelLabel:c.M,showCancel:c.M};a.okLabel=this.localeAppResourcesService.getResource(c.E.OK),a.heading=e,a.message=t,this.dialog.open(l.t,{width:c.F.CONFIRM_DIALOG.WIDTH,data:a,panelClass:r?c.F.CONFIRM_DIALOG.PANEL_CLASS:c.F.CONFIRM_DIALOG.PANEL_OK_CLASS,id:n})},e.prototype.setFormStatus=function(e){this.dialogService.isStatusChanged=e},e.prototype.getFormStatus=function(){return this.dialogService.isStatusChanged},e.prototype.setSelectedStudyKey=function(e){this.dialogService.selectedStudyKey=e},e.prototype.isRTypeCohortStudy=function(){var e=!1,t=this.studyListService.getStudyInfoByKey(this.userDataService.getLastVisitedStudyKey());return t&&t.cohortInd&&t.cohortType&&(e=t.cohortType.toUpperCase()===c.n.R.toUpperCase()),e},e.prototype.isCohortStudy=function(){var e=this.studyListService.getStudyInfoByKey(this.userDataService.getLastVisitedStudyKey());return e&&e.cohortInd},e.prototype.resetStudyList=function(){var e=this,t=(this.userDataService.getLastVisitedStudyKey(),this.searchListFormGroupName.get("searchListControl").value);t&&(this.searchListFormGroupName.get("searchListControl").setValue(c.M),setTimeout((function(){e.searchListFormGroupName.get("searchListControl").setValue(t.id),e.planApproved.next(t.id)}),1e3))},e.prototype.publishGlobalErrorMessage=function(){var e=this;this.errorMessageServie.publishGlobalError.subscribe((function(t){t&&e.showErrorMessage(t)}))},e.prototype.setPlanSortOptions=function(e){this.sortPlanData=e},e.prototype.getPlanSortOptions=function(){var e=null;return this.sortPlanData&&this.sortPlanData.order&&this.sortPlanData.value&&(e=this.sortPlanData),e},e.prototype.getCohortListResource=function(){return{COUNTRY_COHORTS:this.getResource("COUNTRY_COHORTS")}},e.prototype.getMaxRowsAllowed=function(e){return e?parseInt(this.localeAppResourcesService.getResource("COHORT_CSI_MAX_ROWS"),10):parseInt(this.localeAppResourcesService.getResource("NON_COHORT_CSI_MAX_ROWS"),10)},e}())},MROq:function(e,t,n){var l={"./af":"8GSH","./af.js":"8GSH","./ar":"NcOb","./ar-dz":"1ors","./ar-dz.js":"1ors","./ar-kw":"Sc1Y","./ar-kw.js":"Sc1Y","./ar-ly":"GzvP","./ar-ly.js":"GzvP","./ar-ma":"hH25","./ar-ma.js":"hH25","./ar-sa":"u2jB","./ar-sa.js":"u2jB","./ar-tn":"5Mza","./ar-tn.js":"5Mza","./ar.js":"NcOb","./az":"ZVVJ","./az.js":"ZVVJ","./be":"kQaN","./be.js":"kQaN","./bg":"+n5x","./bg.js":"+n5x","./bm":"TTiN","./bm.js":"TTiN","./bn":"aIF2","./bn.js":"aIF2","./bo":"QWb5","./bo.js":"QWb5","./br":"iQoZ","./br.js":"iQoZ","./bs":"EL7g","./bs.js":"EL7g","./ca":"vd/2","./ca.js":"vd/2","./cs":"K+3W","./cs.js":"K+3W","./cv":"Jt3X","./cv.js":"Jt3X","./cy":"sWi3","./cy.js":"sWi3","./da":"YcFX","./da.js":"YcFX","./de":"BKZ+","./de-at":"Oq9h","./de-at.js":"Oq9h","./de-ch":"hHY4","./de-ch.js":"hHY4","./de.js":"BKZ+","./dv":"w8Ej","./dv.js":"w8Ej","./el":"tSbB","./el.js":"tSbB","./en-SG":"cGzb","./en-SG.js":"cGzb","./en-au":"HgyJ","./en-au.js":"HgyJ","./en-ca":"ZyTy","./en-ca.js":"ZyTy","./en-gb":"exaB","./en-gb.js":"exaB","./en-ie":"yKzn","./en-ie.js":"yKzn","./en-il":"TB59","./en-il.js":"TB59","./en-nz":"iDxo","./en-nz.js":"iDxo","./eo":"4bvN","./eo.js":"4bvN","./es":"GNPT","./es-do":"R7mU","./es-do.js":"R7mU","./es-us":"Nstw","./es-us.js":"Nstw","./es.js":"GNPT","./et":"ZOjb","./et.js":"ZOjb","./eu":"kFC9","./eu.js":"kFC9","./fa":"8Cju","./fa.js":"8Cju","./fi":"vcN1","./fi.js":"vcN1","./fo":"8Ygf","./fo.js":"8Ygf","./fr":"Y8Ij","./fr-ca":"t+Zl","./fr-ca.js":"t+Zl","./fr-ch":"SPXN","./fr-ch.js":"SPXN","./fr.js":"Y8Ij","./fy":"T3MF","./fy.js":"T3MF","./ga":"NowM","./ga.js":"NowM","./gd":"GJYX","./gd.js":"GJYX","./gl":"MdC8","./gl.js":"MdC8","./gom-latn":"5j0y","./gom-latn.js":"5j0y","./gu":"fY0S","./gu.js":"fY0S","./he":"ACAV","./he.js":"ACAV","./hi":"3WqV","./hi.js":"3WqV","./hr":"OnNk","./hr.js":"OnNk","./hu":"EQmw","./hu.js":"EQmw","./hy-am":"MNf7","./hy-am.js":"MNf7","./id":"0yow","./id.js":"0yow","./is":"TmOJ","./is.js":"TmOJ","./it":"xD/0","./it-ch":"foQf","./it-ch.js":"foQf","./it.js":"xD/0","./ja":"jOnb","./ja.js":"jOnb","./jv":"lOtj","./jv.js":"lOtj","./ka":"BAN/","./ka.js":"BAN/","./kk":"iNiw","./kk.js":"iNiw","./km":"TUxt","./km.js":"TUxt","./kn":"hQzt","./kn.js":"hQzt","./ko":"ZNZT","./ko.js":"ZNZT","./ku":"S0Tg","./ku.js":"S0Tg","./ky":"JO+T","./ky.js":"JO+T","./lb":"vn/h","./lb.js":"vn/h","./lo":"gnIm","./lo.js":"gnIm","./lt":"6PD3","./lt.js":"6PD3","./lv":"YKe2","./lv.js":"YKe2","./me":"d3TR","./me.js":"d3TR","./mi":"hTlv","./mi.js":"hTlv","./mk":"ffVN","./mk.js":"ffVN","./ml":"ejL1","./ml.js":"ejL1","./mn":"RIsM","./mn.js":"RIsM","./mr":"CPJk","./mr.js":"CPJk","./ms":"d5Hy","./ms-my":"t4T9","./ms-my.js":"t4T9","./ms.js":"d5Hy","./mt":"1KVU","./mt.js":"1KVU","./my":"LsNb","./my.js":"LsNb","./nb":"h+U8","./nb.js":"h+U8","./ne":"2JSI","./ne.js":"2JSI","./nl":"jsZ8","./nl-be":"+h6j","./nl-be.js":"+h6j","./nl.js":"jsZ8","./nn":"mh29","./nn.js":"mh29","./pa-in":"O6bP","./pa-in.js":"O6bP","./pl":"8Bez","./pl.js":"8Bez","./pt":"DDip","./pt-br":"uHm5","./pt-br.js":"uHm5","./pt.js":"DDip","./ro":"baBi","./ro.js":"baBi","./ru":"ecsu","./ru.js":"ecsu","./sd":"e9KM","./sd.js":"e9KM","./se":"CZRU","./se.js":"CZRU","./si":"TO58","./si.js":"TO58","./sk":"K+Lk","./sk.js":"K+Lk","./sl":"QK6v","./sl.js":"QK6v","./sq":"v3Qg","./sq.js":"v3Qg","./sr":"Ndyf","./sr-cyrl":"PGvg","./sr-cyrl.js":"PGvg","./sr.js":"Ndyf","./ss":"2B8G","./ss.js":"2B8G","./sv":"WF5B","./sv.js":"WF5B","./sw":"4VvY","./sw.js":"4VvY","./ta":"dw3T","./ta.js":"dw3T","./te":"4MAb","./te.js":"4MAb","./tet":"/hi0","./tet.js":"/hi0","./tg":"PoVJ","./tg.js":"PoVJ","./th":"OY2w","./th.js":"OY2w","./tl-ph":"UC+K","./tl-ph.js":"UC+K","./tlh":"cWLW","./tlh.js":"cWLW","./tr":"EqYs","./tr.js":"EqYs","./tzl":"fN8o","./tzl.js":"fN8o","./tzm":"6cYq","./tzm-latn":"pdAN","./tzm-latn.js":"pdAN","./tzm.js":"6cYq","./ug-cn":"J+SV","./ug-cn.js":"J+SV","./uk":"6Olw","./uk.js":"6Olw","./ur":"QNGR","./ur.js":"QNGR","./uz":"hLzJ","./uz-latn":"KqOT","./uz-latn.js":"KqOT","./uz.js":"hLzJ","./vi":"EnIJ","./vi.js":"EnIJ","./x-pseudo":"W7dU","./x-pseudo.js":"W7dU","./yo":"QDhB","./yo.js":"QDhB","./zh-cn":"bjMe","./zh-cn.js":"bjMe","./zh-hk":"JFCg","./zh-hk.js":"JFCg","./zh-tw":"xBDH","./zh-tw.js":"xBDH"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}r.keys=function(){return Object.keys(l)},r.resolve=a,e.exports=r,r.id="MROq"},PCNd:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},PDk6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var l=n("6nV5"),r=(n("wgY5"),n("5IsW")),a=n("2xY0"),o=function(){function e(){}return e.prototype.getCountryPlanParams=function(e,t,n,o,i,s,u,c,d){var p=n.planParamsDetails,h=new a.a,f={};!o&&void 0!==p.isAdjustable&&!0===p.isAdjustable&&i&&i.appMetadata&&i.appMetadata.isEnableProjRates&&(e=h.getProjectedValues(e,p,i,t,s,!0)),f.enrollmentTarget=l.c.isDefined(e.enrollmentTarget)?e.enrollmentTarget:0,f.screeningTarget=l.c.isDefined(e.screeningTarget)?e.screeningTarget:0,l.c.isDefined(e.FPAtoFSI)&&(f.FPAtoFSI=e.FPAtoFSI),l.c.checkNotEmpty(e.FSI)&&(f.FSI=l.c.dateFormatters(e.FSI)),l.c.checkNotEmpty(e.SITOFSSDAYS)&&(f.SITOFSSDAYS=e.SITOFSSDAYS),l.c.checkNotEmpty(e.FSS)&&(f.FSS=l.c.dateFormatters(e.FSS)),l.c.checkNotEmpty(e.ARTB)&&(f.LSR=l.c.dateFormatters(e.ARTB)),f.SR=l.c.calcuaterRatePerFrequency(l.c.isDefined(e.SR)?e.SR:0,t),f.SFR=l.c.isDefined(e.SFR)?e.SFR:0,f.RR=l.c.calcuaterRatePerFrequency(l.c.isDefined(e.RR)?e.RR:0,t),f.ARC=l.c.isDefined(e.ARC)?e.ARC:100,f.seedNumber=e.seedNumber,f.numSites=e.numSites,f.siteInitiationMethod=e.siteInitiationMethod,f.isSSV=e.isSSV;var m=!1===o?this.getAdjustCenterInitInfo(e.centerInitInfo,e.siteInitiationMethod,{isAdjustable:p.isAdjustable,redistSites:e.redistSites},l.c.checkNotEmpty(e.FSI),l.c.checkNotEmpty(e.redistFSI)):this.getBaseCenterInitInfo(e.centerInitInfo,e.siteInitiationMethod,l.c.checkNotEmpty(e.FSI));f.centerInitInfo=m,f.algorithmId=e.algorithmId,f.algorithmCode=e.algorithmCode?e.algorithmCode:r.d.SIMPLE_FRCST,f.algorithmSiteCompId=e.algorithmSiteCompId?e.algorithmSiteCompId:r.f.RANDOM,f.overRecruitmentPercent=l.c.isDefined(e.overRecruitmentPercent)?e.overRecruitmentPercent:0;var g=p&&p.rateAdjustmentsTable&&this.getRateAdjustmentTable(p.rateAdjustmentsTable);return g&&null!==g&&g.length>0&&(f.rateAdjustmentsTable=g),f.isOverRecruitmentEnabled=e.overRecruitmentPercent>0,e.haKey&&e.haKey>0&&(f.haKey=e.haKey,f.appType=e.appType),l.c.isDefined(e.avgDaysToSiteInit,!0)&&e.avgDaysToSiteInit>0&&(f.avgDaysToSiteInit=e.avgDaysToSiteInit),l.c.checkNotEmpty(e.ARTB)&&(f.ARTB=l.c.dateFormatters(e.ARTB)),f.minRT=l.c.isDefined(e.minRT,!0)?e.minRT:-1,f.maxRT=l.c.isDefined(e.maxRT,!0)?e.maxRT:-1,!1===o&&!0===p.isAdjustable&&(f.isTargetAdjusted=!!p.isTargetAdjusted||e.enrollmentTarget&&p.enrollmentTarget&&e.enrollmentTarget.toString()!==p.enrollmentTarget.toString(),f.isSitesAdjusted=!0),l.c.isDefined(e.actEnrlWhnSRMod)&&e.actEnrlWhnSRMod>0&&(f.actEnrlWhnSRMod=e.actEnrlWhnSRMod),l.c.isDefined(e.actEnrlWhnSFRMod)&&e.actEnrlWhnSFRMod>0&&(f.actEnrlWhnSFRMod=e.actEnrlWhnSFRMod),l.c.isDefined(e.dateSRMod)&&null!=e.dateSRMod&&e.actEnrlWhnSRMod>0&&(f.dateSRMod=l.c.dateFormatters(e.dateSRMod)),l.c.isDefined(e.dateSFRMod)&&null!=e.dateSFRMod&&e.actEnrlWhnSFRMod>0&&(f.dateSFRMod=l.c.dateFormatters(e.dateSFRMod)),!1===o?(e.isRevertToApprovedPlan&&(f.isRevertToApprovedPlan=e.isRevertToApprovedPlan),f.slotsModified=this.isSlotInfoChanged(e,n),f.adjustCohortPlanUpdator=this.getCohortUpdator(e.cohortList,!1,s,n,t,i,u,c,d)):f.cohortPlanUpdator=this.getCohortUpdator(e.cohortList,!0,s,n,t,i,u,c,d),f},e.prototype.isSlotInfoChanged=function(e,t){var n=[],l=[],r=!1;if(e&&e.centerInitInfo&&e.centerInitInfo.granularCenterInitInfo&&t&&t.planParamsDetails&&t.planParamsDetails.centerInitInfo&&t.planParamsDetails.centerInitInfo.granularCenterInitInfo&&t.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot){if((n=[].concat(e.centerInitInfo.granularCenterInitInfo)).length!==(l=t.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot).length)return r=!0,!0;n.forEach((function(e,t){if(e.centerInitSlot.usedCohortKeys!==l[t].usedCohortKeys)return r=!0,!0}))}return r},e.prototype.getCohortUpdator=function(e,t,n,o,i,s,u,c,d){var p={value:[]};for(var h in e)if(h){var f=e[h],m={};m.cohortKey=f.cohortKey,m.cohortName=f.cohortName;var g={params:{},value:{}},y={};g.params=m;var v=new a.a,S=this.getCohortPlanParam(o,f.cohortKey);if(S&&!t&&void 0!==S.isAdjustable&&!0===S.isAdjustable&&s&&s.appMetadata&&s.appMetadata.isEnableProjRates&&(f=v.getProjectedValues(f,S,s,i,n,!1)),f.isCohortExcluded){if(y.isCohortExcluded=!0,void 0!==c&&!0===c){var R=this.getCohortInfo(o,f.cohortKey),C=this.getIsCohortExcludedInfo(d,f.cohortKey,R);y.isCohModified=void 0===C.isCohortExcluded||!0!==C.isCohortExcluded,y.isCohSelected=null!=f.isCohSelected&&f.isCohSelected}}else{var b=this.getCohortData(o,f.cohortKey);y.enrollmentTarget=l.c.isDefined(f.enrollmentTarget)?f.enrollmentTarget:0,y.screeningTarget=l.c.isDefined(b.screeningTarget)?b.screeningTarget:0,l.c.checkNotEmpty(f.SITOFSSDAYS)&&(y.SITOFSSDAYS=f.SITOFSSDAYS),l.c.checkNotEmpty(f.FSS)&&(y.FSS=l.c.dateFormatters(f.FSS)),l.c.checkNotEmpty(f.ARTB)&&(y.LSR=l.c.dateFormatters(f.ARTB)),n?y.RR=l.c.calcuaterRatePerFrequency(l.c.isDefined(f.RR)?f.RR:0,i):(y.SR=l.c.calcuaterRatePerFrequency(l.c.isDefined(f.SR)?f.SR:0,i),y.SFR=l.c.isDefined(f.SFR)?f.SFR:0,y.RR=l.c.calcuaterRatePerFrequency(l.c.isDefined(f.RR)?f.RR:0,i)),y.ARC=l.c.isDefined(f.ARC)?f.ARC:100,y.overRecruitmentPercent=l.c.isDefined(f.overRecruitmentPercent)?f.overRecruitmentPercent:0,y.isOverRecruitmentEnabled=f.overRecruitmentPercent>0,l.c.isDefined(f.avgDaysToSiteInit,!0)&&f.avgDaysToSiteInit>0&&(y.avgDaysToSiteInit=f.avgDaysToSiteInit),y.isCohortExcluded=!1,l.c.checkNotEmpty(f.ARTB)&&(y.ARTB=l.c.dateFormatters(f.ARTB)),y.minRT=l.c.isDefined(b.minRT,!0)?b.minRT:-1,y.maxRT=l.c.isDefined(b.maxRT,!0)?b.maxRT:-1,y.isCohModified=f.isCohModified,void 0!==c&&!0===c&&null!=f.isCohSelected&&(y.isCohSelected=f.isCohSelected),t||(y.isTargetAdjusted=!!(l.c.isDefined(b.isTargetAdjusted)||b.enrollmentTarget&&f.enrollmentTarget&&b.enrollmentTarget.toString()!==f.enrollmentTarget.toString())),l.c.isDefined(f.actEnrlWhnSRMod)&&f.actEnrlWhnSRMod>0&&(y.actEnrlWhnSRMod=f.actEnrlWhnSRMod),l.c.isDefined(f.actEnrlWhnSFRMod)&&f.actEnrlWhnSFRMod>0&&(y.actEnrlWhnSFRMod=f.actEnrlWhnSFRMod),l.c.isDefined(f.dateSRMod)&&null!==f.dateSRMod&&f.dateSRMod!==r.M&&f.actEnrlWhnSRMod>0&&(y.dateSRMod=l.c.dateFormatters(f.dateSRMod)),l.c.isDefined(f.dateSFRMod)&&null!==f.dateSFRMod&&f.dateSFRMod!==r.M&&f.actEnrlWhnSFRMod>0&&(y.dateSFRMod=l.c.dateFormatters(f.dateSFRMod))}g.value=y,p.value.push({cohortPlanParams:g})}return p},e.prototype.getCohortData=function(e,t){var n={minRT:null,maxRT:null,enrollmentTarget:null,isTargetAdjusted:null,screeningTarget:null};if(Array.isArray(e.cohortList)){var r=e.cohortList.find((function(e){return e.cohortKey===t}));n.minRT=l.c.isDefined(r.planParamsDetails.minRT,!0)?r.planParamsDetails.minRT:void 0,n.maxRT=l.c.isDefined(r.planParamsDetails.maxRT,!0)?r.planParamsDetails.maxRT:void 0,n.enrollmentTarget=r.planParamsDetails.enrollmentTarget,n.isTargetAdjusted=r.planParamsDetails.isTargetAdjusted?r.planParamsDetails.isTargetAdjusted:void 0,n.screeningTarget=r.planParamsDetails.screeningTarget?r.planParamsDetails.screeningTarget:void 0}return n},e.prototype.getCohortPlanParam=function(e,t){if(Array.isArray(e.cohortList))return e.cohortList.find((function(e){return e.cohortKey===t})).planParamsDetails},e.prototype.getBaseCenterInitInfo=function(e,t,n){var a={};if(t===r.ac.PERCENT){a.percentCenterInitInfo=[];var o=[];e.percentCenterInitInfo&&(o=e.percentCenterInitInfo.centerInitSlot?e.percentCenterInitInfo.centerInitSlot:e.percentCenterInitInfo),o.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.percOfCenterInit=n.percOfCenterInit,t.noOfCenters=n.noOfCenters,l.c.checkNotEmpty(n.noOfPeriods)&&(t.noOfPeriods=n.noOfPeriods),l.c.checkNotEmpty(n.slotEndDate)&&(t.slotStartDate=n.slotStartDate,t.slotEndDate=n.slotEndDate),l.c.checkNotEmpty(n.slotEndDate)&&a.percentCenterInitInfo.push({centerInitSlot:t})}))}else if(t===r.ac.GRANULAR){if(a.granularCenterInitInfo=e.granularCenterInitInfo.centerInitSlot?e.granularCenterInitInfo.centerInitSlot:e.granularCenterInitInfo,a.granularCenterInitInfo=[],o=[],e.granularCenterInitInfo){var i=e.granularCenterInitInfo.centerInitSlot?e.granularCenterInitInfo.centerInitSlot:e.granularCenterInitInfo;Array.isArray(i)?o=i:o.push({centerInitSlot:i})}o.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.noOfCenters=n.noOfCenters,t.slotStartDate=n.slotStartDate?n.slotStartDate:"",t.slotEndDate=n.slotEndDate?n.slotEndDate:"",n.usedCohortKeys&&(t.usedCohortKeys=n.usedCohortKeys),void 0!==n.actualSites&&(t.actualSites=n.actualSites),l.c.isDefined(t.noOfCenters,!0)&&t.slotEndDate&&a.granularCenterInitInfo.push({centerInitSlot:t})}))}return a},e.prototype.getAdjustCenterInitInfo=function(e,t,n,a,o){var i=this,s={};if(t===r.ac.PERCENT)if(s.percentCenterInitInfo=[],e&&e.percentCenterInitInfo){var u=[],c=e.percentCenterInitInfo.centerInitSlot?e.percentCenterInitInfo.centerInitSlot:e.percentCenterInitInfo;Array.isArray(c)?u=c:u.push(c),u.map((function(e){var t={},n=e.centerInitSlot?e.centerInitSlot:e;t.slotNum=n.slotNum,t.percOfCenterInit=n.percOfCenterInit,t.noOfCenters=n.noOfCenters,l.c.checkNotEmpty(n.noOfPeriods)&&(t.noOfPeriods=n.noOfPeriods),l.c.checkNotEmpty(n.slotEndDate)&&(t.slotStartDate=n.slotStartDate,t.slotEndDate=n.slotEndDate),l.c.checkNotEmpty(n.slotEndDate)&&s.percentCenterInitInfo.push({centerInitSlot:t})}))}else s.percentCenterInitInfo=[];else if(t===r.ac.GRANULAR)if(s.granularCenterInitInfo=[],e&&e.granularCenterInitInfo){u=[];var d=e.granularCenterInitInfo.centerInitSlot?e.granularCenterInitInfo.centerInitSlot:e.granularCenterInitInfo;Array.isArray(d)?u=d:u.push(d),u&&u.map((function(e){s.granularCenterInitInfo=i.splitCustomSISlots(s.granularCenterInitInfo,e.centerInitSlot?e.centerInitSlot:e)}))}else s.granularCenterInitInfo=[];return s},e.prototype.splitCustomSISlots=function(e,t){for(var n=t.noOfCenters;n>0;){var a={slotNum:e.length+1,noOfCenters:1,slotStartDate:l.c.dateFormatters(t.slotStartDate),slotEndDate:l.c.dateFormatters(t.slotEndDate),usedCohortKeys:t.usedCohortKeys?t.usedCohortKeys:"",actualSites:""};t.slotType&&""!==t.slotType&&(a.slotType=t.slotType===r.cc.ACTUAL?r.cc.ACTUAL:r.cc.REDISTRIBUTED),l.c.isDefined(t.centerKey,!0)&&(a.centerKey=t.centerKey),e.push({centerInitSlot:a}),n--}return e},e.prototype.getRateAdjustmentTable=function(e){var t=this;if(e){var n,l=[];return Array.isArray(e.rateAdjustment)?e.rateAdjustment.map((function(e){var n;n=t.getRateAdjustment(e),l.push({rateAdjustment:n})})):(n=this.getRateAdjustment(e.rateAdjustment),l.push({rateAdjustment:n})),l}return null},e.prototype.getRateAdjustment=function(e){var t={},n=e;return t.key=n.key,t.name=n.name,t.operationType=n.operationType&&null!==n.operationType?n.operationType:r.Lb.E,t.isEndDate=n.isEndDate,t.description=n.description?n.description:null,t.reasonName=n.reasonName,t.reasonKey=n.reasonKey,null!=n.startDate&&(t.startDate=n.startDate),null!=n.endDate&&(t.endDate=n.endDate),t.srPercChange=n.srPercChange,t.sfrPercChange=n.sfrPercChange,t.rateAdjustmentType=n.rateAdjustmentType,t},e.prototype.getIsCohortExcludedInfo=function(e,t,n){var l={isCohortExcluded:null};if(e&&e.geoList&&e.geoList.geography&&Array.isArray(e.geoList.geography)){var r=e.geoList.geography.find((function(e){return e.cohortKey===n.cohortKey&&e.geographyKey===n.geoKey}));l.isCohortExcluded=r.isCohortExcluded}return l},e.prototype.getCohortInfo=function(e,t){if(Array.isArray(e.cohortList)){var n=e.cohortList.find((function(e){return e.cohortKey===t}));return{geoKey:n.geographyKey,cohortKey:n.cohortKey}}},e}()},RS0K:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var l=n("wgY5"),r=n("5IsW"),a=n("6nV5"),o=n("66IH"),i=n("WT9V"),s=l,u=function(){function e(){}return e.prototype.transformPayLoad=function(e,t,n,l,r){if(void 0===r&&(r=!1),!0===r){var a=parseInt(e.controls.countryKey.value,10),i=this.getCountryInformation(t,a),s=this.getPlanInformation(t),u=this.loadData(e,i,s,n,l),c={},d=new o.a;return c.baseParams=d.getCountryPlanParams(u,i.planParamsDetails,l,!s.isPlan||!0!==s.isPlan,n),c.countryInfo={},c.countryValidation={},c.countryInfo.countryName=e.controls.countryName.value,c.countryInfo.countryKey=a,c}},e.prototype.loadData=function(e,t,n,l,o){var s={},u=e.controls.enrolmentParameters.controls,c=e.controls.siBody.controls.siField.controls,d=e.controls.siHeader.controls;if(s.enrollmentTarget=u.enrollmentTarget.value,s.screeningTarget=t.planParamsDetails.screeningTarget,a.c.isDefined(n.FPA)&&a.c.isDefined(c.FSIDate.value)&&(s.FPAtoFSI=a.c.dateDiff(n.FPA,c.FSIDate.value,r.K)),s.FSI=c.FSIDate.value,s.SITOFSSDAYS=u.SITOFSSDAYS.value,s.FSS=u.FSS.value,s.LSR=u.ARTB.value,s.SFR=u.SFR.value,t&&t.planParamsDetails.SFR){var p=t.planParamsDetails.SFR,h=Object(i.formatNumber)(t.planParamsDetails.SFR,"en-US","0.1-1");void 0!==u.SFR&&s.SFR.toString()===h.toString()&&(s.SFR=p)}s.SR=u.originalSR.value,s.RR=u.originalRR.value,s.ARC=u.ARC.value;var f=t.planParamsDetails.ARC,m=a.c.formatDecimal(f,"0.1-1");null!==s.ARC&&null!==m&&s.ARC.toString()===m.toString()&&(s.ARC=f),s.seedNumber=!0===d.reRandomize.value?r.yc:t.planParamsDetails.seedNumber,s.numSites=c.totalNoOfSites.value,s.siteInitiationMethod=d.siteInitiationMethod.value,s.isSSV=t.planParamsDetails.isSSV,s.algorithmSiteCompId=d.siMethod.value.charAt(0).toUpperCase()+d.siMethod.value.slice(1);var g=this.getAlgorithmInfo(l,d.siMethod.value);return s.algorithmCode=g.algorithmCode,s.algorithmId=g.algorithmId,s.overRecruitmentPercent=u.overRecruitmentPercent.value,n.haKey&&n.haKey>0&&(s.haKey=n.haKey,s.appType=n.appType),s.avgDaysToSiteInit=u.avgDaysToSiteInit.value,s.ARTB=u.ARTB.value,s.maxRT=t.planParamsDetails.maxRT?t.planParamsDetails.maxRT:"",s.minRT=t.planParamsDetails.minRT?t.planParamsDetails.minRT:"",s.centerInitInfo=this.getCenterInitDetails(e,n),s.redistFSI=c.FSIDate.value,s.redistSites=c.sitesToRedistribute?c.sitesToRedistribute.value:"",s.actEnrlWhnSRMod=t.planParamsDetails.actEnrlWhnSRMod?t.planParamsDetails.actEnrlWhnSRMod:e.controls.actEnrlWhnSRMod&&a.c.isDefined(e.controls.actEnrlWhnSRMod.value)?e.controls.actEnrlWhnSRMod.value:0,s.actEnrlWhnSFRMod=t.planParamsDetails.actEnrlWhnSFRMod?t.planParamsDetails.actEnrlWhnSFRMod:e.controls.actEnrlWhnSFRMod&&a.c.isDefined(e.controls.actEnrlWhnSFRMod.value)?e.controls.actEnrlWhnSFRMod.value:0,s.dateSRMod=t.planParamsDetails.dateSRMod?t.planParamsDetails.dateSRMod:e.controls.dateSRMod&&a.c.isDefined(e.controls.dateSRMod.value)?e.controls.dateSRMod.value:"",s.dateSFRMod=t.planParamsDetails.dateSFRMod?t.planParamsDetails.dateSFRMod:e.controls.dateSFRMod&&a.c.isDefined(e.controls.dateSFRMod.value)?e.controls.dateSFRMod.value:"",s.effectiveSR=u.projSR&&u.projSR.value,s.effectiveRR=u.projRR&&u.projRR.value,s.effectiveSFR=u.projSFR&&u.projSFR.value,s.effectiveSAS=u.projARC&&u.projARC.value,e.controls.isRevertToApprovedPlan.value&&(s.isRevertToApprovedPlan=e.controls.isRevertToApprovedPlan.value),s},e.prototype.getCountryInformation=function(e,t){if(e.geoList.geography&&Array.isArray(e.geoList.geography))return e.geoList.geography.find((function(e){return e.geographyKey===t}))},e.prototype.getPlanInformation=function(e){return e.planProperties},e.prototype.getAlgorithmInfo=function(e,t){var n={algorithmId:null,algorithmCode:null};if(e.appMetadata.algorithmMetaData&&e.appMetadata.algorithmMetaData.algoMetaData)if(Array.isArray(e.appMetadata.algorithmMetaData.algoMetaData)){var l=e.appMetadata.algorithmMetaData.algoMetaData.find((function(e){return e.algorithmSiteCompId.toString().toLowerCase()===t.toLowerCase()}));n.algorithmId=l.id,n.algorithmCode=l.code}else e.appMetadata.algorithmMetaData.algoMetaData.algorithmSiteCompId.toString().toLowerCase()===t.toLowerCase()&&(n.algorithmId=(l=e.appMetadata.algorithmMetaData.algoMetaData).id,n.algorithmCode=l.code);return n},e.prototype.getCenterInitDetails=function(e,t){var n,l=this,a=!t.isPlan,o=e.value.isAdjustable,i=e.controls.siBody.controls.siField.controls,s=e.controls.siHeader.controls;if(s.siteInitiationMethod.value===r.ac.PERCENT){n={percentCenterInitInfo:[]};var u=e.controls.siBody.controls.siMethod.controls,c={},d={},p={};c.slotNum=1,c.percOfCenterInit=25,c.noOfCenters=u.noOfSite25.value,c.noOfPeriods=u.period25.value,c.slotStartDate=this.dateFormatter(i.FSIDate.value),c.slotEndDate=this.dateFormatter(u.endDate25.value),d.slotNum=2,d.percOfCenterInit=50,d.noOfCenters=u.noOfSite50.value,d.noOfPeriods=u.period50.value,d.slotStartDate=this.dateFormatter(u.endDate25.value),d.slotEndDate=this.dateFormatter(u.endDate50.value),p.slotNum=3,p.percOfCenterInit=90,p.noOfCenters=u.noOfSite90.value,p.noOfPeriods=u.period90.value,p.slotStartDate=this.dateFormatter(u.endDate50.value),p.slotEndDate=this.dateFormatter(u.endDate90.value),n.percentCenterInitInfo.push({centerInitSlot:c}),n.percentCenterInitInfo.push({centerInitSlot:d}),n.percentCenterInitInfo.push({centerInitSlot:p})}else s.siteInitiationMethod.value===r.ac.GRANULAR&&(n={granularCenterInitInfo:[]},(u=e.controls.siBody.controls.siCustomMethod.getRawValue()).initiationSchedule&&u.initiationSchedule.forEach((function(e,s){if(e.noOfCenters&&e.slotStartDate&&e.slotEndDate){var u={slotNum:s+1,noOfCenters:e.noOfCenters,slotStartDate:l.dateFormatter(e.slotStartDate),slotEndDate:l.dateFormatter(e.slotEndDate)};a&&o?(u.redistributed=i.sitesToRedistribute.value>0,u.usedCohortKeys=r.g):u.usedCohortKeys=l.isCohortPlan(t)?e.usedCohortKeys:"",u.actualSites="",n.granularCenterInitInfo.push({centerInitSlot:u})}})));return n},e.prototype.dateFormatter=function(e){return a.c.isDefined(e)?s(e).format("YYYY-MM-DD"):r.M},e.prototype.getRTValidation=function(e,t){var n=parseInt(e.controls.countryKey.value,10),l=this.getCountryInformation(t,n),r={};return r.baseParams={enrollmentTarget:e.controls.enrolmentParameters.controls.enrollmentTarget.value},r.countryValidation={isRTConfirm:!1,enrollmentTarget:0,actualEnrollmentTarget:0},l&&l.planParamsDetails&&l.planParamsDetails.actuals&&l.planParamsDetails.actuals.RT&&parseInt(l.planParamsDetails.actuals.RT,10)>parseInt(r.baseParams.enrollmentTarget,10)?(r.countryValidation.isRTConfirm=!0,r.countryValidation.enrollmentTarget=r.baseParams.enrollmentTarget,r.countryValidation.actualEnrollmentTarget=parseInt(l.planParamsDetails.actuals.RT,10)):r.countryValidation.isRTConfirm=!1,r},e.prototype.isCohortPlan=function(e){return e.isCohortPlan===r.N.COHORT_PLAN},e.prototype.calcuaterRatePerFrequency=function(e,t,n){return a.c.isDefined(e)&&e!==r.yc?e:r.yc},e}()},TSSw:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var l=n("D57K"),r=n("6nV5"),a=n("wgY5"),o=n("LiEJ"),i=n("fQLH"),s=n("pN2L"),u=n("cQOC"),c=n("Jg5f"),d=n("uMZP"),p=n("5IsW"),h=(n("DH3O"),n("gX7u")),f=(n("IW84"),n("6DqV")),m=n("RS0K"),g=n("/DOc"),y=n("PDk6"),v=(n("+vxY"),n("+Ve9")),S=(n("9S+C"),function(){function e(e,t,n,l,r,a,s,u,c,d,p,h,f,m,g){this.localeAppResourcesService=e,this.payloadCommandService=t,this.baseConnectionService=n,this.userDataService=l,this.plansService=r,this.dialog=a,this.studyListService=s,this.planOptionsService=u,this.router=c,this.appDataService=d,this.saveService=p,this.activatedRoute=h,this.errorTermsStoreService=f,this.indiMultiCountryOptions=m,this.applicationContextService=g,this.saveCalled=!1,this.revertCalled=!1,this.saveClicked=!1,this.isConfirmationPopUpRequired=!1,this.dynamicRowData={dynEffectiveSAS:null,dynEffectiveRR:null,dynEffectiveSR:null,dynEffectiveSFR:null,dynEffectiveLSS:null,dynEffectiveLSR:null,dynEffectiveFSI:null},this.showFSI=!1,this.invalidCountryName=[],this.isResetConfirmed=!1,this.isRevertClicked=!1,this.isCountryRevertConfirmation=!1,this.editDataRowCount=0,this.readOnlyRowCount=0,this.tempPlannedSite="Planned_Sites",this.tempPlannedScreening="Planned_Screening",this.tempMaximumScreening="Maximum_Screening",this.tempMaximumRandomization="Maximum_Randomization",this.planDetailsSubject=new o.a({}),this.onSaveAndRevertSubject=new o.a(!1),this.saveOption=new i.a,this.testSave=new i.a,this.saveEnability=new i.a,this.planPropertySave=new i.a,this.planKeyChanged=new i.a,this.saveOption$=this.saveOption.asObservable(),this.testSave$=this.testSave.asObservable(),this.saveEnability$=this.saveEnability.asObservable(),this.planPropertySave$=this.planPropertySave.asObservable(),this.planPropertyReset=new i.a,this.planPropertyReset$=this.planPropertyReset.asObservable(),this.planReset=new i.a,this.planReset$=this.planReset.asObservable(),this.rateAdjustmentReset=new i.a,this.rateAdjustmentReset$=this.rateAdjustmentReset.asObservable(),this.rateAdjustmentSave=new i.a,this.rateAdjustmentSave$=this.rateAdjustmentSave.asObservable(),this.planKeyChanged=new i.a,this.planKeyChanged$=this.planKeyChanged.asObservable(),this.onPlanKeyChanged=new i.a,this.onPlanKeyChanged$=this.onPlanKeyChanged.asObservable(),this.planReadOnly=new i.a,this.planReadOnly$=this.planReadOnly.asObservable(),this.curveData=new o.a({}),this.curveData$=this.curveData.asObservable(),this.curveDataRegion=new o.a({}),this.curveDataRegion$=this.curveDataRegion.asObservable(),this.curveDataWW=new o.a({}),this.curveDataWW$=this.curveDataWW.asObservable(),this.dynCurveData=new o.a({}),this.dynCurveData$=this.dynCurveData.asObservable(),this.dynCurveDataRegion=new o.a({}),this.dynCurveDataRegion$=this.dynCurveDataRegion.asObservable(),this.dynCurveDataWW=new o.a({}),this.dynCurveDataWW$=this.dynCurveDataWW.asObservable(),this.expandCollapseCountriesGrid=new o.a(null),this.expandCollapseCountriesGrid$=this.expandCollapseCountriesGrid.asObservable(),this.selectedCountrySubject=new o.a(null),this.selectedCountrySubject$=this.selectedCountrySubject.asObservable(),this.milestonesData=new o.a({}),this.milestonesData$=this.milestonesData.asObservable(),this.milestonesDataRegion=new o.a({}),this.milestonesDataRegion$=this.milestonesDataRegion.asObservable(),this.milestonesDataWW=new o.a({}),this.milestonesDataWW$=this.milestonesDataWW.asObservable(),this.allGraphData=new o.a({}),this.allGraphData$=this.allGraphData.asObservable(),this.allGraphDataRegion=new o.a({}),this.allGraphDataRegion$=this.allGraphDataRegion.asObservable(),this.allGraphDataWW=new o.a({}),this.allGraphDataWW$=this.allGraphDataWW.asObservable(),this.navigateAwaySelection=new i.a,this.navigateAwaySelection$=this.navigateAwaySelection.asObservable(),this.curveColors=this.appDataService.getCurveColors(),this.refreshPlanList$=new i.a,this.revertToLatestSaved$=new i.a,this.savePlanSuccess$=new i.a,this.planChanged$=new i.a,this.resetPlanKey=new o.a(null),this.selectedEnrollmentParameterDetailsSubject=new o.a({}),this.selectedEnrollmentParameterDetailsSubject$=this.selectedEnrollmentParameterDetailsSubject.asObservable(),this.disableCountryTab=new i.a,this.disableCountryTab$=this.disableCountryTab.asObservable(),this.copyPlanValue$=new i.a,this.chartLegendPreference=this.userDataService.chartLegendPreference,this.chartLegendPreferenceArr=this.userDataService.chartLegendPreferenceArr,this.getCuecardRowResource(),this.getCuecardColResource()}return Object.defineProperty(e.prototype,"studySourceDetails",{get:function(){return this._studySourceDetails},set:function(e){this._studySourceDetails=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDynamicProjectionChecked",{get:function(){return this._isDyProjectionChecked},set:function(e){this._isDyProjectionChecked=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"planKey",{get:function(){return this._planKey},set:function(e){this._planKey=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},set:function(e){this._version=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plan",{get:function(){return this._plan},set:function(e){this._plan=e},enumerable:!0,configurable:!0}),e.prototype.getTabItems=function(){var e=new Array,t=this.getTabLabels(),n={label:t.PLAN_PROPERTIES,routePath:p.Mb.PLAN_PROPERTY,enable:!0};return e.push(n),e.push(n={label:t.PLAN_DESIGN,routePath:p.Mb.PLAN_DESIGN,enable:!0}),e.push(n={label:t.COUNTRIES,routePath:p.Mb.COUNTRIES,enable:!0}),e.push(n={label:t.RATE_ADJUSTMENTS,routePath:p.Mb.RATE_ADJUSTMENT,enable:!0}),e.push(n={label:t.REPORTS,routePath:p.Mb.REPORTS,enable:!0}),e},e.prototype.getTabItem=function(){return{enable:!0,label:this.localeAppResourcesService.getResource("PLNDT_PLAN_PROPERTIES"),routePath:p.Mb.PLAN_PROPERTY}},e.prototype.getTabLabels=function(){return{PLAN_PROPERTIES:this.localeAppResourcesService.getResource("PLNDT_PLAN_PROPERTIES"),PLAN_DESIGN:this.localeAppResourcesService.getResource("PLNDT_PLAN_DESIGN"),COUNTRIES:this.localeAppResourcesService.getResource("PLNDT_COUNTRIES"),RATE_ADJUSTMENTS:this.localeAppResourcesService.getResource("PLNDT_RATE_ADJUSTMENTS"),REPORTS:this.localeAppResourcesService.getResource("PLNDT_REPORTS")}},e.prototype.getInvalidPlanDetailsResources=function(){return{ALL_PLANS_LABEL:this.localeAppResourcesService.getResource("PLNDT_ALL_PLANS"),INVALID_PARAMS_MSG:this.localeAppResourcesService.getResource("PLNDT_INVALID_PARAMS"),ICON_ARROW_BACK:p.kb.ICON_ARROW_BACK}},e.prototype.getPlanDetailsResources=function(){return{ICON_ARROW_BACK:p.kb.ICON_ARROW_BACK,ICON_REFRESH:p.kb.ICON_REFRESH,ICON_REVERT:p.kb.ICON_REVERT,ALL_PLANS_LABEL:this.localeAppResourcesService.getResource("PLNDT_ALL_PLANS"),SAVE_PLANS_LABEL:this.localeAppResourcesService.getResource("PLNDT_SAVE_PLAN"),REFRESH_LABEL:this.localeAppResourcesService.getResource("PLNDT_REFRESH"),REVERT_LABEL:this.localeAppResourcesService.getResource("PLNDT_REVERT"),COHORT_IMAGE:p.kb.COHORT_IMG,BLUE_COHORT:p.kb.COHORT_IMG_BLUE}},e.prototype.getBriefPlanList=function(e){var t=this;if(e||(e=this.userDataService.getLastVisitedStudyKey()),this.studyKey=e,e){var n={studyKey:e},l=d.m.getModuleInfo(p.Db,e),a=this.payloadCommandService.getCommandDetails(p.p.GET_BRIEF_PLAN_LIST,n,null,null,l);return this.baseConnectionService.sendRequest(a,{}).pipe(Object(c.a)((function(e){if(e&&e.result===r.k.RESULT_OK){if(e.briefPlanList&&e.briefPlanList.briefPlanThumbnail){var n=[].concat(e.briefPlanList.briefPlanThumbnail);return n.map((function(e){return e.hasOwnProperty("briefAdjustPlanList")&&e.briefAdjustPlanList.hasOwnProperty("briefAdjustPlanThumbnail")&&(e.briefAdjustPlanList=[].concat(e.briefAdjustPlanList.briefAdjustPlanThumbnail),e.briefAdjustPlanList=e.briefAdjustPlanList.map((function(e){return e.planImageStatus=e.hasOwnProperty("planStatus")&&void 0!==e.planStatus.value?t.plansService.getPlanStatusImg(h.b.ADJ,e.planStatus.value):p.kb.STATUS.ADJUSTMENT.INVALID,e}))),e.planImageStatus=e.hasOwnProperty("planStatus")&&void 0!==e.planStatus.value?t.plansService.getPlanStatusImg(h.b.BASE,e.planStatus.value):p.kb.STATUS.INVALID,e})),n}return[]}if(e.result===r.k.RESULT_ERROR)throw new Error(e.error.message)})))}throw new Error("Study key is required")},e.prototype.getBriefStudyPlan=function(e,t){var n=this,l=this.userDataService.getLastVisitedStudyKey();if(l&&e){var a={studyKey:l,planKey:e},o=d.m.getModuleInfo(p.Db,l),i=this.payloadCommandService.getCommandDetails(p.p.GET_PLAN_DETAILS,a,null,null,o),s={};return s.cacheKey=r.l.GetPlanDetails+"_"+l+"_"+e,void 0!==t&&!0===t&&(s.dependencyList=[s.cacheKey]),s.encryption=r.A.encrypt,this.baseConnectionService.sendRequest(i,s).pipe(Object(c.a)((function(t){if(t.result.toUpperCase()===r.k.RESULT_OK){if(t&&t.studyPlanDetails){t.studyPlanDetails.geoList.geography=[].concat(t.studyPlanDetails.geoList.geography);var l=n.isCohortAdjustment(t.studyPlanDetails);return t.studyPlanDetails.geoList.geography.forEach((function(e){if(e.planParamsDetails){if(!0===l&&e.planParamsDetails.centerInitInfo&&e.planParamsDetails.centerInitInfo.granularCenterInitInfo&&e.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot){var r=n.getCohortList(e,t.studyPlanDetails.geoList.geography);if(Array.isArray(e.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot)&&e.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot.length>0)e.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot.forEach((function(e){null==e.usedCohortKeys?e.usedCohortKeys="":null!=e.usedCohortKeys&&""!==e.usedCohortKeys&&e.usedCohortKeys.toString().split(",").length===r.length&&(e.usedCohortKeys="ALL")}));else{var a=e.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot;null==a.usedCohortKeys?a.usedCohortKeys="":null!=a.usedCohortKeys&&""!==a.usedCohortKeys&&a.usedCohortKeys.toString().split(",").length===r.length&&(e.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot.usedCohortKeys="ALL")}}e.planParamsDetails.noteList||(e.planParamsDetails.noteList={}),Array.isArray(e.planParamsDetails.noteList.note)||(e.planParamsDetails.noteList.note=e.planParamsDetails.noteList.note?[].concat(e.planParamsDetails.noteList.note):[]),e.planParamsDetails.logList||(e.planParamsDetails.logList={}),Array.isArray(e.planParamsDetails.logList.loginfo)||(e.planParamsDetails.logList.loginfo=e.planParamsDetails.logList.loginfo?[].concat(e.planParamsDetails.logList.loginfo):[]),e.planParamsDetails.rateAdjustmentsTable||(e.planParamsDetails.rateAdjustmentsTable={}),Array.isArray(e.planParamsDetails.rateAdjustmentsTable.rateAdjustment)||(e.planParamsDetails.rateAdjustmentsTable.rateAdjustment=e.planParamsDetails.rateAdjustmentsTable.rateAdjustment?[].concat(e.planParamsDetails.rateAdjustmentsTable.rateAdjustment):[])}else e.planParamsDetails={}})),n.planKey=e,n.version=t.version,n.setPlanDetails(t.studyPlanDetails),t.studyPlanDetails}return null}if(t.result.toUpperCase()===r.k.RESULT_ERROR){var a=n.errorTermsStoreService.getErrorMessage(+t.error.errorCode);return n.plansService.showErrorMessage(a),null}})))}throw new Error("Invalid parameters")},e.prototype.isCohortAdjustment=function(e){return"Y"===e.planProperties.isCohortPlan&&!1===e.planProperties.isPlan&&!1===e.planProperties.isReadOnly},e.prototype.getCohortList=function(e,t){return t.filter((function(t){return t.geographyKey===e.geographyKey&&!1===t.isCohortExcluded}))},e.prototype.getBriefStudyPlanForRevertToLatestSaved=function(e,t,n,l){var a=this;void 0===n&&(n=!1),void 0===l&&(l=!0);var o=this.userDataService.getLastVisitedStudyKey();if(o&&e){var i={studyKey:o,planKey:e},s=d.m.getModuleInfo(p.Db,o),u=this.payloadCommandService.getCommandDetails(p.p.GET_PLAN_DETAILS,i,null,null,s),h={};return h.cacheKey=r.l.GetPlanDetails+"_"+o+"_"+e,void 0!==t&&!0===t&&(h.dependencyList=[h.cacheKey]),h.isSelf=!0,h.encryption=r.A.encrypt,this.baseConnectionService.sendRequest(u,h).pipe(Object(c.a)((function(t){if(t.result.toUpperCase()===r.k.RESULT_OK)return t&&t.studyPlanDetails?(l&&(t=a.initResponseData(t,!0),a.planKey=e),!0===n&&a.setPlanDetails(t.studyPlanDetails),l&&a.setRevertToLatestSaved(t.studyPlanDetails),t.studyPlanDetails):null;if(t.result.toUpperCase()===r.k.RESULT_ERROR){var o=a.errorTermsStoreService.getErrorMessage(+t.error.errorCode);return a.plansService.showErrorMessage(o),null}})))}throw new Error("Invalid parameters")},e.prototype.onPlanDetailsRefresh=function(e){e&&e.studyPlanDetails&&(e=this.initResponseData(e),this.setPlanDetails(e.studyPlanDetails))},e.prototype.getReportingPeriod=function(e){var t=this.studyListService.getStudyInfoByKey(e),n={};return t&&(n=this.appDataService.getReportingFreqDefByName(t.reportingPeriod)),n.Value},e.prototype.getFilteredGeographies=function(e,t){var n=this,l=JSON.parse(JSON.stringify(e)),r=[];return this.getReportingPeriod(this.studyKey),l.forEach((function(e){"WW"!==e.geographyLevel&&(n.findCountryInEditedCountries(e),e.planParamsDetails.calculatedRR=e.planParamsDetails.RR,e.planParamsDetails.calculatedSR=e.planParamsDetails.SR,e.errorFields={},r.push(e))})),r},e.prototype.findCountryInEditedCountries=function(e){var t=this.getEditedRows();if(t&&t.length>0)for(var n=0;n<t.length;n++){var l=t[n];if(l.geographyKey===e.geographyKey)return l}},e.prototype.initResponseData=function(e,t){return e&&e.studyPlanDetails&&(e.studyPlanDetails.geoList.geography=[].concat(e.studyPlanDetails.geoList.geography),e.studyPlanDetails.geoList.geography.forEach((function(e){e.planParamsDetails.noteList||(e.planParamsDetails.noteList={}),Array.isArray(e.planParamsDetails.noteList.note)||(e.planParamsDetails.noteList.note=e.planParamsDetails.noteList.note?[].concat(e.planParamsDetails.noteList.note):[]),e.planParamsDetails.logList||(e.planParamsDetails.logList={}),Array.isArray(e.planParamsDetails.logList.loginfo)||(e.planParamsDetails.logList.loginfo=e.planParamsDetails.logList.loginfo?[].concat(e.planParamsDetails.logList.loginfo):[]),e.planParamsDetails.rateAdjustmentsTable||(e.planParamsDetails.rateAdjustmentsTable={}),Array.isArray(e.planParamsDetails.rateAdjustmentsTable.rateAdjustment)||(e.planParamsDetails.rateAdjustmentsTable.rateAdjustment=e.planParamsDetails.rateAdjustmentsTable.rateAdjustment?[].concat(e.planParamsDetails.rateAdjustmentsTable.rateAdjustment):[])}))),e},e.prototype.onDeletePlanSuccess=function(e,t,n){if(e&&e.result===r.k.RESULT_OK)e.planList&&e.planList.planThumbnail&&this.plansService.showSuccessMessage(t.BANNER_LABELS.SUCCESS.DELETE_PLAN),this.updateUsageMetrics(n),this.router.navigate(["/plans/manageplan/card"]);else{var l=this.planOptionsService.getErrorMsg(e.error.errorCode,p.U);this.plansService.showErrorMessage(l)}},e.prototype.onCopyPlanSuccess=function(e,t,n,l){var a=this,o=new i.a;if(!e||e.responseData.result!==r.k.RESULT_OK){var u=this.planOptionsService.getErrorMsg(e.responseData.error.errorCode,p.U);return this.plansService.showErrorMessage(u),Object(s.a)(null)}return setTimeout((function(){a.dialog.open(r.t,{width:d.t.COPY_PLAN_SUCCESS.WIDTH,data:a.getCopySuccessModalProp(e,t),panelClass:d.t.COPY_PLAN_SUCCESS.PANEL_CLASS,id:n}).afterClosed().subscribe((function(e){o.next(e)})),a.updateUsageMetrics(l)})),o.asObservable()},e.prototype.getCopySuccessModalProp=function(e,t){return{heading:t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_HEADING,message:"<b>'"+e.requestData.planName+"'</b><br>"+t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_MSG_PART_1+"<b>"+e.requestData.studyName+"</b><br>"+t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_MSG_PART_2+"<br><b>'"+e.requestData.destPlanName+"'</b><br>"+t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_MSG_PART_3+"<b>"+e.requestData.destStudyName+"</b><br>",okLabel:t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_ACTION_STAY,cancelLabel:t.BANNER_LABELS.SUCCESS.COPY_PLAN.MODAL_ACTION_GO,contentClass:"copy-success-dialog-class"}},e.prototype.onApprovePlanSuccess=function(e,t,n){if(e&&e.result===r.k.RESULT_OK)return this.plansService.showSuccessMessage(t.BANNER_LABELS.SUCCESS.APPROVE_PLAN),this.updateUsageMetrics(n),!0;var l=this.planOptionsService.getErrorMsg(e.error.errorCode,p.U);return this.plansService.showErrorMessage(l),!1},e.prototype.updateUsageMetrics=function(e){var t={usageMetric:{viewVisit:{module:e.moduleName,page:e.pageName,studykey:e.studykey,localTime:(new Date).toString()}}};this.userDataService.updateUsageMetrics(t).subscribe()},e.prototype.getSourceCountries=function(){return this.sourceCountries},e.prototype.setPlanDetails=function(e){e&&(this.planDetailsResponseData=e,e.planProperties&&e.planProperties.planKey&&this.onPlanKeyChanged.next(e.planProperties.planKey),this.planDetailsSubject.next(e))},e.prototype.getPlanDetails=function(){return this.planDetailsSubject.asObservable()},e.prototype.emitSaveData=function(e){this.saveOption.next(e)},e.prototype.emitRASaveData=function(e){this.testSave.next(e)},e.prototype.updateTabEnability=function(e){this.disableCountryTab.next(e)},e.prototype.multiCountrySave=function(e){var t=this,n={};return n.studyKey=this.studyKey,n.planKey=this.planKey,n.version=this.planDetailsResponseData.planProperties.version,n.isPlan=this.planDetailsResponseData.planProperties.isPlan,n.isCohortPlan=this.planDetailsResponseData.planProperties.isCohortPlan,n.multiCountry=this.getSavePlanCommandTags(),e&&(n.countryValidation=e.countryValidation,n.commandParam=e.baseParams),n.updatePlanDetails=!0,this.planDetailsResponseData.planProperties.isDepCohortPlan&&(n.isDepCohortPlan=this.planDetailsResponseData.planProperties.isDepCohortPlan),this.saveService.updatePlan(n).pipe(Object(c.a)((function(e){if(e.result.toUpperCase()===r.k.RESULT_OK){t.setFormStatus(!1),t.setRefreshPlanList(!0),t.setSaveDisability(!0);var n=t.initResponseData(e);t.setPlanDetails(n.studyPlanDetails);var l=t.localeAppResourcesService.getResource("MCEDataUpdatedSuccessfully");return t.plansService.showSuccessMessage(l),t.onSaveAndRevertSubject.next(!0),n}if(e.result.toUpperCase()===r.k.RESULT_ERROR)return t.setSaveDisability(!1),e;var a=t.getEditedRows();t.setSaveDisability(!(a.length>0))})))},e.prototype.getCountriesWithRTLessThanActual=function(){var e=this.getSelectedAndEditedRows();e=e||[];var t="";if("N"===this.planDetailsResponseData.planProperties.isCohortPlan)for(var n=0;n<e.length;n++){var l=0;e[n].planParamsDetails.actuals&&e[n].planParamsDetails.actuals.RT&&(l=e[n].planParamsDetails.actuals.RT),(e[n].planParamsDetails.enrollmentTarget?e[n].planParamsDetails.enrollmentTarget:0)<l&&(t&&(t+=", "),t+=e[n].geographyName)}else for(n=0;n<e.length;n++){for(var r="",a=0;a<e[n].cohortList.length;a++)l=0,e[n].cohortList[a].planParamsDetails.actuals&&e[n].cohortList[a].planParamsDetails.actuals.RT&&(l=e[n].cohortList[a].planParamsDetails.actuals.RT),(e[n].cohortList[a].planParamsDetails.enrollmentTarget?e[n].cohortList[a].planParamsDetails.enrollmentTarget:0)<l&&(r&&(r+=", "),r+=e[n].cohortList[a].cohortName);r&&(t&&(t+=", "),t+=e[n].geographyName+"["+r+"]")}return t},e.prototype.getInfoProp=function(e,t){return this.saveService.getInfoProp(t?t+e:p.T+e)},e.prototype.saveRateAdjustments=function(){},e.prototype.getSavePlanErrorMessage=function(e){return p.V.find((function(t){return t.toString()===e.toString()}))?e.toString()===p.Y.PLAN_OUTDATED?this.getErrorMessage(p.U+e):this.getErrorMessage(p.T+e):this.getErrorMessage(p.T+e)?void 0:this.getErrorMessage(p.W)},e.prototype.singleCountrySave=function(){var e=this.dcpLoader(),t={};return t.studyKey=this.studyKey,t.planKey=this.planKey,t.version=this.planDetailsResponseData.planProperties.version,t.commandParam=e.baseParams,t.isPlan=this.planDetailsResponseData.planProperties.isPlan,t.singleCountry=e.countryInfo,t.countryValidation=e.countryValidation,t.updatePlanDetails=!0,t.isCohortPlan=this.planDetailsResponseData.planProperties.isCohortPlan,this.saveService.updatePlan(t).pipe(Object(c.a)((function(e){return e})))},e.prototype.dcpLoader=function(){return(new m.a).transformPayLoad(this.updatePlanCommandObj,this.planDetailsResponseData,this.appDataService.appDataResponse,this.getReportingPeriodValue(),!0)},e.prototype.getErrorDialogForMapCohortProp=function(e,t){void 0===e&&(e=!1),void 0===t&&(t="");var n=this.localeAppResourcesService.getResource("MAP_COHORT_ERR_DIALOG_MESSSAGE");return e&&(n=this.localeAppResourcesService.getResource("MAP_COHORT_MCE_ERR_DIALOG_MESSSAGE"),t&&(n=n.replace("{0}",t))),{heading:this.localeAppResourcesService.getResource("MAP_COHORT_ERR_DIALOG_HEADING"),message:n,prefixMaterialIcon:{name:this.localeAppResourcesService.getResource("MAP_COHORT_ERR_DIALOG_ICON"),color:"#297dfc",size:"30px"},okLabel:this.localeAppResourcesService.getResource("MAP_COHORT_ERR_DIALOG_OK"),showCancel:!1}},e.prototype.getRTValidation=function(){return(new m.a).getRTValidation(this.updatePlanCommandObj,this.planDetailsResponseData)},e.prototype.getResouces=function(){return{okLabel:this.localeAppResourcesService.getResource("OK"),cancelLabel:this.localeAppResourcesService.getResource("Cancel"),randTargetConfirmTitle:this.getErrorMessage("RandTargetConfirmTitle"),randTargetConfirmMsg:this.getErrorMessage("RandTargetConfirmMsg"),cohortRandTargetConfirmMsg:this.getErrorMessage("CohortRandTargetConfirmMsg"),countryPlanParamsSavedMsg:this.localeAppResourcesService.getResource("CountryPlanParamsSavedMsg")}},e.prototype.getResourcesForRTConfirmationForMCE=function(){return{okLabel:this.localeAppResourcesService.getResource("OK"),cancelLabel:this.localeAppResourcesService.getResource("Cancel"),randTargetConfirmTitle:this.getErrorMessage("RandTargetConfirmTitle"),randTargetConfirmMsg:this.getErrorMessage("MCERandTargetConfirmMsg"),countryPlanParamsSavedMsg:this.localeAppResourcesService.getResource("CountryPlanParamsSavedMsg")}},e.prototype.getResourcesForUnsavedCountriesForMCE=function(){return{okLabel:this.localeAppResourcesService.getResource("OK"),cancelLabel:this.localeAppResourcesService.getResource("Cancel"),randTargetConfirmTitle:this.getErrorMessage("MCEUnsavedCountriesConfirmTitle"),randTargetConfirmMsg:this.getErrorMessage("MCEUnsavedCountriesConfirmationMsg"),countryPlanParamsSavedMsg:this.localeAppResourcesService.getResource("CountryPlanParamsSavedMsg"),requiredFieldValidationMsg:this.getErrorMessage("PleaseCorrectValidationErrors"),customSitesValidationMsg:this.getErrorMessage("InvalidCustomSites"),requiredFieldValidationTitle:"Alert",allCohortsExcludedMsg:this.getErrorMessage("AllCohortExcludedError"),Countries_SaveMessage:this.localeAppResourcesService.getResource("Countries_SaveMessage"),Countries_SaveTitle:this.localeAppResourcesService.getResource("Countries_SaveTitle"),invalidSites_Title:this.localeAppResourcesService.getResource("InvalidSites_SaveTitle")}},e.prototype.getErrorMessage=function(e){return this.errorTermsStoreService.getErrorMessage(e)},e.prototype.getSIMethodChangeConfirmProp=function(e){var t;return t=this.localeAppResourcesService.getResource("P_TO_C"===e?"SIMC_CONFDIALG_MSG_P_TO_C":"SIMC_CONFDIALG_MSG_C_TO_P"),{heading:this.localeAppResourcesService.getResource("SIMC_CONFDIALG_HEADING"),message:t,prefixMaterialIcon:{name:"help",color:"#0e6ca9",size:"65px"},okLabel:this.localeAppResourcesService.getResource("OK"),cancelLabel:this.localeAppResourcesService.getResource("Cancel")}},e.prototype.setSaveDisability=function(e){this.saveEnability.next(e)},e.prototype.setRateAdjustmentRowAdded=function(e){},e.prototype.savePlanProperty=function(e){this.planPropertySave.next(e)},e.prototype.resetPlanProperty=function(e){this.planPropertyReset.next(e)},e.prototype.resetPlan=function(e){this.planReset.next(e)},e.prototype.changedPlanKey=function(e){this.changedCountryPlanKey(e),this.planKeyChanged.next(e)},e.prototype.changedCountryPlanKey=function(e){this.onPlanKeyChanged.next(e)},e.prototype.getPlanKeyChangeObservable=function(){return this.onPlanKeyChanged$},e.prototype.setReadOnly=function(e){this.planReadOnly.next(e)},e.prototype.getSourceDetails=function(e,t){var n=this,l={commandName:p.p.GETSTUDYSOURCEDETAILS,param:{studyKey:e||this.userDataService.getLastVisitedStudyKey()}},r=d.m.getModuleInfo(p.Db,e),a=this.payloadCommandService.getCommandDetails(l.commandName,l.param,{},{},r);return t||(t={}),t.cacheKey=p.p.GETSTUDYSOURCEDETAILS+"_"+l.param.studyKey,this.baseConnectionService.sendRequest(a,t).pipe(Object(c.a)((function(e){return e?(n.sourceCountries=e.studySourceDetails.sourceTargets&&e.studySourceDetails.sourceTargets.studyGeoList?Array.isArray(e.studySourceDetails.sourceTargets.studyGeoList.geography)?e.studySourceDetails.sourceTargets.studyGeoList.geography:[].concat(e.studySourceDetails.sourceTargets.studyGeoList.geography):[],n.studySourceDetails=n.studySourceMapper(e.studySourceDetails),n.studySourceDetails):null})))},e.prototype.studySourceMapper=function(e){var t={sourceTarget:{},actuals:{},projections:{}};if(e&&e.sourceTargets){var n=e.sourceTargets;t.sourceTarget.FPA=n.FPA?n.FPA:null,t.sourceTarget.FSI=n.FSI?n.FSI:null,t.sourceTarget.FSS=n.FSS?n.FSS:null,t.sourceTarget.LSR=n.LSR?n.LSR:null,t.sourceTarget.LSS=n.LSS?n.LSS:null,t.sourceTarget.cycleTime=null!=n.cycleTime?n.cycleTime:"",t.sourceTarget.enrollmentTarget=null!==n.enrollmentTarget?n.enrollmentTarget:""}return e.actuals&&(t.actuals.FPA=e.actuals.FPA?e.actuals.FPA:"",t.actuals.FSI=e.actuals.FSI?e.actuals.FSI:"",t.actuals.LSR=e.actuals.LSR?e.actuals.LSR:"",t.actuals.LSS=e.actuals.LSS?e.actuals.LSS:""),e.projections&&(t.projections.FPA=e.projections.FPA?e.projections.FPA:"",t.projections.FSI=e.projections.FSI?e.projections.FSI:"",t.projections.LSR=e.projections.LSR?e.projections.LSR:"",t.projections.LSS=e.projections.LSS?e.projections.LSS:""),t},e.prototype.getStudyReportingPeriod=function(){var e=this.userDataService.getLastVisitedStudyKey();return this.studyListService.getStudyInfoByKey(e).reportingPeriod},e.prototype.getReportingPeriodValue=function(){var e=this.getStudyReportingPeriod();return parseInt(p.Wb[e.toUpperCase()].VAL,10)},e.prototype.getReportingPeriodLabel=function(){var e=this.getStudyReportingPeriod();if(e)return p.Wb[e.toUpperCase()].LABEL},e.prototype.calculateRateAsPerFrequency=function(e){return this.getReportingPeriodValue(),e},e.prototype.getMilestoneData=function(e,t,n,l,a){var o=this;if(e||(e=this.userDataService.getLastVisitedStudyKey()),e&&t&&t.key){var i={studyKey:e,planKey:t.key},s={curveSpec:{value:[]}};s.curveSpec.value.push({geographies:{value:{geographySelection:{params:{key:n&&n.geoKey?n.geoKey:0,level:n&&n.geoLevel?n.geoLevel:"WW"}}}}}),l&&s.curveSpec.value.push({cohorts:{value:{cohortSelection:{params:{key:l.key,name:l.name,studyCohortKey:l.studyCohortKey}}}}});var u=d.m.getModuleInfo(p.Db,e),h=this.payloadCommandService.getCommandDetails(p.p.GET_MILESTONES,i,null,s,u);return this.baseConnectionService.sendRequest(h,{}).pipe(Object(c.a)((function(e){if(e&&e.result===r.k.RESULT_OK){var t=e.milestoneData.geographies;return n?a&&o.milestonesData.next(o.extractMileStoneData(t)):a&&o.milestonesDataWW.next(o.extractMileStoneData(t)),o.extractMileStoneData(t)}if(e.result===r.k.RESULT_ERROR)throw new Error(e.error.message)})))}throw new Error(p.p.GET_MILESTONES+": Required parameters not received")},e.prototype.getCurveDataWW=function(e,t,n,l){var a=this;if(e||(e=this.userDataService.getLastVisitedStudyKey()),this.studyKey=e,this.plan=t,e&&t&&t.key){var o={studyKey:e,planKey:t.key},i={curveSpec:{value:[]}};i.curveSpec.value.push({geographies:{value:{geographySelection:{params:{key:0,level:"WW"}}}}}),n&&i.curveSpec.value.push({cohorts:{value:{cohortSelection:{params:{key:n.key,name:n.name,studyCohortKey:n.studyCohortKey}}}}});var u=d.m.getModuleInfo(p.Db,e),h=this.payloadCommandService.getCommandDetails(p.p.GET_CURVE,o,null,i,u);return this.baseConnectionService.sendRequest(h,{}).pipe(Object(c.a)((function(e){if(e&&e.result===r.k.RESULT_OK){var t=e.geographies.geographyAllCurves;return l&&a.curveDataWW.next(a.sliceGraphData(t)),a.sliceGraphData(t)}if(e.result===r.k.RESULT_ERROR)throw new Error(e.error.message)})))}return Object(s.a)([])},e.prototype.getCurveDataRegion=function(e,t,n,l,a){var o=this;if(e||(e=this.userDataService.getLastVisitedStudyKey()),this.studyKey=e,this.plan=t,e&&t&&t.key&&n){var i={studyKey:e,planKey:t.key},u={curveSpec:{value:[]}};u.curveSpec.value.push({geographies:{value:{geographySelection:{params:{key:n.geoKey,level:n.geoLevel}}}}}),l&&u.curveSpec.value.push({cohorts:{value:{cohortSelection:{params:{key:l.key,name:l.name,studyCohortKey:l.studyCohortKey}}}}});var h=d.m.getModuleInfo(p.Db,e),f=this.payloadCommandService.getCommandDetails(p.p.GET_CURVE,i,null,u,h);return this.baseConnectionService.sendRequest(f,{}).pipe(Object(c.a)((function(e){if(e&&e.result===r.k.RESULT_OK){var t=e.geographies.geographyAllCurves;return a&&o.curveDataRegion.next(o.sliceGraphData(t)),o.sliceGraphData(t)}if(e.result===r.k.RESULT_ERROR)throw new Error(e.error.message)})))}return Object(s.a)([])},e.prototype.getCurveData=function(e,t,n,l,a){var o=this;if(e||(e=this.userDataService.getLastVisitedStudyKey()),this.studyKey=e,this.plan=t,e&&t&&t.key&&n){var i={studyKey:e,planKey:t.key},u={curveSpec:{value:[]}};u.curveSpec.value.push({geographies:{value:{geographySelection:{params:{key:n.geoKey,level:n.geoLevel}}}}}),l&&u.curveSpec.value.push({cohorts:{value:{cohortSelection:{params:{key:l.key,name:l.name,studyCohortKey:l.studyCohortKey}}}}});var h=d.m.getModuleInfo(p.Db,e),f=this.payloadCommandService.getCommandDetails(p.p.GET_CURVE,i,null,u,h);return this.baseConnectionService.sendRequest(f,{}).pipe(Object(c.a)((function(e){if(e&&e.result===r.k.RESULT_OK){var t=e.geographies.geographyAllCurves;return a&&o.curveData.next(o.sliceGraphData(t)),o.sliceGraphData(t)}if(e.result===r.k.RESULT_ERROR)throw new Error(e.error.message)})))}return Object(s.a)([])},e.prototype.getDynamicPrDataWW=function(e,t,n,l,a,o){var i=this;if(t||(t=this.userDataService.getLastVisitedStudyKey()),this.studyKey=t,e&&t&&n){var u={studyKey:t,planKey:n,version:l},h={value:[]};h.value.push({geographySelection:{params:{key:0,level:"WW"}}}),a&&h.value.push({cohortSelection:{params:{key:a.key,name:a.name,studyCohortKey:a.studyCohortKey}}});var f=d.m.getModuleInfo(p.Db,t),m=this.payloadCommandService.getCommandDetails(p.p.CALC_DYNAMIC_PROJECTIONS,u,null,h,f);return this.baseConnectionService.sendRequest(m,{}).pipe(Object(c.a)((function(e){if(e&&e.result===r.k.RESULT_OK){var t=e.geographies.geographyAllCurves;return o&&i.dynCurveDataWW.next(i.sliceGraphDataUpd(t)),i.sliceGraphDataUpd(t)}if(e.result===r.k.RESULT_ERROR)throw new Error(e.error.message)})))}return o&&(console.log("in publish"),this.dynCurveDataWW.next({curve:[],milestone:[]})),Object(s.a)({curve:[],milestone:[]})},e.prototype.getDynamicPrDataRegion=function(e,t,n,l,a,o,i){var u=this;if(t||(t=this.userDataService.getLastVisitedStudyKey()),this.studyKey=t,e&&t&&n&&l){var h={studyKey:t,planKey:n,version:a},f={value:[]};f.value.push({geographySelection:{params:{key:l.geoKey,level:l.geoLevel}}}),o&&f.value.push({cohortSelection:{params:{key:o.key,name:o.name,studyCohortKey:o.studyCohortKey}}});var m=d.m.getModuleInfo(p.Db,t),g=this.payloadCommandService.getCommandDetails(p.p.CALC_DYNAMIC_PROJECTIONS,h,null,f,m);return this.baseConnectionService.sendRequest(g,{}).pipe(Object(c.a)((function(e){if(e&&e.result===r.k.RESULT_OK){var t=e.geographies.geographyAllCurves;return i&&u.dynCurveDataRegion.next(u.sliceGraphDataUpd(t)),u.sliceGraphDataUpd(t)}if(e.result===r.k.RESULT_ERROR)throw new Error(e.error.message)})))}return i&&this.dynCurveDataRegion.next({curve:[],milestone:[]}),Object(s.a)({curve:[],milestone:[]})},e.prototype.getDynamicPrData=function(e,t,n,l,a,o,i){var u=this;if(t||(t=this.userDataService.getLastVisitedStudyKey()),this.studyKey=t,e&&t&&n&&l){var h={studyKey:t,planKey:n,version:a},f={value:[]};f.value.push({geographySelection:{params:{key:l.geoKey,level:l.geoLevel}}}),o&&f.value.push({cohortSelection:{params:{key:o.key,name:o.name,studyCohortKey:o.studyCohortKey}}});var m=d.m.getModuleInfo(p.Db,t),g=this.payloadCommandService.getCommandDetails(p.p.CALC_DYNAMIC_PROJECTIONS,h,null,f,m);return this.baseConnectionService.sendRequest(g,{}).pipe(Object(c.a)((function(e){if(e&&e.result===r.k.RESULT_OK){u.calDynamic(e);var t=e.geographies.geographyAllCurves;return i&&u.dynCurveData.next(u.sliceGraphDataUpd(t)),u.sliceGraphDataUpd(t)}if(e.result===r.k.RESULT_ERROR)throw new Error(e.error.message)})))}return i&&this.dynCurveData.next({curve:[],milestone:[]}),Object(s.a)({curve:[],milestone:[]})},e.prototype.getAllGraphData=function(e,t,n,r,a,o){var i=this;return Object(u.a)(this.getCurveData(e,t,n,r),this.getMilestoneData(e,t,n,r),this.getDynamicPrData(a,e,Number(t.key),n,o,r)).pipe(Object(c.a)((function(e){console.log("response>>>",e),e[2]&&e[2].curve instanceof Array&&e[2].curve.length>0&&(e[0]=l.__spread(e[0],e[2].curve),console.log("getCurveData",e[0])),e[2]&&e[2].milestone&&e[2].milestone.markers instanceof Array&&e[2].milestone.markers.length>0&&(e[1].markers=l.__spread(e[1].markers,e[2].milestone.markers),console.log("getMilestoneData",e[1]));var t={curves:e[0],markers:e[1]};return console.log("combined data",t),i.allGraphData.next(t),t})))},e.prototype.getAllGraphDataRegion=function(e,t,n,r,a,o){var i=this;return Object(u.a)(this.getCurveDataRegion(e,t,n,r),this.getMilestoneData(e,t,n,r),this.getDynamicPrDataRegion(a,e,Number(t.key),n,o,r)).pipe(Object(c.a)((function(e){console.log("response>>>",e),e[2]&&e[2].curve instanceof Array&&e[2].curve.length>0&&(e[0]=l.__spread(e[0],e[2].curve),console.log("getCurveData",e[0])),e[2]&&e[2].milestone&&e[2].milestone.markers instanceof Array&&e[2].milestone.markers.length>0&&(e[1].markers=l.__spread(e[1].markers,e[2].milestone.markers),console.log("getMilestoneData",e[1]));var t={curves:e[0],markers:e[1]};return console.log("combined data",t),i.allGraphDataRegion.next(t),t})))},e.prototype.getAllGraphDataWW=function(e,t,n,r,a,o){var i=this;return Object(u.a)(this.getCurveDataWW(e,t,r),this.getMilestoneData(e,t,null,r),this.getDynamicPrDataWW(a,e,Number(t.key),o,r)).pipe(Object(c.a)((function(e){console.log("response>>>",e),e[2]&&e[2].curve instanceof Array&&e[2].curve.length>0&&(e[0]=l.__spread(e[0],e[2].curve),console.log("getCurveDataWW",e[0])),e[2]&&e[2].milestone&&e[2].milestone.markers instanceof Array&&e[2].milestone.markers.length>0&&(e[1].markers=l.__spread(e[1].markers,e[2].milestone.markers),console.log("getMilestoneData",e[1])),console.log("dW",e[2]);var t={curves:e[0],markers:e[1]};return console.log("combined data",t),i.allGraphDataWW.next(t),t})))},e.prototype.extractMileStoneData=function(e){var t=this,n=new d.H,r=new Array;return e.planmilestone.siteinit?e.planmilestone.siteinit.curves instanceof Array||(e.planmilestone.siteinit.curves=[e.planmilestone.siteinit.curves]):(e.planmilestone.siteinit={},e.planmilestone.siteinit.curves=[]),e.planmilestone.screening?e.planmilestone.screening.curves instanceof Array||(e.planmilestone.screening.curves=[e.planmilestone.screening.curves]):(e.planmilestone.screening={},e.planmilestone.screening.curves=[]),e.planmilestone.randomization?e.planmilestone.randomization.curves instanceof Array||(e.planmilestone.randomization.curves=[e.planmilestone.randomization.curves]):(e.planmilestone.randomization={},e.planmilestone.randomization.curves=[]),e.planmilestone.siteinit.curves.forEach((function(e){e.axis="site"})),e.planmilestone.screening.curves.forEach((function(e){e.axis="subject"})),e.planmilestone.randomization.curves.forEach((function(e){e.axis="subject"})),l.__spread(e.planmilestone.siteinit.curves,e.planmilestone.screening.curves,e.planmilestone.randomization.curves).forEach((function(e){e.markers&&(e.markers instanceof Array||(e.markers=[e.markers]),e.markers.forEach((function(n){r.push(new d.G(e.id,t.localeAppResourcesService.getResource(e.id)?t.localeAppResourcesService.getResource(e.id):e.id,t.getInitialsToLssLsrFssFsi(e,n),n.value,n.date,t.localeAppResourcesService.getResource(n.description)?t.localeAppResourcesService.getResource(n.description):n.description,e.name,e.axis,0,0,"black",n.description))})))})),n.markers=r,e.targetmilestones?e.targetmilestones instanceof Array||(e.targetmilestones=[e.targetmilestones]):e.targetmilestones=[],n.targetMileStone=e.targetmilestones,n.showTargetMilestone=!1,n.markersToPlot=new Array,n.targetMileStone.forEach((function(e){e.name=t.localeAppResourcesService.getResource("Chart"+e.name)?t.localeAppResourcesService.getResource("Chart"+e.name):e.name,e.description=t.localeAppResourcesService.getResource(e.description)?t.localeAppResourcesService.getResource(e.description):e.description})),n},e.prototype.sliceGraphData=function(e){var t=this,n=new Array;return e?e.planType&&e.planType.length?(e.planType.forEach((function(e){e.curve&&(n=l.__spread(n,t.extractCurveData(e)))})),n):(e.planType&&e.planType.curve&&(n=l.__spread(n,this.extractCurveData(e.planType))),n):n},e.prototype.sliceGraphDataUpd=function(e){var t=this,n=new Array,r=new d.H;return e&&(e.planType&&e.planType.length?e.planType.forEach((function(e){e.curve&&(n=l.__spread(n,t.extractCurveDataUpd(e)))})):e.planType.curve&&(n=l.__spread(n,this.extractCurveDataUpd(e.planType))),r=this.extractMileStoneData(e),console.log("milestoneData",r)),{curve:n,milestone:r}},e.prototype.extractCurveData=function(e){var t,n=this,l=new Array,r=1;return e.curve.forEach((function(o){if(r=1,o.dataSlice instanceof Array)o.dataSlice.forEach((function(i){var s=new d.r;-1===o.name.indexOf("dropout")&&-1===i.name.indexOf("dropout")&&-1===o.name.indexOf("screen_failures")&&-1===i.name.indexOf("screen_failures")||(r=-1),t=n.localeAppResourcesService.getResource(g.a[e.name+"-"+o.name+" "+i.name]),s.name=t||e.name+"-"+o.name+" "+i.name;var u=i.datapoints?i.datapoints.split(";"):[];s.code=g.a[e.name+"-"+o.name+" "+i.name],s.series=[],u.length>0&&(u.forEach((function(e){e.length>5&&s.series.push(new d.u(new Date(a(e.split(" ")[0]).format("MM/DD/YYYY")),e.split(" ")[1]*r))})),l.push(s))}));else{var i=new d.r;-1===o.name.indexOf("dropout")&&-1===o.name.indexOf("screen_failures")||(r=-1),t=n.localeAppResourcesService.getResource(g.a[e.name+"-"+o.name]),i.name=t||e.name+"-"+o.name;var s=o.dataSlice&&o.dataSlice.datapoints?o.dataSlice.datapoints.split(";"):[];i.code=g.a[e.name+"-"+o.name],i.series=[],s.length>0&&(s.forEach((function(e){e.length>5&&i.series.push(new d.u(new Date(a(e.split(" ")[0]).format("MM/DD/YYYY")),e.split(" ")[1]*r))})),l.push(i))}})),l},e.prototype.extractCurveDataUpd=function(e){var t,n=this,l=new Array,r=1;return e.curve.forEach((function(o){if(r=1,o.dataSlice instanceof Array)o.dataSlice.forEach((function(i){var s=new d.r;-1===o.name.indexOf("dropout")&&-1===i.name.indexOf("dropout")&&-1===o.name.indexOf("screen_failures")&&-1===i.name.indexOf("screen_failures")||(r=-1),t=n.localeAppResourcesService.getResource(g.a[e.name+"-"+o.name+" "+i.name]),s.name=t||e.name+"-"+o.name+" "+i.name;var u=i.datapoints?i.datapoints.split(";"):[];s.code=g.a[e.name+"-"+o.name+" "+i.name],s.series=[],u.length>0&&(u.forEach((function(e){e.length>5&&s.series.push(new d.u(new Date(a(e.split(" ")[0]).format("MM/DD/YYYY")),e.split(" ")[1]*r))})),l.push(s))}));else{var i=new d.r;-1===o.name.indexOf("dropout")&&-1===o.name.indexOf("screen_failures")||(r=-1),t=n.localeAppResourcesService.getResource(g.a[e.name+"-"+o.name+" "+o.dataSlice.name]),i.name=t||e.name+"-"+o.name+" "+o.dataSlice.name;var s=o.dataSlice&&o.dataSlice.datapoints?o.dataSlice.datapoints.split(";"):[];i.code=g.a[e.name+"-"+o.name+" "+o.dataSlice.name],i.series=[],s.length>0&&(s.forEach((function(e){e.length>5&&i.series.push(new d.u(new Date(a(e.split(" ")[0]).format("MM/DD/YYYY")),e.split(" ")[1]*r))})),l.push(i))}})),l},e.prototype.getStudySourceAndActuals=function(e,t,n){var l,r=this,a=this.studyKey?this.studyKey:this.userDataService.getLastVisitedStudyKey(),o=d.m.getModuleInfo(p.Db,a),i=this.payloadCommandService.getCommandDetails(p.p.GETSTUDYSOURCEDETAILS,{studyKey:a},null,null,o);return this.getPlanDetails().subscribe((function(e){l=Object(s.a)(e)})),Object(u.a)(this.baseConnectionService.sendRequest(i).pipe(Object(c.a)((function(e){return e.studySourceDetails?e.studySourceDetails:null}))),l).pipe(Object(c.a)((function(l){return l?(r.sourceSummaryAndGetPlanDetailsResponse=l,l[0].error||l[1].error?l[0].error||l[1].error?null:void 0:l[1].planProperties&&"Y"===l[1].planProperties.isCohortPlan&&t?r.cueCardCohortDetailsMapper(l,e,t,n):r.cueCardDetailsMapper(l,e,t,n)):r.cueCardDetailsMapper(null,null,null,n)})))},e.prototype.cueCardDetailsMapper=function(e,t,n,a){var o,i,s,u,c,d,h,f,m,g,y,v,S,R,C,b=[];if(e instanceof Array){if(e[0].sourceTargets){var P=Object.assign({},e[0].sourceTargets);P.RR=null,P.SR=null,P.SFR=null,P.ARC=null,b.push({sourceTargets:this.objectCueMapper(P)})}else b.push({sourceTargets:{RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null}});if(e[1].planProperties){var D=Object.assign({},e[1].planProperties);D.Sites=null,D.RR=null,D.SR=null,D.SFR=null,D.ARC=null,b.push({studyTargets:this.objectCueMapper(D)})}else b.push({studyTargets:{}});if(e[1]&&e[1].geoList){var A=e[1].geoList.geography?e[1].geoList.geography:void 0;try{for(var E=l.__values(A),T=E.next();!T.done;T=E.next()){var I=T.value;"worldwide"!==I.geographyName.toString().toLowerCase()||I.cohortName||(b.push(A.length>1&&I.planParamsDetails?{worldwide:{RT:void 0!==I.planParamsDetails?void 0!==I.planParamsDetails.RT?I.planParamsDetails.RT:I.planParamsDetails.enrollmentTarget:null,Sites:void 0!==I.planParamsDetails?I.planParamsDetails.numSites:null,"SAS%":void 0!==I.planParamsDetails?r.c.formatDecimal(I.planParamsDetails.ARC,"0.1-1"):null,FPA:void 0!==I.planParamsDetails?I.planParamsDetails.PFPA:null,FSI:void 0!==I.planParamsDetails?I.planParamsDetails.PFSI:null,LSS:void 0!==I.planParamsDetails?I.planParamsDetails.PLSS:null,LSR:void 0!==I.planParamsDetails?I.planParamsDetails.PLSR:null,RR:void 0!==I.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(I.planParamsDetails.RR),"0.1-3"):null,SR:void 0!==I.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(I.planParamsDetails.SR),"0.1-3"):null,"SF%":void 0!==I.planParamsDetails?r.c.formatDecimal(I.planParamsDetails.SFR,"0.1-1"):null}}:{worldwide:{}}),null===t&&(C=I.planParamsDetails))}}catch(U){o={error:U}}finally{try{T&&!T.done&&(i=E.return)&&i.call(E)}finally{if(o)throw o.error}}if(t&&t.planParamsDetails&&(t.planParamsDetails.regionKey||0===t.planParamsDetails.regionKey)&&e[1]&&e[1].regionList&&e[1].regionList.geography){var L=[];e[1].regionList.geography&&!e[1].regionList.geography.length?L.push(e[1].regionList.geography):e[1].regionList.geography&&e[1].regionList.geography.length>0&&(L=e[1].regionList.geography);try{for(var O=l.__values(L),_=O.next();!_.done;_=O.next()){var N=_.value;if(t.planParamsDetails.regionKey===N.geographyKey){if(N.geographyName){b.push(((c={})[N.geographyName]={RT:void 0!==N.planParamsDetails?void 0!==N.planParamsDetails.RT?N.planParamsDetails.RT:N.planParamsDetails.enrollmentTarget:null,Sites:void 0!==N.planParamsDetails?N.planParamsDetails.numSites:null,"SAS%":void 0!==N.planParamsDetails?r.c.formatDecimal(N.planParamsDetails.ARC,"0.1-1"):null,FSI:void 0!==N.planParamsDetails?N.planParamsDetails.PFSI:null,LSS:void 0!==N.planParamsDetails?N.planParamsDetails.PLSS:null,LSR:void 0!==N.planParamsDetails?N.planParamsDetails.PLSR:null,RR:void 0!==N.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(N.planParamsDetails.RR),"0.1-3"):null,SR:void 0!==N.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(N.planParamsDetails.SR),"0.1-3"):null,"SF%":void 0!==N.planParamsDetails?r.c.formatDecimal(N.planParamsDetails.SFR,"0.1-1"):null},c));break}if(null===N.geographyName){b.push({region:{}});break}}}}catch(V){s={error:V}}finally{try{_&&!_.done&&(u=O.return)&&u.call(O)}finally{if(s)throw s.error}}}try{for(var M=l.__values(A),w=M.next();!w.done;w=M.next()){var x=w.value;if(t&&x.geographyName===t.geographyName&&null!==t.geographyName&&!x.cohortName){if(t.geographyName){b.push(((f={})[t.geographyName]={RT:void 0!==x.planParamsDetails?void 0!==x.planParamsDetails.RT?x.planParamsDetails.RT:x.planParamsDetails.enrollmentTarget:null,Sites:void 0!==x.planParamsDetails?x.planParamsDetails.numSites:null,"SAS%":void 0!==x.planParamsDetails?r.c.formatDecimal(x.planParamsDetails.ARC,"0.1-1"):null,FPA:void 0!==x.planParamsDetails?x.planParamsDetails.PFPA:null,FSI:void 0!==x.planParamsDetails?x.planParamsDetails.PFSI:null,LSS:void 0!==x.planParamsDetails?x.planParamsDetails.PLSS:null,LSR:void 0!==x.planParamsDetails?x.planParamsDetails.PLSR:null,RR:void 0!==x.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(x.planParamsDetails.RR),"0.1-3"):null,SR:void 0!==x.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(x.planParamsDetails.SR),"0.1-3"):null,"SF%":void 0!==x.planParamsDetails?r.c.formatDecimal(x.planParamsDetails.SFR,"0.1-1"):null},f)),C=x.planParamsDetails;break}}else if(t&&""===t.geographyName){b.push({country:{}});break}}}catch(K){d={error:K}}finally{try{w&&!w.done&&(h=M.return)&&h.call(M)}finally{if(d)throw d.error}}}else b.push({worldwide:{}});if(b.push(e[1]&&e[1].geoList?void 0!==C?((m={})["approved Plan"]=this.objectCueMapper(C.approvedPlan),m):((g={})["approved Plan"]={},g):((y={})["approved Plan"]={},y)),null===t){this.showFSI=!(!e[0].actuals||!e[0].actuals.FSI),b.push({actuals:this.objectCueMapper(e[0].actuals)});var F=null;if(e&&e[1].planProperties&&e[1].planProperties.isReadOnly&&e[1].planProperties.planStatus&&e[1].planProperties.planStatus.value!==p.Ub.APPROVED){for(var k in F={RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null})e[0].projections&&e[0].projections.hasOwnProperty(k)&&(F[k]=e[0].projections[k]);b.push({projections:this.projectionObjMapper(F)})}else e&&e[1].planProperties&&!e[1].planProperties.isReadOnly&&e[1].planProperties.planStatus&&(e[1].planProperties.planStatus.value===p.Ub.VALID||e[1].planProperties.planStatus.value===p.Ub.INVALID)?b.push({projections:{RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null}}):((F=e[0]).projections&&(F.projections.Sites=null),(j=this.objectCueMapperEffective(F)).Sites=null,b.push({projections:j}))}else if(void 0!==C)if(this.showFSI=!(!C.actuals||!C.actuals.FSI),b.push({actuals:this.objectCueMapper(C.actuals)}),F=null,e&&e[1].planProperties&&e[1].planProperties.isReadOnly&&e[1].planProperties.planStatus&&e[1].planProperties.planStatus.value!==p.Ub.APPROVED){for(var k in F={RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null})C.projections&&C.projections.hasOwnProperty(k)&&(F[k]=C.projections[k]);b.push({projections:this.projectionObjMapper(F)})}else{var j;e[1].planProperties.isReadOnly||!e[1].planProperties.planStatus||e[1].planProperties.planStatus.value!==p.Ub.VALID&&e[1].planProperties.planStatus.value!==p.Ub.INVALID?((F=C).projections&&(F.projections.Sites=null),(j=this.objectCueMapperEffective(F)).Sites=null,b.push({projections:j})):b.push({projections:{RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null}})}else b.push({actuals:{}}),b.push({projections:{}});this.isDynamicProjectionChecked&&this.dynamicRowData&&!a?(this.showFSI&&(this.dynamicRowData.dynEffectiveFSI=null),b.push(((v={})["Updated Projections"]={RT:null,Sites:null,"SAS%":r.c.isDefined(this.dynamicRowData.dynEffectiveSAS)?r.c.formatDecimal(this.dynamicRowData.dynEffectiveSAS,"0.1-1"):null,FPA:null,FSI:this.dynamicRowData.dynEffectiveFSI,LSS:this.dynamicRowData.dynEffectiveLSS,LSR:this.dynamicRowData.dynEffectiveLSR,RR:r.c.isDefined(this.dynamicRowData.dynEffectiveRR)?r.c.formatDecimal(this.calculateRateAsPerFrequency(this.dynamicRowData.dynEffectiveRR),"0.1-3"):null,SR:r.c.isDefined(this.dynamicRowData.dynEffectiveSR)?r.c.formatDecimal(this.calculateRateAsPerFrequency(this.dynamicRowData.dynEffectiveSR),"0.1-3"):null,"SF%":r.c.isDefined(this.dynamicRowData.dynEffectiveSFR)?r.c.formatDecimal(this.dynamicRowData.dynEffectiveSFR,"0.1-1"):null},v))):a||b.push(((S={})["Updated Projections"]={RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null},S))}else b.push({sourceTargets:{RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null}},{studyTargets:{}},{worldwide:{}},((R={})["approved Plan"]={},R),{actuals:{}},{projections:{}});return this.cueCardObjectModifier(b)},e.prototype.cueCardObjectModifier=function(e){var t=[],n=e.reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e}),{}),l=0;for(var r in n)if(n.hasOwnProperty(r)){var a={};for(var o in n[r])n[r].hasOwnProperty(o)&&(void 0!==this.cueCardRow[o]?a[this.cueCardRow[o]]=n[r][o]:a[o]=n[r][o]);var i={};void 0!==this.cueCardCol[r]?i[this.cueCardCol[r]]=a:i[r]=a,t[l]=i,l+=1}return t},e.prototype.getCueCardResource=function(e){return this.localeAppResourcesService.getResource(e)},e.prototype.getCuecardRowResource=function(){this.cueCardRow={FPA:this.getCueCardResource("FPA_CUECARD"),FSI:this.getCueCardResource("FSI_CUECARD"),LSR:this.getCueCardResource("LSR_CUECARD"),LSS:this.getCueCardResource("LSS_CUECARD"),RR:this.getCueCardResource("RR_CUECARD"),RT:this.getCueCardResource("RT_CUECARD"),"SAS%":this.getCueCardResource("SAS_PERCENT_CUECARD"),"SF%":this.getCueCardResource("SF_PERCENT_CUECARD"),SR:this.getCueCardResource("SR_CUECARD"),Sites:this.getCueCardResource("Sites_CUECARD")}},e.prototype.getCuecardColResource=function(){this.cueCardCol={sourceTargets:this.getCueCardResource("SOURCETARGET_CUECARD"),studyTargets:this.getCueCardResource("STUDYTARGETS_CUECARD"),worldwide:this.getCueCardResource("WORLDWIDE_CUECARD"),"approved Plan":this.getCueCardResource("APPROVEDPLAN_CUECARD"),actuals:this.getCueCardResource("ACTUALS_CUECARD"),projections:this.getCueCardResource("PROJECTIONS_CUECARD"),"Updated Projections":this.getCueCardResource("UPDATEDPROJECTIONS_CUECARD")}},e.prototype.objectCueMapper=function(e){return{RT:void 0!==e?void 0!==e.RT?e.RT:e.enrollmentTarget:null,Sites:e?e.numSites:null,"SAS%":e&&e.ARC?r.c.formatDecimal(e.ARC,"0.1-1"):null,FPA:void 0!==e?e.FPA:null,FSI:void 0!==e?e.FSI:null,LSS:void 0!==e?e.LSS:null,LSR:void 0!==e?e.LSR:null,RR:e&&e.RR?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.RR),"0.1-3"):null,SR:e&&e.SR?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.SR),"0.1-3"):null,"SF%":e&&e.SFR?r.c.formatDecimal(e.SFR,"0.1-1"):null}},e.prototype.projectionObjMapper=function(e){return{RT:void 0!==e?void 0!==e.RT?e.RT:e.enrollmentTarget:null,Sites:null,"SAS%":"N/A",FPA:e&&e.FPA?e.FPA:null,FSI:"N/A",LSS:"N/A",LSR:"N/A",RR:"N/A",SR:"N/A","SF%":"N/A"}},e.prototype.updatePlan=function(e,t,n,l,r){e&&this.payloadCommandService.getCommandDetails(r?p.p.UPDATE_COUNTRY_PLAN:p.p.UPDATE_ADJ_COUNTRY_PLAN,{studyKey:e,planKey:t,version:n,updatePlanDetails:!0},{},l,{moduleName:"PLANS",pageName:"DFNSOLVE",studykey:this.studyKey})},e.prototype.getCommandTags=function(e,t){var n={},l=t?"countryPlanUpdator":"adjustCountryPlanUpdator";n[l]={value:[]};for(var r=0;r<e.length;r++){var a=e[r],o={params:{countryKey:a.geographyKey,countryName:a.geographyName},value:this.mapPlanParamsDetails_To_CountryPlanParams(a.planParamsDetails,t)};n[l].value.push(t?{countryPlanParams:o}:{adjustCountryPlanParams:o})}return n},e.prototype.mapPlanParamsDetails_To_CountryPlanParams=function(e,t){if(e){var n={};return n.enrollmentTarget=e.enrollmentTarget,n.FSI=e.FSI,n.LSR=e.LSR,n.screeningTarget=e.screeningTarget,n.SR=e.SR,n.SFR=e.SFR,n.RR=e.RR,n.ARC=e.ARC,n.seedNumber=e.seedNumber,n.numSites=e.numSites,n.siteInitiationMethod=e.siteInitiationMethod,n.isSSV=e.isSSV,n.centerInitInfo=e.centerInitInfo,n.algorithmCode=e.algorithmCode,n.algorithmSiteCompId=e.algorithmSiteCompId,n.overRecruitmentPercent=e.overRecruitmentPercent,n.isOverRecruitmentEnabled=e.isOverRecruitmentEnabled,n.ARTB=e.ARTB,n.maxRT=e.maxRT,n.minRT=e.minRT,t||(n.redistSites=e.redistSites,n.redistFSI=e.redistFSI,n.isTargetAdjusted=e.isTargetAdjusted,n.isSitesAdjusted=e.isSitesAdjusted),n}},e.prototype.getIsPopupConfirmationRequired=function(){return this.isConfirmationPopupRequired()},e.prototype.getConfirmationRequired=function(){return this.plansService.getFormStatus()},e.prototype.setRevertConfirmationRequired=function(e){this.isResetConfirmed=e},e.prototype.getRevertClicked=function(){return this.isRevertClicked},e.prototype.setRevertClicked=function(e){this.isRevertClicked=e},e.prototype.getSavePlanCommandTags=function(){return this.savePlanCommandTags},e.prototype.setSavePlanCommandTags=function(e){this.savePlanCommandTags=e},e.prototype.showUnsavedDataConfirmation=function(e){return e=e||this.getConfirmProp(),this.dialog.open(r.t,{width:d.t.CONFIRM_UNSAVED_DATA.WIDTH,data:e,panelClass:d.t.DELETE_PLAN.PANEL_CLASS,id:"warnDataLossOnNavDialog"})},e.prototype.getConfirmProp=function(){return{heading:this.localeAppResourcesService.getResource("unsavedTitle"),message:this.localeAppResourcesService.getResource("unsavedMessage"),okLabel:this.localeAppResourcesService.getResource(d.a.OkLabel),cancelLabel:this.localeAppResourcesService.getResource(d.a.CancelLabel)}},e.prototype.getRevertToLatestSavedConfirmProp=function(){return{heading:this.localeAppResourcesService.getResource("revertTitle"),message:this.localeAppResourcesService.getResource("revertMessage"),okLabel:this.localeAppResourcesService.getResource(d.a.OkLabel),cancelLabel:this.localeAppResourcesService.getResource(d.a.CancelLabel)}},e.prototype.checkModulePrivilege=function(e){return this.userDataService.checkModulePrivilege(e)},e.prototype.getPlanDetailsResponseData=function(){return this.planDetailsResponseData},e.prototype.getSourceCountriesList=function(){var e=this.getPlanDetailsResponseData();return e.geoList&&e.geoList.geography?[].concat(this.getPlanDetailsResponseData().geoList.geography):[]},e.prototype.setRefreshPlanList=function(e){e&&this.refreshPlanList$.next(e)},e.prototype.getRefreshPlanListObservable=function(){return this.refreshPlanList$.asObservable()},e.prototype.setRevertToLatestSaved=function(e){e&&this.revertToLatestSaved$.next(e)},e.prototype.getRevertToLatestSavedObservable=function(){return this.revertToLatestSaved$.asObservable()},e.prototype.setSavePlanSuccess=function(e){e&&(e=this.initResponseData(e),this.savePlanSuccess$.next(e))},e.prototype.getSavePlanSuccessObservable=function(){return this.savePlanSuccess$.asObservable()},e.prototype.setCopyPlanVal=function(e,t){e&&(void 0!==t&&!0===t&&(e=this.initResponseData(e)),this.copyPlanValue$.next(e))},e.prototype.getCopyPlanVal=function(){return this.copyPlanValue$.asObservable()},e.prototype.getPlanChangedObservable=function(){return this.planChanged$.asObservable()},e.prototype.setPlanChanged=function(e){e&&this.planChanged$.next(e)},e.prototype.setPasteVisisibility=function(){this.indiMultiCountryOptions.resetPasteVisibility()},e.prototype.setCountriesGridAPI=function(e){this.gridAPI=e},Object.defineProperty(e.prototype,"countrisGridApi",{get:function(){return this.gridAPI},enumerable:!0,configurable:!0}),e.prototype.getCohortType=function(e,t){return"N"===t||!e.data.isCohortCountry},e.prototype.getEditedRows=function(){var e=[],t=this;return t.gridAPI&&t.gridAPI.forEachNode((function(n){t.getCohortType(n,t.planDetailsResponseData.planProperties.isCohortPlan)&&n.data.isEdited&&!n.isSelected()&&e.push(n.data)})),e},e.prototype.getSelectedAndEditedRows=function(){var e=[],t=this;return t.gridAPI&&t.gridAPI.forEachNode((function(n){t.getCohortType(n,t.planDetailsResponseData.planProperties.isCohortPlan)&&n.data.isEdited&&n.isSelected()&&e.push(n.data)})),e},e.prototype.getSelectedCountriesAndCohorts=function(){var e=[],t=[],n=this;return n.gridAPI&&(n.gridAPI.forEachNode((function(t){n.getCohortType(t,n.planDetailsResponseData.planProperties.isCohortPlan)&&t.isSelected()&&e.push(t.data)})),n.planDetailsResponseData.planProperties.isCohortPlan===p.ob&&e.forEach((function(e){t.push(e),n.gridAPI.forEachNode((function(n){e.geographyKey===n.data.geographyKey&&n.data.isCohortCountry&&n.data.isEdited&&t.push(n.data)}))}))),n.planDetailsResponseData.planProperties.isCohortPlan===p.qb?e:t},e.prototype.getAllCohortExcludedList=function(){var e=[],t=this,n=!1;return this.isCohortPlan()&&(t.gridAPI&&t.gridAPI.forEachNode((function(n){t.getCohortType(n,t.planDetailsResponseData.planProperties.isCohortPlan)&&n.data.isEdited&&n.isSelected()&&e.push(n.data)})),e.forEach((function(e){!n&&e.allCohortExcluded&&(n=e.allCohortExcluded)}))),n},e.prototype.mapCohortStatusList=function(){var e=this,t=[],n=[];return e.isCohortPlan()&&e.gridAPI&&e.gridAPI.forEachNode((function(l){if(e.getCohortType(l,e.planDetailsResponseData.planProperties.isCohortPlan)&&l.data.isEdited&&l.isSelected()){var r=e.getIncludedCohortList(l.data.cohortList);if(r&&r.length<l.data.cohortList.length&&"granular"===l.data.planParamsDetails.siteInitiationMethod&&(t=l.data.planParamsDetails.centerInitInfo.granularCenterInitInfo.centerInitSlot)&&t.length>0)for(var a=0;a<t.length;a++){var o=t[a];o.usedCohortKeys&&!e.mapCohortRowEmpty(r,o.usedCohortKeys)||n.push({countryName:l.data.geographyName,usedCohortKeysUndefined:!0})}}})),n},e.prototype.getIncludedCohortList=function(e){var t=[];return e.map((function(e){e.isCohortExcluded||t.push(e.cohortKey)})),t},e.prototype.mapCohortRowEmpty=function(e,t){var n=0;return t&&e&&t.toString().split(",").forEach((function(t){(t===p.g||e.includes(parseInt(t,10)))&&n++})),!(n>0)},e.prototype.isInvalidCountryGrid=function(e,t){if(this.resetInvalidCountryName(),e&&e.length>0){var n=[v.a.RT,v.a.OE,v.a.SR,v.a.RR,v.a.SFR,v.a.FSI,v.a.FSS,v.a.NUM_SITES,v.a.RE_DIST_SITES,v.a.SAS,v.a.DAYS_TO_25,v.a.DAYS_TO_50,v.a.DAYS_TO_90,"planParamsDetails.minRT","planParamsDetails.maxRT"],l=[v.a.SR,v.a.RR,v.a.SFR,v.a.FSI,v.a.FSS,v.a.NUM_SITES,v.a.RE_DIST_SITES,v.a.DAYS_TO_25,v.a.DAYS_TO_50,v.a.DAYS_TO_90],r=[v.a.RT,v.a.OE,v.a.SR,v.a.RR,v.a.SFR,v.a.FSI,v.a.FSS,v.a.SAS,"planParamsDetails.minRT","planParamsDetails.maxRT"];if(e&&e.length>0){for(var a=!1,o=0;o<e.length;o++){var i=e[o],s=i.planParamsDetails.siteInitiationMethod;if("N"===this.planDetailsResponseData.planProperties.isCohortPlan)for(var u=0;u<n.length;u++)s===p.ac.GRANULAR&&n[u]===v.a.NUM_SITES?this.checkAdjustmentSitesFiled1(i):i.errorFields[n[u]]&&(a=!0);else if(i.isCohortCountry)for(u=0;u<r.length;u++)i.isCohortExcluded||i.errorFields[r[u]]&&(a=!0);else for(u=0;u<l.length;u++)s===p.ac.GRANULAR&&n[u]===v.a.NUM_SITES?this.checkAdjustmentSitesFiled1(i):i.errorFields[l[u]]&&(a=!0)}return a}}return!0},e.prototype.checkValidation=function(e,t){for(var n=0;n<t.length;n++)if(e.errorFields[t[n]])return!0},e.prototype.checkAdjustmentSitesFiled1=function(e){if(e.isCohortCountry)return!1;if(e&&e.planParamsDetails&&e.planParamsDetails.siteInitiationMethod){var t=e.planParamsDetails.siteInitiationMethod,n=r.c.isDefined(e.planParamsDetails.numSites,!0)?e.planParamsDetails.numSites:0;if(t===p.ac.GRANULAR&&(e.planParamsDetails.actuals&&r.c.isDefined(e.planParamsDetails.actuals.numSites)?e.planParamsDetails.actuals.numSites:0)>n)return this.invalidCountryName.push(e.geographyName),!0}return!1},e.prototype.setIsPopupConfirmationRequired=function(e){},e.prototype.isConfirmationPopupRequired=function(){var e=this.getSelectedAndEditedRows(),t=this.getEditedRows();return e&&t&&(e.length>0||t.length>0)},e.prototype.getGraphMenuResource=function(){return{print:this.localeAppResourcesService.getResource("Print"),copy:this.localeAppResourcesService.getResource("Copy"),export:this.localeAppResourcesService.getResource("Export"),expand:this.localeAppResourcesService.getResource("expandGraph")?this.localeAppResourcesService.getResource("expandGraph"):"Expand"}},e.prototype.getCardMenuResource=function(){return{copyCohort:this.localeAppResourcesService.getResource("CopyCohortParameters"),pasteCohort:this.localeAppResourcesService.getResource("PasteCohortParameters"),copyDependency:this.localeAppResourcesService.getResource("CopyDependencyParameters"),pasteDependency:this.localeAppResourcesService.getResource("PasteDependencyParameters")}},e.prototype.getGraphMenuOptions=function(){return[{name:this.getGraphMenuResource().expand,isVisible:!0,isEnabled:!0},{name:this.getGraphMenuResource().print,isVisible:!0,isEnabled:!0},{name:this.getGraphMenuResource().copy,isVisible:!0,isEnabled:!0},{name:this.getGraphMenuResource().export,isVisible:!0,isEnabled:!0}]},e.prototype.getPlanDesignMenuOptions=function(){return[{name:this.getGraphMenuResource().copy,isVisible:!0,isEnabled:!0},{name:this.getGraphMenuResource().export,isVisible:!0,isEnabled:!0}]},e.prototype.getCohortCardMenuOptions=function(){return[{name:this.getCardMenuResource().copyCohort,isVisible:!0,isEnabled:!0},{name:this.getCardMenuResource().pasteCohort,isVisible:!0,isEnabled:!0}]},e.prototype.getDependencyCardMenuOptions=function(){return[{name:this.getCardMenuResource().copyDependency,isVisible:!0,isEnabled:!0},{name:this.getCardMenuResource().pasteDependency,isVisible:!0,isEnabled:!0}]},e.prototype.getCohortCardLabels=function(){return{randomizationTarget:this.localeAppResourcesService.getResource("RandomizedTarget"),targetLastSubjectRandomized:this.localeAppResourcesService.getResource("TLSR"),screeningPeriod:this.localeAppResourcesService.getResource("StudySummaryScreeningPeriod"),startScreening:this.localeAppResourcesService.getResource("startScreening"),numberOfDaysBeforeSourceEventAchieved:this.localeAppResourcesService.getResource("numberOfDaysBeforeSourceEventAchieved"),dateSourceEventAchieved:this.localeAppResourcesService.getResource("dateSourceEventAchieved"),numberOfDaysAfterSourceEventAchieved:this.localeAppResourcesService.getResource("numberOfDaysAfterSourceEventAchieved"),epName:this.localeAppResourcesService.getResource("PCLegendRandEnrollmentPauseText"),mandatoryMessage:this.localeAppResourcesService.getResource("MANDOTARY_MESSAGE"),screeningPeriodMessage:this.localeAppResourcesService.getResource("screeningPeriodMessage"),value_range:this.localeAppResourcesService.getResource("VALUE_RANGE"),templateText:this.localeAppResourcesService.getResource("TEMPLATE_TEXT"),tlsrRange:this.localeAppResourcesService.getResource("TLSR_RANGE"),tlsrRange2:this.localeAppResourcesService.getResource("TLSR_RANGE2"),noOfDaysBeforeRange:this.localeAppResourcesService.getResource("NUMBER_DAYS_BEFORE_RANGE"),tlsrRange3:this.localeAppResourcesService.getResource("TLSR_RANGE3"),tlsrRange4:this.localeAppResourcesService.getResource("TLSR_RANGE4")}},e.prototype.getPreviousTabSelected=function(e){var t={enable:!1,label:"",routePath:""};switch(e){case"countries":t={enable:!0,label:this.getTabLabels().COUNTRIES,routePath:p.Mb.COUNTRIES};break;case"plan-properties":t={enable:!0,label:this.getTabLabels().PLAN_PROPERTIES,routePath:p.Mb.PLAN_PROPERTY};break;case"rate-adjustments":t={enable:!0,label:this.getTabLabels().RATE_ADJUSTMENTS,routePath:p.Mb.RATE_ADJUSTMENT};break;case"plan-design":t={enable:!0,label:this.getTabLabels().PLAN_DESIGN,routePath:p.Mb.PLAN_DESIGN};break;case"reports":t={enable:!0,label:this.getTabLabels().REPORTS,routePath:p.Mb.REPORTS}}return t},e.prototype.getEditedCountryNames=function(){var e=this.getEditedRows();e=e||[];for(var t="",n=0;n<e.length;n++)t&&(t+=", "),t+=e[n].geographyName;return t},e.prototype.setFormStatus=function(e){this.plansService.setFormStatus(e)},e.prototype.getCountryList=function(){var e={geography:[]};return this.planDetailsResponseData&&this.planDetailsResponseData.geoList&&this.planDetailsResponseData.geoList.geography&&(e.geography=this.planDetailsResponseData.geoList.geography.filter((function(e){return!e.cohortName&&e.geographyLevel!==p.db.WW}))),e},e.prototype.getGeographyList=function(){var e={geography:[]};return this.planDetailsResponseData&&this.planDetailsResponseData.geoList&&this.planDetailsResponseData.geoList.geography&&(e.geography=this.planDetailsResponseData.geoList.geography.filter((function(e){return!e.cohortName}))),e},e.prototype.setSelectedEnrollmentParameterDetails=function(e){this.selectedEnrollmentParameterDetailsSubject.next(e)},e.prototype.isCohortPlan=function(){return this.planDetailsResponseData&&this.planDetailsResponseData.planProperties&&this.planDetailsResponseData.planProperties.isCohortPlan&&this.planDetailsResponseData.planProperties.isCohortPlan===p.N.COHORT_PLAN},e.prototype.singleCountryCohortSave=function(){var e=this.getCountryParams(),t=this.getCohortBasePlanParams(e),n={};return n.studyKey=this.studyKey,n.planKey=this.planKey,n.version=this.planDetailsResponseData.planProperties.version,n.commandParam=t,n.isPlan=this.planDetailsResponseData.planProperties.isPlan,n.singleCountry=e.countryInfo,n.updatePlanDetails=!0,n.isCohortPlan=this.planDetailsResponseData.planProperties.isCohortPlan,this.planDetailsResponseData.planProperties.isDepCohortPlan&&(n.isDepCohortPlan=this.planDetailsResponseData.planProperties.isDepCohortPlan),this.saveService.updatePlan(n).pipe(Object(c.a)((function(e){return e})))},e.prototype.getCountryParams=function(){return(new f.a).transformPayLoad(this.updatePlanCommandObj,this.planDetailsResponseData,this.appDataService.appDataResponse,this.getReportingPeriodValue())},e.prototype.getCohortBasePlanParams=function(e){var t=new y.a,n=this.getCountryInformation(this.planDetailsResponseData,e.countryInfo.countryKey);return t.getCountryPlanParams(e.baseParams,this.getReportingPeriodValue(),n,this.planDetailsResponseData.planProperties.isPlan,this.appDataService.appDataResponse,this.plansService.isRTypeCohortStudy(),this.planDetailsResponseData.planProperties.isDepCohortPlan,void 0!==this.planDetailsResponseData.planProperties.isOverThreshold&&this.planDetailsResponseData.planProperties.isOverThreshold,this.planDetailsResponseData)},e.prototype.getCountryInformation=function(e,t){if(e.geoList.geography&&Array.isArray(e.geoList.geography))return e.geoList.geography.find((function(e){return e.geographyKey===t}))},e.prototype.getCountryInformationWithAllCohort=function(e,t){if(e.geoList.geography&&Array.isArray(e.geoList.geography))return e.geoList.geography.filter((function(e){return e.geographyKey===t}))},e.prototype.getRTCohortValidation=function(){return(new f.a).getRTValidation(this.updatePlanCommandObj,this.planDetailsResponseData)},e.prototype.openErrorDialogForMapCohort=function(e,t){var n,l=this;void 0===e&&(e=!1),void 0===t&&(t=""),n=e?this.getErrorDialogForMapCohortProp(e,t):this.getErrorDialogForMapCohortProp(e),this.dialog.open(r.t,{width:d.t.MC_ERROR_DIALOG.WIDTH,data:n,panelClass:d.t.MC_ERROR_DIALOG.PANEL_CLASS,id:d.t.MC_ERROR_DIALOG.ID}).afterClosed().subscribe((function(e){if(e&&e.action&&e&&e.action===n.okLabel)return l.setSaveDisability(!1),l.saveClicked=!1,!1}))},e.prototype.referanceCardTransform=function(e,t){return e&&e.length&&t&&t.length&&e.forEach((function(e){var n=e[Object.keys(e)[0]];n&&t.forEach((function(e){e in n&&delete n[e]}))})),e},e.prototype.cueCardCohortDetailsMapper=function(e,t,n,a){var o,i,s,u,c,d,h,f,m,g,y,v,S,R,C,b,P,D,A,E,T=JSON.parse(JSON.stringify(e)),I=[];if(T instanceof Array){if(T[0].sourceTargets?n&&(1===n.parameterType?(T[0].sourceTargets.numSites=null,T[0].sourceTargets.RR=null,T[0].sourceTargets.SR=null,T[0].sourceTargets.SFR=null,I.push({sourceTargets:this.objectCueMapperCohort(T[0].sourceTargets)})):I.push({sourceTargets:this.objectCueMapper(T[0].sourceTargets)})):I.push({sourceTargets:{RT:null,FPA:null,Sites:null,"SAS%":null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null}}),T[1].planProperties){if(T[1].planProperties.RR=null,T[1].planProperties.SR=null,T[1].planProperties.SFR=null,T[1].planProperties.numSites=null,T[1].planProperties.ARC=null,n)if(1===n.parameterType){if(T[1].planProperties.cohortList){var L=T[1].planProperties.cohortList.cohortPlanParams,O=[];L.constructor===Array?O=L:O.push(L);try{for(var _=l.__values(O),N=_.next();!N.done;N=_.next()){var M=N.value;if(n.parameterKey===M.cohortKey){I.push({studyTargets:{RT:void 0!==M?void 0!==M.RT?M.RT:M.enrollmentTarget:null,Sites:T[1].planProperties?T[1].planProperties.numSites:null,"SAS%":T[1].planProperties&&T[1].planProperties.ARC?r.c.formatDecimal(T[1].planProperties.ARC,"0.1-1"):null,FPA:void 0!==T[1].planProperties?T[1].planProperties.FPA:null,FSI:void 0!==T[1].planProperties?T[1].planProperties.FSI:null,LSS:void 0!==M?M.LSS:null,LSR:void 0!==M?M.LSR:null,RR:T[1].planProperties&&T[1].planProperties.RR?r.c.formatDecimal(this.calculateRateAsPerFrequency(T[1].planProperties.RR),"0.1-3"):null,SR:T[1].planProperties&&T[1].planProperties.SR?r.c.formatDecimal(this.calculateRateAsPerFrequency(T[1].planProperties.SR),"0.1-3"):null,"SF%":T[1].planProperties&&T[1].planProperties.SFR?r.c.formatDecimal(T[1].planProperties.SFR,"0.1-1"):null}});break}}}catch($){o={error:$}}finally{try{N&&!N.done&&(i=_.return)&&i.call(_)}finally{if(o)throw o.error}}}}else 0===n.parameterType&&I.push({studyTargets:this.objectCueMapper(T[1].planProperties)})}else I.push({studyTargets:{}});if(T[1]&&T[1].geoList){var w=T[1].geoList.geography?T[1].geoList.geography:void 0;try{for(var x=l.__values(w),F=x.next();!F.done;F=x.next()){var k=F.value;if(n)if("worldwide"===k.geographyName.toString().toLowerCase()&&1===n.parameterType){if(n.parameterKey===k.cohortKey){if(k.planParamsDetails&&k.planParamsDetails.PFSI){I.push({worldwide:this.qCardTableDataCohort(k)});break}I.push({worldwide:{}})}}else if("worldwide"===k.geographyName.toString().toLowerCase()&&0===n.parameterType&&!k.hasOwnProperty("cohortKey")){I.push({worldwide:this.qCardTableData(k)});break}}}catch(z){s={error:z}}finally{try{F&&!F.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}}else I.push({worldwide:{}});if(T[1]&&T[1].regionList&&T[1].regionList.geography&&T[1].regionList.geography.length)try{for(var j=l.__values(T[1].regionList.geography),U=j.next();!U.done;U=j.next()){var V=U.value;if(n)if("region"===V.geographyLevel.toString().toLowerCase()&&1===n.parameterType&&t.planParamsDetails.regionKey===V.geographyKey){if(n.parameterKey===V.cohortKey){I.push(((h={})[V.geographyName]=this.qCardTableDataCohort(V),h));break}}else if("region"===V.geographyLevel.toString().toLowerCase()&&0===n.parameterType&&t.planParamsDetails.regionKey===V.geographyKey&&!V.hasOwnProperty("cohortKey")){I.push(((f={})[V.geographyName]=this.qCardTableData(V),f));break}}}catch(J){c={error:J}}finally{try{U&&!U.done&&(d=j.return)&&d.call(j)}finally{if(c)throw c.error}}else I.push({region:{}});if(T[1]&&T[1].geoList){w=T[1].geoList.geography?T[1].geoList.geography:void 0;try{for(var K=l.__values(w),Y=K.next();!Y.done;Y=K.next()){var G=Y.value;if(G.geographyKey===t.geographyKey&&n)if("country"===G.geographyLevel.toString().toLowerCase()&&1===n.parameterType){if(n.parameterKey===G.cohortKey){I.push(((y={})[G.geographyName+" - "+G.cohortName]=this.qCardTableDataCohort(G),y),((v={})["approved Plan"]=this.objectCueMapperCohort(G.planParamsDetails.approvedPlan),v));break}}else if("country"===G.geographyLevel.toString().toLowerCase()&&0===n.parameterType&&!G.hasOwnProperty("cohortKey")){I.push(((S={})[G.geographyName]=this.qCardTableData(G),S),((R={})["approved Plan"]=this.objectCueMapper(G.planParamsDetails.approvedPlan),R));break}}}catch(X){m={error:X}}finally{try{Y&&!Y.done&&(g=K.return)&&g.call(K)}finally{if(m)throw m.error}}}else I.push({country:{}},((C={})["approved Plan"]={},C));if(T[1]&&T[1].geoList){w=T[1].geoList.geography?T[1].geoList.geography:void 0;try{for(var H=l.__values(w),B=H.next();!B.done;B=H.next()){var q=B.value;if(q.geographyKey===t.geographyKey&&n)if(this.showFSI=!!(q.planParamsDetails&&q.planParamsDetails.actuals&&q.planParamsDetails.actuals.FSI),"country"===q.geographyLevel.toString().toLowerCase()&&1===n.parameterType){if(n.parameterKey===q.cohortKey){q.planParamsDetails.actuals&&(q.planParamsDetails.actuals.numSites=null),q.planParamsDetails.projections&&(q.planParamsDetails.projections.numSites=null),q.planParamsDetails.countryCalcQuantity&&(q.planParamsDetails.countryCalcQuantity.effectiveSAS=null),I.push({actuals:this.objectCueMapperCohort(q.planParamsDetails.actuals)}),T&&T[1].planProperties&&T[1].planProperties.isReadOnly&&T[1].planProperties.planStatus&&T[1].planProperties.planStatus.value!==p.Ub.APPROVED?I.push({projections:this.projectionObjMapperEffective(q.planParamsDetails)}):T&&T[1].planProperties&&!T[1].planProperties.isReadOnly&&T[1].planProperties.planStatus&&(T[1].planProperties.planStatus.value!==p.Ub.VALID||T[1].planProperties.planStatus.value!==p.Ub.INVALID)?I.push({projections:{RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null}}):((W=this.objectCueMapperEffective(q.planParamsDetails)).Sites=null,I.push({projections:W}));break}}else if("country"===q.geographyLevel.toString().toLowerCase()&&0===n.parameterType&&!q.hasOwnProperty("cohortKey")){var W;I.push({actuals:this.objectCueMapper(q.planParamsDetails.actuals)}),T&&T[1].planProperties&&T[1].planProperties.isReadOnly&&T[1].planProperties.planStatus&&T[1].planProperties.planStatus.value!==p.Ub.APPROVED?I.push({projections:this.projectionObjMapperEffective(q.planParamsDetails)}):T&&T[1].planProperties&&!T[1].planProperties.isReadOnly&&T[1].planProperties.planStatus&&(T[1].planProperties.planStatus.value!==p.Ub.VALID||T[1].planProperties.planStatus.value!==p.Ub.INVALID)?I.push({projections:{RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null}}):((W=this.objectCueMapperEffective(q.planParamsDetails)).Sites=null,I.push({projections:W}));break}}}catch(Z){b={error:Z}}finally{try{B&&!B.done&&(P=H.return)&&P.call(H)}finally{if(b)throw b.error}}}else I.push({actuals:{}},{projections:{}});this.isDynamicProjectionChecked&&this.dynamicRowData&&!a?(this.showFSI&&(this.dynamicRowData.dynEffectiveFSI=null),I.push(((D={})["Updated Projections"]={RT:null,Sites:null,"SAS%":r.c.isDefined(this.dynamicRowData.dynEffectiveSAS)?r.c.formatDecimal(this.dynamicRowData.dynEffectiveSAS,"0.1-1"):null,FPA:null,FSI:this.dynamicRowData.dynEffectiveFSI,LSS:this.dynamicRowData.dynEffectiveLSS,LSR:this.dynamicRowData.dynEffectiveLSR,RR:r.c.isDefined(this.dynamicRowData.dynEffectiveRR)?r.c.formatDecimal(this.calculateRateAsPerFrequency(this.dynamicRowData.dynEffectiveRR),"0.1-3"):null,SR:r.c.isDefined(this.dynamicRowData.dynEffectiveSR)?r.c.formatDecimal(this.calculateRateAsPerFrequency(this.dynamicRowData.dynEffectiveSR),"0.1-3"):null,"SF%":r.c.isDefined(this.dynamicRowData.dynEffectiveSFR)?r.c.formatDecimal(this.dynamicRowData.dynEffectiveSFR,"0.1-1"):null},D))):a||I.push(((A={})["Updated Projections"]={RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null},A))}else I.push({sourceTargets:{RT:null,Sites:null,"SAS%":null,FPA:null,FSI:null,LSS:null,LSR:null,RR:null,SR:null,"SF%":null}},{studyTargets:{}},{worldwide:{}},{region:{}},{country:{}},((E={})["approved Plan"]={},E),{actuals:{}},{projections:{}});return this.cueCardObjectModifier(I)},e.prototype.qCardTableData=function(e){return{RT:void 0!==e.planParamsDetails?void 0!==e.planParamsDetails.RT?e.planParamsDetails.RT:e.planParamsDetails.enrollmentTarget:null,Sites:void 0!==e.planParamsDetails?e.planParamsDetails.numSites:null,"SAS%":void 0!==e.planParamsDetails&&null!==e.planParamsDetails.ARC?r.c.formatDecimal(e.planParamsDetails.ARC,"0.1-1"):null,FPA:void 0!==e.planParamsDetails?e.planParamsDetails.PFPA:null,FSI:void 0!==e.planParamsDetails?e.planParamsDetails.PFSI:null,LSS:void 0!==e.planParamsDetails?e.planParamsDetails.PLSS:null,LSR:void 0!==e.planParamsDetails?e.planParamsDetails.PLSR:null,RR:void 0!==e.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.planParamsDetails.RR),"0.1-3"):null,SR:void 0!==e.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.planParamsDetails.SR),"0.1-3"):null,"SF%":void 0!==e.planParamsDetails?r.c.formatDecimal(e.planParamsDetails.SFR,"0.1-1"):null}},e.prototype.objectCueMapperEffective=function(e){return{RT:void 0!==e.projections?void 0!==e.projections.RT?e.projections.RT:e.projections.enrollmentTarget:null,Sites:e.projections&&e.projections.numSites?e.projections.numSites:null,"SAS%":e.countryCalcQuantity&&r.c.isDefined(e.countryCalcQuantity.effectiveSAS)?r.c.formatDecimal(e.countryCalcQuantity.effectiveSAS,"0.1-1"):null,FPA:e.projections&&r.c.isDefined(e.projections.FPA)?e.projections.FPA:null,FSI:e.projections&&e.projections.FSI?e.projections.FSI:null,LSS:void 0!==e.projections?e.projections.LSS:null,LSR:void 0!==e.projections?e.projections.LSR:null,RR:e.countryCalcQuantity&&r.c.isDefined(e.countryCalcQuantity.effectiveRR)?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.countryCalcQuantity.effectiveRR),"0.1-3"):null,SR:e.countryCalcQuantity&&r.c.isDefined(e.countryCalcQuantity.effectiveSR)?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.countryCalcQuantity.effectiveSR),"0.1-3"):null,"SF%":e.countryCalcQuantity&&r.c.isDefined(e.countryCalcQuantity.effectiveSFR)?r.c.formatDecimal(e.countryCalcQuantity.effectiveSFR,"0.1-1"):null}},e.prototype.projectionObjMapperEffective=function(e){return{RT:void 0!==e.projections?void 0!==e.projections.RT?e.projections.RT:e.projections.enrollmentTarget:null,Sites:null,"SAS%":"N/A",FPA:void 0!==e.projections?e.projections.FPA:null,FSI:"N/A",LSS:"N/A",LSR:"N/A",RR:"N/A",SR:"N/A","SF%":"N/A"}},e.prototype.objectCueMapperCohort=function(e){return{RT:void 0!==e?void 0!==e.RT?e.RT:e.enrollmentTarget:null,Sites:e&&null!==e.numSites?e.numSites:null,"SAS%":null,FPA:void 0!==e?e.FPA:null,FSI:void 0!==e?e.FSI:null,LSS:void 0!==e?e.LSS:null,LSR:void 0!==e?e.LSR:null,RR:e&&null!==e.RR&&e.RR?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.RR),"0.1-3"):null,SR:e&&r.c.isDefined(e.SR)?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.SR),"0.1-3"):null,"SF%":e&&r.c.isDefined(e.SFR)?r.c.formatDecimal(e.SFR,"0.1-1"):null}},e.prototype.showErrorMsg=function(e){var t=r.Z.interpolate(this.errorTermsStoreService.getErrorMessage("SolversCalculationErrorMsg"),[this.getSolverNameByType(e)]);this.showSolverErrorDialog(t,this.localeAppResourcesService.getResource("AdjustCountryParameters"))},e.prototype.showDepCohortErrorMsg=function(e){e=e.split(",").join(", ");var t=r.Z.interpolate(this.errorTermsStoreService.getErrorMessage("DepCohortSolversCalculationErrorMsg"),[e]);this.showSolverErrorDialog(t,this.localeAppResourcesService.getResource("DefineParentCohort"))},e.prototype.getUniqueCountryNameString=function(e){var t=new Set(e);return Array.from(t).join(",")},e.prototype.getSolverNameByType=function(e){var t="";if(e)switch(e){case p.hc.LAST_SUBJECT_RANDOMIZED_DATE:t=this.localeAppResourcesService.getResource("LastSubjectSolverTab");break;case p.hc.MINIMUM_MONTHLY_SCREEN_RATE:t=this.localeAppResourcesService.getResource("MinimumRateSolverTab");break;case p.hc.NUMBER_OF_SUBJECTS:t=this.localeAppResourcesService.getResource("SubjectsSolverTab")}return t},e.prototype.showSolverErrorDialog=function(e,t){this.plansService.openDialog(t,e,"SolverComponent")},e.prototype.qCardTableDataCohort=function(e){return{RT:void 0!==e.planParamsDetails?void 0!==e.planParamsDetails.RT?e.planParamsDetails.RT:e.planParamsDetails.enrollmentTarget:null,Sites:void 0!==e.planParamsDetails?e.planParamsDetails.numSites:null,"SAS%":null,FPA:void 0!==e.planParamsDetails?e.planParamsDetails.PFPA:null,FSI:void 0!==e.planParamsDetails?e.planParamsDetails.PFSI:null,LSS:void 0!==e.planParamsDetails?e.planParamsDetails.PLSS:null,LSR:void 0!==e.planParamsDetails?e.planParamsDetails.PLSR:null,RR:void 0!==e.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.planParamsDetails.RR),"0.1-3"):null,SR:void 0!==e.planParamsDetails?r.c.formatDecimal(this.calculateRateAsPerFrequency(e.planParamsDetails.SR),"0.1-3"):null,"SF%":void 0!==e.planParamsDetails?r.c.formatDecimal(e.planParamsDetails.SFR,"0.1-1"):null}},e.prototype.getDynamicPrDataRefCard=function(e,t,n,r,a,o,i){var u=this;if(t||(t=this.userDataService.getLastVisitedStudyKey()),this.studyKey=t,e&&t&&n&&r){var d={studyKey:t,planKey:n,version:a},h={value:[]};h.value.push({geographySelection:{params:{key:r.geoKey,level:r.geoLevel}}}),o&&h.value.push({cohortSelection:{params:{key:o.key,name:o.name,studyCohortKey:o.studyCohortKey}}});var f=this.payloadCommandService.getCommandDetails(p.p.READ_DYNAMIC_PROJECTIONS,d,null,h);return this.baseConnectionService.sendRequest(f,{}).pipe(Object(c.a)((function(e){if(e){if(e&&e.countryDynamicProjections)return e&&e.countryDynamicProjections&&Boolean(e.countryDynamicProjections)?(Object.assign(u.dynamicRowData,l.__assign({},e.countryDynamicProjections)),console.log("this.dynamicRowData",u.dynamicRowData)):(u.dynamicRowData.dynEffectiveSAS=null,u.dynamicRowData.dynEffectiveRR=null,u.dynamicRowData.dynEffectiveSR=null,u.dynamicRowData.dynEffectiveSFR=null),Object(s.a)("ok");if(e.error&&e.error.errorCode){var t=u.errorTermsStoreService.getErrorMessage(+e.error.errorCode);return u.plansService.showErrorMessage(t),Object(s.a)("error")}}})))}},e.prototype.calDynamic=function(e){var t=this;e&&e.geographies&&e.geographies.geographyAllCurves?e.geographies.geographyAllCurves.planmilestone&&(e.geographies.geographyAllCurves.planmilestone.screening&&e.geographies.geographyAllCurves.planmilestone.screening.curves&&e.geographies.geographyAllCurves.planmilestone.screening.curves.markers&&e.geographies.geographyAllCurves.planmilestone.screening.curves.markers.date?(this.dynamicRowData.dynEffectiveLSS=e.geographies.geographyAllCurves.planmilestone.screening.curves.markers.date,this.dynamicRowData.dynEffectiveLSS=a(this.dynamicRowData.dynEffectiveLSS).format(p.y.MONTH_DATE_FORMAT)):this.dynamicRowData.dynEffectiveLSS=null,e.geographies.geographyAllCurves.planmilestone.randomization&&e.geographies.geographyAllCurves.planmilestone.randomization.curves&&e.geographies.geographyAllCurves.planmilestone.randomization.curves.markers&&e.geographies.geographyAllCurves.planmilestone.randomization.curves.markers.date?(this.dynamicRowData.dynEffectiveLSR=e.geographies.geographyAllCurves.planmilestone.randomization.curves.markers.date,this.dynamicRowData.dynEffectiveLSR=a(this.dynamicRowData.dynEffectiveLSR).format(p.y.MONTH_DATE_FORMAT)):this.dynamicRowData.dynEffectiveLSR=null,e.geographies.geographyAllCurves.planmilestone.siteinit&&e.geographies.geographyAllCurves.planmilestone.siteinit.curves&&e.geographies.geographyAllCurves.planmilestone.siteinit.curves.markers&&e.geographies.geographyAllCurves.planmilestone.siteinit.curves.markers.length?e.geographies.geographyAllCurves.planmilestone.siteinit.curves.markers.forEach((function(e){"First_Site_Initiated_Upd"===e.description&&e.date&&(t.dynamicRowData.dynEffectiveFSI=a(e.date).format(p.y.MONTH_DATE_FORMAT))})):this.dynamicRowData.dynEffectiveFSI=null):(this.dynamicRowData.dynEffectiveLSS=null,this.dynamicRowData.dynEffectiveLSR=null,this.dynamicRowData.dynEffectiveFSI=null)},e.prototype.updateSeedNumber=function(e,t){this.planDetailsResponseData&&this.planDetailsResponseData&&this.planDetailsResponseData.geoList.geography&&Array.isArray(this.planDetailsResponseData.geoList.geography)&&(this.planDetailsResponseData.geoList.geography=this.planDetailsResponseData.geoList.geography.map((function(n){return n&&n.geographyKey.toString()===t.toString()&&(n.planParamsDetails.seedNumber=e),n})))},e.prototype.getChartLegendPreference=function(){return this.chartLegendPreferenceArr},e.prototype.getChartLegendPreferenceObj=function(){return this.userDataService.chartLegendPreference},e.prototype.getOverThresholdMessages=function(){return{OVER_THRESHOLD_SEQUENCE_MSG:this.localeAppResourcesService.getResource("OVER_THRESHOLD_MCE_DCP_SEQUENCE_MSG"),OVER_THRESHOLD_COMPLEX_MSG:this.localeAppResourcesService.getResource("OVER_THRESHOLD_MCE_DCP_COMPLEX_MSG"),OVER_THRESHOLD_PARALLEL_COHORT_MSG:this.localeAppResourcesService.getResource("OVER_THRESHOLD_MCE_DCP_PARALLEL_COHORT_MSG")}},e.prototype.getInitialsToLssLsrFssFsi=function(e,t){var n,l="",r="";return r=this.localeAppResourcesService.getResource(t.name)?this.localeAppResourcesService.getResource(t.name):t.name,n=this.localeAppResourcesService.getResource(t.description)?this.localeAppResourcesService.getResource(t.description):t.description,"base"!==e.name&&"adjustment"!==e.name&&"approved"!==e.name||!(r.includes("FSI")&&"FSI"===r.slice(r.length-3)||r.includes("FSS")&&"FSS"===r.slice(r.length-3)||r.includes("LSS")&&"LSS"===r.slice(r.length-3)||r.includes("LSR")&&"LSR"===r.slice(r.length-3))?"actual"===e.name&&(r.includes("FSI")&&"FSI"===r.slice(r.length-3)||r.includes("FSS")&&"FSS"===r.slice(r.length-3)||r.includes("LSS")&&"LSS"===r.slice(r.length-3)||r.includes("LSR")&&"LSR"===r.slice(r.length-3))?(l="A"+r.slice(r.length-3),this.localeAppResourcesService.getResource(l+"_SHORT")):"projected"===e.name&&(r.includes("FSS")&&"FSS"===r.slice(r.length-3)||r.includes("LSS")&&"LSS"===r.slice(r.length-3)||r.includes("LSR")&&"LSR"===r.slice(r.length-3))?"StudyPrLSR"===r?this.localeAppResourcesService.getResource((l=r)+"_SHORT"):(l="Pr"+r.slice(r.length-3),this.localeAppResourcesService.getResource(l+"_SHORT")):"updated projected"===e.name&&(r.includes("FSI")&&"FSI"===r.slice(r.length-3)||r.includes("FSS")&&"FSS"===r.slice(r.length-3)||r.includes("LSS")&&"LSS"===r.slice(r.length-3)||r.includes("LSR")&&"LSR"===r.slice(r.length-3))?(l="UpdPr"+r.slice(r.length-3),this.localeAppResourcesService.getResource(l+"_SHORT")):"frozen"===e.name&&(r.includes("FSI")&&"FSI"===r.slice(r.length-3)||r.includes("FSS")&&"FSS"===r.slice(r.length-3)||r.includes("LSS")&&"LSS"===r.slice(r.length-3)||r.includes("LSR")&&"LSR"===r.slice(r.length-3))?(l="P"+r.slice(r.length-3),this.localeAppResourcesService.getResource(l+"_SHORT")):r===this.tempPlannedSite||r===this.tempPlannedScreening||r===this.tempMaximumRandomization||r===this.tempMaximumScreening?n:r:(l="P"+r.slice(r.length-3),this.localeAppResourcesService.getResource(l+"_SHORT"))},e.prototype.getMileStonePref=function(){return this.applicationContextService.getMileStonePref("0")},e.prototype.setMileStonePref=function(e){var t={actual:!1,projection:!1,parentPlan:!1};if(e&&Array.isArray(e.options)){if(e.options.map((function(e){e.name===p.Ab.ACTUALS&&(t.actual=e.value),e.name===p.Ab.PROJECTED&&(t.projection=e.value),e.name===p.Ab.PARENT&&(t.parentPlan=e.value)})),!e.options.find((function(e){return e.name===p.Ab.PARENT}))){var n=this.getMileStonePref();t.parentPlan=n?n.parentPlan:t.parentPlan}this.applicationContextService.setMileStonePref("0",t)}},e.prototype.getSelectedCountriesGridRowPref=function(e){return this.applicationContextService.getSelectedCountriesGridRowPref(e)},e.prototype.setSelectedCountriesGridRowPref=function(e,t){e&&t&&this.applicationContextService.setSelectedCountriesGridRowPref(e,t)},e.prototype.navigateFromCountryToRA=function(e,t){this.plansService.goToPlanDetails(e,t)},e.prototype.resetInvalidCountryName=function(){this.invalidCountryName=[]},e.prototype.showValidationPopup=function(e){var t=this;void 0===e&&(e=!1);var n=this.getResourcesForUnsavedCountriesForMCE(),l={};if(l.okLabel=n.okLabel,l.heading=!1===e?n.requiredFieldValidationTitle:n.invalidSites_Title,l.message=!1===e?n.requiredFieldValidationMsg:n.customSitesValidationMsg,!0===e){var a=this.invalidCountryName.join(", ");l.message=l.message.replace(p.Vb,a)}l.showCancel=!1,this.dialog.open(r.t,{width:p.mb.WIDTH,data:l,panelClass:p.mb.PANEL_OK_CLASS}).afterClosed().subscribe((function(e){t.invalidCountryName=[]}))},e}())},VbXj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("LiEJ"),r=n("6nV5"),a=n("uMZP"),o=n("5IsW"),i=function(){function e(e,t,n,r,a){var o=this;this.dialogRef=e,this.dialogData=t,this.fb=n,this.dialog=r,this.localeAppResourcesService=a,this.dataSource=new l.a([]),this.slotColumnsToDisplay=["startDate","endDate","noOfSites"],this.cohortColumnsToDisplay=[],this.allColumnsToDisplay=this.slotColumnsToDisplay,this.mapCohortsForm=this.fb.group({slotCohortsArray:this.fb.array([])}),this.dialogData.dataSource&&this.dialogData.dataSource[0]&&this.dialogData.dataSource[0].includedCohorts&&this.dialogData.dataSource.forEach((function(e,t){0===t&&e.includedCohorts.forEach((function(e){o.cohortColumnsToDisplay.push(e),o.allColumnsToDisplay.push(e.cohortName)}));var n=o.fb.group({});e.includedCohorts.forEach((function(t){1===e.includedCohorts.length&&t.selection.setValue(!0),n.addControl(t.cohortKey.toString(),t.selection)})),o.mapCohortsForm.get("slotCohortsArray").push(n),o.toggleCheckboxEnability(n.getRawValue(),t)}))}return e.prototype.ngOnInit=function(){this.formValuesChanges()},e.prototype.ok=function(e,t){var n=this.getFormValues(t),l=this.checkForEmptyRows(n);t&&t.valid&&!l?this.dialogRef.close({action:e,data:n,isFormDirty:t.dirty}):l&&this.openErrorDialogForMapCohort()},e.prototype.checkBoxStatus=function(e){this.checkboxChange=!0},e.prototype.checkForEmptyRows=function(e){return!1},e.prototype.formValuesChanges=function(){var e=this;this.mapCohortsForm.get("slotCohortsArray").valueChanges.subscribe((function(t){if(e.mapCohortsForm){var n=e.mapCohortsForm.getRawValue();n&&n.slotCohortsArray&&n.slotCohortsArray.forEach((function(t,n){e.toggleCheckboxEnability(t,n)}))}}))},e.prototype.toggleCheckboxEnability=function(e,t){if(e){var n=0,l=null;if(Object.keys(e).forEach((function(t){e[t]&&(n++,l=t)})),1===n&&null!==l&&!1===this.hasCohortActualEvents(t))this.mapCohortsForm.get("slotCohortsArray").at(t).get(l).disable({emitEvent:!1});else{this.mapCohortsForm.get("slotCohortsArray").at(t).enable({emitEvent:!1});var r=this.mapCohortsForm.get("slotCohortsArray").controls[t];this.disableCohortWithActuals(r.controls,t)}this.dialogData.disabledControls&&this.mapCohortsForm.get("slotCohortsArray").disable({emitEvent:!1})}},e.prototype.hasCohortActualEvents=function(e){return!1!==this.dialogData.isCohortAdjustment&&this.dialogData.dataSource[e].slotType===o.cc.ACTUAL},e.prototype.disableCohortWithActuals=function(e,t){if(this.dialogData.isCohortAdjustment){var n=this.convertIntoArray(this.dialogData.dataSource[t].hasSubjEvent);n&&n.length>0&&n.forEach((function(t){null!=e[t]&&e[t].disable({emitEvent:!1})}))}},e.prototype.convertIntoArray=function(e){var t;if(null!=e&&""!==e){t=(e=e.toString().trim()).split(",");for(var n=0;n<t.length;n++)t[n]=t[n].trim()}return t},e.prototype.getFormValues=function(e){return e.getRawValue().slotCohortsArray},e.prototype.cancel=function(){this.dialogRef.close()},e.prototype.openErrorDialogForMapCohort=function(){this.dialog.open(r.t,{width:a.t.MC_ERROR_DIALOG.WIDTH,data:this.getErrorDialogForMapCohortProp(),panelClass:a.t.MC_ERROR_DIALOG.PANEL_CLASS,id:a.t.MC_ERROR_DIALOG.ID})},e.prototype.getErrorDialogForMapCohortProp=function(){return{heading:this.localeAppResourcesService.getResource("MAP_COHORT_ERR_DIALOG_HEADING"),message:this.localeAppResourcesService.getResource("MAP_COHORT_ERR_DIALOG_MESSSAGE"),prefixMaterialIcon:{name:this.localeAppResourcesService.getResource("MAP_COHORT_ERR_DIALOG_ICON"),color:"#297dfc",size:"30px"},okLabel:this.localeAppResourcesService.getResource("MAP_COHORT_ERR_DIALOG_OK"),showCancel:!1}},e}()},Woyu:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var l=n("6nV5"),r=window.location.protocol+"//"+window.location.hostname+":"+window.location.port,a={production:!0,clientEncryptionKey:"TEST1234",cacheAge:3e4,app_url:window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/app1/index.html",login_url:window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/dv/StudyOptimizer/so-main.html",cryptoJS:new l.u,authUrl:r+"/api/",soApiUrl:r+"/studyoptimizer/api/",toSuppressContextMenu:!1}},XmUu:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},bhCd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("6nV5"),r=n("5IsW"),a=n("LoAr"),o=n("8raB"),i=function(){function e(e,t,n){this.localAppResources=e,this.errorTermsStoreService=t,this.snackBar=n}return e.prototype.getCopyCountryErrorMessage=function(e,t,n){var l;return"localApp"===t?l=this.localAppResources.getResource(e):"error"===t&&(l=this.errorTermsStoreService.getErrorMessage(e)),n?n+" "+l:l},Object.defineProperty(e.prototype,"copyCountryResource",{get:function(){return{okLabel:this.localAppResources.getResource(r.q.CONFIRM_COPY_LABEL),cancelLabel:this.localAppResources.getResource("CancelLabel"),copyCountryPlan:this.localAppResources.getResource(r.q.COPY_COUNTRY_PANEL_TITLE)}},enumerable:!0,configurable:!0}),e.prototype.getErrorMessages=function(e,t){return this.errorTermsStoreService.getErrorMessage(e).replace("{0}",t)},e.prototype.showErrorMessage=function(e){this.snackBar.openFromComponent(l.z,{data:{message:e,icon:r.ib,messageType:"error"},panelClass:["error-snackbar"]})},e.ngInjectableDef=a["ɵɵdefineInjectable"]({factory:function(){return new e(a["ɵɵinject"](l.M),a["ɵɵinject"](l.D),a["ɵɵinject"](o.c))},token:e,providedIn:"root"}),e}()},biPp:function(e,t,n){"use strict";n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return m}));var l="Edit Plan",r="Duplicate Plan",a="Approve Plan",o="Delete Plan",i="Create Adjustment",s="Create Template",u="Approve",c="Edit",d="View",p="LockCountry",h="UnlockCountry",f="Country_List_Import",m=[{name:l,isVisible:!0,isEnabled:!0},{name:r,isVisible:!0,isEnabled:!0},{name:a,isVisible:!0,isEnabled:!0},{name:o,isVisible:!0,isEnabled:!0},{name:i,isVisible:!0,isEnabled:!0},{name:s,isVisible:!0,isEnabled:!0}]},cpEJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var l=n("Woyu"),r=function(){function e(){}return e.prototype.log=function(e){l.a.production||console.log(e)},e.prototype.error=function(e){l.a.production||console.error(e)},e.prototype.warn=function(e){l.a.production||console.warn(e)},e.prototype.info=function(e){l.a.production||console.log(e)},e}()},gX7u:function(e,t,n){"use strict";var l=function(e){return e.VALID="VALID",e.INVALID="INVALID",e.APPROVED="APPROVED",e.PREVAPPROVED="PREVAPPROVED",e.BASEVALID="status-valid",e.BASEAPPROVED="status-approved",e.BASEINVALID="status-invalid",e.ADJVALID="status-adjustment-valid",e.ADJINVALID="status-adjustment-invalid",e.ADJPREVAPPROVED="status-adjustment-previously-approved",e.BASEPREAPPROVED="status-preapproved",e.BASEPREVAPPROVED="status-previously-approved",e}({}),r=function(e){return e.BASE="base",e.ADJ="Adjustment",e}({});n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r}))},hkMt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var l=n("LoAr"),r=function(){function e(){this.emitMenuClick=new l.EventEmitter,this.options=[]}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.ngOnChanges=function(e){e&&e.menuOption&&e.menuOption.currentValue&&(this.options=e.menuOption.currentValue)},e.prototype.menuClicked=function(e){this.emitMenuClick.emit(e)},e}()},lVOy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("DH3O"),r=n("LoAr"),a=n("6nV5"),o=n("uMZP"),i=function(){function e(e,t,n){this.indiMultiCountryOptions=e,this.localAppResources=t,this.appDataService=n,this.indiMultiCountryOptions.copyCountryData(null),this.indiMultiCountryOptions.pasteVisible=!1}return e.prototype.onCountryOptionClick=function(e,t){switch(e){case this.countryOptionsResources.COPY_PARAMETERS:this.indiMultiCountryOptions.onActionCopyClick(t);break;case this.countryOptionsResources.PASTE_PARAMETERS:this.indiMultiCountryOptions.onActionPasteClick(t);break;case this.countryOptionsResources.EDIT_COUNTRY:t.params.context.componentParent.routingToDCPView(t.countryKey,t.params);break;case this.countryOptionsResources.LOCK_COUNTRY:case this.countryOptionsResources.UNLOCK_COUNTRY:this.indiMultiCountryOptions.onActionLockUnlockClick(t);break;case this.countryOptionsResources.DELETE_COUNTRY:this.indiMultiCountryOptions.onActionDeleteClick(t);break;case this.countryOptionsResources.REVERT_TO_APPROVED_PLAN:this.indiMultiCountryOptions.onActionRevertToApprovedPlanClick(t);break;case this.countryOptionsResources.COPY_COUNTRY:this.indiMultiCountryOptions.onActionCopyCountryClick(t)}},e.prototype.getCountryOptions=function(e){return this.countryOptions=[{name:this.getCountryOptionsResources().EDIT_COUNTRY,isVisible:!0,isEnabled:this.indiMultiCountryOptions.hasEditAccess(e)&&!this.indiMultiCountryOptions.isCountryLocked(e)},{name:this.getCountryOptionsResources().LOCK_COUNTRY,isVisible:!this.indiMultiCountryOptions.isCountryLocked(e)&&this.appDataService.isCountryLockEnabled()&&!0!==e.data.isCohortCountry,isEnabled:this.indiMultiCountryOptions.hasLockAccess(e)&&this.indiMultiCountryOptions.hasEditAccess(e)&&!e.data.isEdited},{name:this.getCountryOptionsResources().UNLOCK_COUNTRY,isVisible:this.indiMultiCountryOptions.isCountryLocked(e)&&this.appDataService.isCountryLockEnabled()&&!0!==e.data.isCohortCountry,isEnabled:this.indiMultiCountryOptions.hasUnlockAccess(e)&&this.indiMultiCountryOptions.hasEditAccess(e)},{name:this.getCountryOptionsResources().DELETE_COUNTRY,isVisible:!0!==e.data.isCohortCountry,isEnabled:this.indiMultiCountryOptions.hasEditAccess(e)&&this.indiMultiCountryOptions.lockAndAFSI(e)},{name:this.getCountryOptionsResources().REVERT_TO_APPROVED_PLAN,isVisible:!e.planType&&!0!==e.data.isCohortCountry,isEnabled:this.indiMultiCountryOptions.hasEditAccess(e)&&this.indiMultiCountryOptions.isCountryAdjusted(e)&&!this.indiMultiCountryOptions.isCountryLocked(e)&&this.indiMultiCountryOptions.isBasePlan(e)},{name:this.getCountryOptionsResources().COPY_COUNTRY,isVisible:!0,isEnabled:this.indiMultiCountryOptions.hasEditAccess(e)&&!this.indiMultiCountryOptions.hasRowEdit(e)}],this.countryOptions},e.prototype.getCountryOptionsResources=function(){return this.countryOptionsResources||(this.countryOptionsResources={EDIT_COUNTRY:this.localAppResources.getResource("EDIT_COUNTRY"),LOCK_COUNTRY:this.localAppResources.getResource("LOCK_COUNTRY"),UNLOCK_COUNTRY:this.localAppResources.getResource("UNLOCK_COUNTRY"),COPY_PARAMETERS:this.localAppResources.getResource("COPY_PARAMETERS"),PASTE_PARAMETERS:this.localAppResources.getResource("PASTE_PARAMETERS"),DELETE_COUNTRY:this.localAppResources.getResource("DELETE_COUNTRY"),REVERT_TO_APPROVED_PLAN:this.localAppResources.getResource("REVERT_TO_APPROVED_PLAN"),COPY_COUNTRY:this.localAppResources.getResource("COPY_COUNTRY")}),this.countryOptionsResources},e.ngInjectableDef=r["ɵɵdefineInjectable"]({factory:function(){return new e(r["ɵɵinject"](l.a),r["ɵɵinject"](a.M),r["ɵɵinject"](o.e))},token:e,providedIn:"root"}),e}()},pdNw:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},uMZP:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return tt})),n.d(t,"c",(function(){return pt})),n.d(t,"d",(function(){return He})),n.d(t,"e",(function(){return ce})),n.d(t,"f",(function(){return Be})),n.d(t,"g",(function(){return Nt})),n.d(t,"h",(function(){return Te})),n.d(t,"i",(function(){return be})),n.d(t,"j",(function(){return Pe})),n.d(t,"k",(function(){return Ae})),n.d(t,"l",(function(){return ye})),n.d(t,"m",(function(){return z})),n.d(t,"n",(function(){return Je})),n.d(t,"o",(function(){return ze})),n.d(t,"p",(function(){return Ve})),n.d(t,"q",(function(){return Ge})),n.d(t,"r",(function(){return ge})),n.d(t,"s",(function(){return It})),n.d(t,"t",(function(){return K})),n.d(t,"u",(function(){return Ze})),n.d(t,"v",(function(){return rt})),n.d(t,"w",(function(){return se})),n.d(t,"x",(function(){return qe})),n.d(t,"y",(function(){return it})),n.d(t,"z",(function(){return ct})),n.d(t,"A",(function(){return de})),n.d(t,"B",(function(){return We})),n.d(t,"C",(function(){return Fe})),n.d(t,"D",(function(){return xe})),n.d(t,"E",(function(){return H})),n.d(t,"F",(function(){return U})),n.d(t,"G",(function(){return Qe})),n.d(t,"H",(function(){return ve})),n.d(t,"I",(function(){return le})),n.d(t,"J",(function(){return Ye})),n.d(t,"K",(function(){return Ue})),n.d(t,"L",(function(){return G})),n.d(t,"M",(function(){return Ct})),n.d(t,"N",(function(){return me})),n.d(t,"O",(function(){return fe})),n.d(t,"P",(function(){return $})),n.d(t,"Q",(function(){return vt})),n.d(t,"R",(function(){return ft})),n.d(t,"S",(function(){return we})),n.d(t,"T",(function(){return Me})),n.d(t,"U",(function(){return $e})),n.d(t,"V",(function(){return gt})),n.d(t,"W",(function(){return St})),n.d(t,"X",(function(){return Pt})),n.d(t,"Y",(function(){return Xe})),n.d(t,"Z",(function(){return ue})),n.d(t,"ab",(function(){return re})),n.d(t,"bb",(function(){return N})),n.d(t,"cb",(function(){return Q})),n.d(t,"db",(function(){return nt})),n.d(t,"eb",(function(){return ht})),n.d(t,"fb",(function(){return at})),n.d(t,"gb",(function(){return st})),n.d(t,"hb",(function(){return dt})),n.d(t,"ib",(function(){return mt})),n.d(t,"jb",(function(){return yt})),n.d(t,"kb",(function(){return ee})),n.d(t,"lb",(function(){return je})),n.d(t,"mb",(function(){return te})),n.d(t,"nb",(function(){return ae})),n.d(t,"ob",(function(){return ie})),n.d(t,"pb",(function(){return oe})),n.d(t,"qb",(function(){return pe})),n.d(t,"rb",(function(){return he})),n.d(t,"sb",(function(){return De})),n.d(t,"tb",(function(){return Ee})),n.d(t,"ub",(function(){return Le})),n.d(t,"vb",(function(){return _e})),n.d(t,"wb",(function(){return Ne})),n.d(t,"xb",(function(){return ke}));var l=n("WT9V"),r=n("LoAr"),a=n("6nV5"),o=n("IfiR"),i=n("D57K"),s=n("981U"),u=n("fQLH"),c=n("pN2L"),d=n("LiEJ"),p=n("3riI"),h=n("cQOC"),f=n("HnWI"),m=n("Jg5f"),g=n("QB3Q"),y=n("z5yO"),v=n("U3QC"),S=n("/gsZ"),R=n("G2Mx"),C=n("R+ki"),b=n("wgY5"),P=n("Bou+"),D=n("pctI"),A=n("mGPF"),E=n("+pY8"),T=n("KdQ8"),I=n("xNbA"),L=n("bY52"),O=(n("JpOG"),n("ptpt")),_={commandName:"GetTerms",categoriesTerms:{category:"terms"},categoriesError:{category:"error"}},N={commandName:"getUserData",app:{appType:"SOMAIN"}},M={endPoint:!0,url:a.a.USER_PREFERENCE},w={endPoint:!0},x="updateUserPreference",F="SOMAIN",k="PreferenceChartLegendPlan",j="Previously approved plans and their adjustments do not contain projections",U={MODULE_RUNWAY:1,MODULE_STUYD_LIST:2,MODULE_PLANNING:3,MODULE_STUDY:4,MODULE_SITES:5,MODULE_SCENARIO:6,MODULE_DATA_MANAGEMENT:7,MODULE_COUNTRY:9,MODULE_HISTORICAL:18,MODULE_TEMPLATES:10,MODULE_COST:16,MODULE_ENROLLMENT:27,MODULE_ADDMAP_COHORT:28,MODULE_GRANT_PLAN:31,MODULE_NEW_PLANNING:35,MODULE_NEW_STUDY:36,MODULE_NEW_COUNTRIES:37,MODULE_NEW_SITES:38},V=[{id:1,spaName:"",routeUrl:"",isMultiStudyView:!0},{id:2,spaName:"",routeUrl:"",isMultiStudyView:!0},{id:3,spaName:"",routeUrl:"",isMultiStudyView:!1},{id:6,spaName:"",routeUrl:""},{id:7,spaName:"",routeUrl:""},{id:10,spaName:"",routeUrl:""},{id:16,spaName:"",routeUrl:""},{id:18,spaName:"",routeUrl:"",isMultiStudyView:!0},{id:27,spaName:"",routeUrl:""},{id:28,spaName:"",routeUrl:""},{id:31,spaName:"",routeUrl:""},{id:35,spaName:"app1",routeUrl:"/new-plans",isMultiStudyView:!1,isAngularModule:!0},{id:4,spaName:"app2",routeUrl:"/new-study",isMultiStudyView:!1,isAngularModule:!0},{id:9,spaName:"app3",routeUrl:"/new-countries",isMultiStudyView:!1,isAngularModule:!0},{id:5,spaName:"app4",routeUrl:"/new-sites",isMultiStudyView:!1,isAngularModule:!0},{id:39,spaName:"login",routeUrl:"/new-login",isMultiStudyView:!1,isAngularModule:!0},{id:"STDLST",spaName:"",routeUrl:""},{id:"RNWYCHRT",spaName:"",routeUrl:""},{id:"MNGHILST",spaName:"",routeUrl:""},{id:"VSTRMETC",spaName:"",routeUrl:""},{id:"VENRLMETC",spaName:"",routeUrl:""},{id:"VSCRNMTC",spaName:"",routeUrl:""},{id:"VRNREMTC",spaName:"",routeUrl:""},{id:"VINVSCRD",spaName:"",routeUrl:""},{id:"MNGPLNTEM",spaName:"",routeUrl:""},{id:"MNGRTATEM",spaName:"",routeUrl:""},{id:"ENROVRW",spaName:"",routeUrl:""},{id:"STDMLSTN",spaName:"",routeUrl:""},{id:"ENTRCSTOV",spaName:"",routeUrl:""},{id:"DFENTRCST",spaName:"",routeUrl:""},{id:"CNTRPERF",spaName:"",routeUrl:""},{id:"ENRODET",spaName:"",routeUrl:""},{id:"CNTRDM",spaName:"",routeUrl:""},{id:"SCRCRD",spaName:"",routeUrl:""},{id:"MNGPLN",spaName:"app1",routeUrl:"/new-plans",isMultiStudyView:!1},{id:"MNGCNTRY",spaName:"",routeUrl:""},{id:"DFNCNTPLN",spaName:"",routeUrl:""},{id:"MCRA",spaName:"",routeUrl:""},{id:"APPRPLN",spaName:"",routeUrl:""},{id:"DFCNPLNCST",spaName:"",routeUrl:""},{id:"INTERIM",spaName:"",routeUrl:""},{id:"DFNSOLVE",spaName:"",routeUrl:""},{id:"SSV",spaName:"",routeUrl:""}],K={COPY_PLAN:{ID:"CopyPlanDialog",WIDTH:"450px",PANEL_CLASS:"copy-plan-dialog"},DELETE_PLAN:{ID:"DeletePlanDialog",WIDTH:"310px",HEIGHT:"180px",PANEL_CLASS:"delete-plan-confirmation-dialog"},APPROVE_PLAN:{ID:"ApprovePlanDialog",WIDTH:"450px",PANEL_CLASS:"approve-plan-dialog"},COPY_PLAN_SUCCESS:{WIDTH:"365px",PANEL_CLASS:"copy-plan-success-dialog"},CONFIRM_UNSAVED_DATA:{WIDTH:"310px",HEIGHT:"190",PANEL_CLASS:"unsaved-data-confirmation-dialog"},MC_ERROR_DIALOG:{ID:"MCErrorDialog",WIDTH:"350px",PANEL_CLASS:"mc-error-dialog"}},Y={CancelLabel:"CancelLabel",OkLabel:"OkLabel",OK:"OK",YesLabel:"YesLabel",NoLabel:"NoLabel"},G=(window,[{url:"card",name:"PLANCARD"},{url:"grid",name:"PLANGRID"},{url:"rate-adjustments",name:"NMCRA"},{url:"plan-properties",name:"PLANPROP"},{url:"plan-design",name:"PLANDSGN"},{url:"countries",name:"NCTRYDTL"},{url:"reports",name:"NREPORTS"}]),H={TFSI_LABEL:"TFSI:Target First Site Initiated",TFSI_SHORT:"TFSI",TFSI:"Target First Site Initiated",TLSR_LABEL:"TLSR:Target Last Subject Randomized",TLSR_SHORT:"TLSR",TLSR:"Target Last Subject Randomized",PFSI_LABEL:"PFSI:Planned First Site Initiated:",PFSI_SHORT:"PFSI",PFSI:"Planned First Site Initiated",PFSR_LABEL:"PFSR:Planned First Subject Randomized",PFSR_SHORT:"PFSR",PFSR:"Planned First Subject Randomized",PLSI_LABEL:"PLSI:Planned Last Site Initiated",PLSI_SHORT:"PLSI",PLSI:"Planned Last Site Initiated",PLSR_LABEL:"PFSR:Planned Last Subject Randomized",PLSR_SHORT:"PLSR",PLSR:"Planned Last Subject Randomized",DAYS_FROM_TFSI:" days from TFSI",DAYS_FROM_TLSR:" days from TLSR",SPACES:"     "},B={required:!0},q={MAX_CHAR:255},W={PreferenceGridColumns:{},appType:"SOMAIN",category:"PreferenceGridColumns"},$={PreferenceBookmarks:"PreferenceBookmarks",PreferenceChartLegendPlan:"PreferenceChartLegendPlan",PreferenceChartLegendStudy:"PreferenceChartLegendStudy",PreferenceGridColumns:"PreferenceGridColumns",PreferenceLayout:"PreferenceLayout"},z=function(){function e(){}return e.computeMaximumEnrollment=function(e,t){var n;return a.c.isDefined(e,!0)&&(n=a.c.isDefined(t,!0)?Math.floor(e+t*e/100):e),a.c.isDefined(n,!0)||(n=""),n},e.computeRR=function(e,t,n){void 0===n&&(n=!0);var l=null;return l=a.c.isDefined(e,!0)?a.c.isDefined(t,!0)?e*(1-t/100):e:"",a.c.isDefined(l,!0)&&n&&(l=a.c.formatDecimal(l,"0.1-3")),l},e.computeSR=function(e,t){var n=null;return n=a.c.isDefined(e,!0)?a.c.isDefined(t,!0)?e/(1-t/100):e:"",a.c.isDefined(n,!0)&&(n=a.c.formatDecimal(n,"0.1-3")),n},e.computeActiveSites=function(e,t){var n="";return a.c.isDefined(e,!0)&&a.c.isDefined(t,!0)&&(n=Math.floor(e*(t/100)),a.c.isDefined(n,!0)||(n="")),n},e.computeSAS=function(e,t){var n="";return a.c.isDefined(e,!0)&&(a.c.isDefined(n=t/e*100,!0)||(n="")),n},e.computeFSS=function(e,t){var n=null;return e&&e.isValid()&&a.c.isDefined(t,!0)&&(n=e.add(t,"days")),n},e.getModuleInfo=function(e,t,n){void 0===n&&(n="NEWPLANTAB");var l={moduleName:n};return e&&(l.pageName=e),t&&(l.studykey=t),l},e}(),J={studyTargets:"Tar",milestoneDates:"Mil",scrAll:"",sitePlannedBase:"BasPSI",scrInterimAnalysis:"",enrollPlannedAdj:"AdjPSR",totalActual:"",enrollFrozenProj:"FroPrSR",siteFrozenProj:"FroPrSI",totalCurrentProj:"",enrollUpdatedProj:"UpdPrSR",siteUpdatedProj:"UpdPrSI",totalPlannedApproved:"",totalPlannedAdj:"",scrActual:"ActSS",totalPlannedBase:"",scrCurrentProj:"CurPrSS",enrollAll:"",aheadBehindBox:"aheadBehind",scrFailureActual:"ActSF",enrollActual:"ActPSR",extendProjs:"Ext",scrPlannedApproved:"AppPSS",enrollCurrentProj:"CurPrSR",studyCostSymbols:"",todaysDate:"today",scrPlannedBase:"BasPSS",dropoutActual:"ActDO",cohortPerf:"",scrPlannedAdj:"AdjPSS",enrollPlanConfBoundary:"",sitePlannedAdj:"AdjPSI",siteActual:"ActSI",scrFrozenProj:"FroPrSS",enrollPlannedApproved:"AppPSR",siteCurrentProj:"CurPrSI",sitePlannedApproved:"AppPSI",scrUpdatedProj:"UpdPrSS",enrollPlannedBase:"BasPSR",cbApproved:"CBApp",cbAdjustment:"CBAdj",cbCurrentProjection:"CBCurPr",cbBase:"CBBas"},X={studyTargets:"Tar",milestoneDates:"Mil",scrAll:"",sitePlannedBase:"BasPSI",scrInterimAnalysis:"",enrollPlannedAdj:"AdjPSR",totalActual:"",enrollFrozenProj:"FroPrSR",siteFrozenProj:"FroPrSI",totalCurrentProj:"",enrollUpdatedProj:"UpdPrSR",siteUpdatedProj:"UpdPrSI",totalPlannedApproved:"",totalPlannedAdj:"",scrActual:"ActSS",totalPlannedBase:"",scrCurrentProj:"CurPrSS",enrollAll:"",aheadBehindBox:"aheadBehind",scrFailureActual:"ActSF",enrollActual:"ActPSR",extendProjs:"Ext",scrPlannedApproved:"AppPSS",enrollCurrentProj:"CurPrSR",studyCostSymbols:"",todaysDate:"today",scrPlannedBase:"BasPSS",dropoutActual:"ActDO",cohortPerf:"",scrPlannedAdj:"AdjPSS",enrollPlanConfBoundary:"",sitePlannedAdj:"AdjPSI",siteActual:"ActSI",scrFrozenProj:"FroPrSS",enrollPlannedApproved:"AppPSR",siteCurrentProj:"CurPrSI",sitePlannedApproved:"AppPSI",scrUpdatedProj:"UpdPrSS",enrollPlannedBase:"BasPSR",cbApproved:"CBApp",cbAdjustment:"CBAdj",cbCurrentProjection:"CBCurPr",cbBase:"CBBas"},Z=b,Q=function(){function e(e,t,n,l,r){this.payloadCommandService=e,this.baseConnectionService=t,this.logoutService=n,this.configurationService=l,this.serverStatusService=r,this.userData=null,this.isLoggedIn=!1,this._username=new u.a,this.username$=this._username.asObservable(),this._logoFileName=new u.a,this.logoFileName$=this._logoFileName.asObservable(),this._userPrefix=new u.a,this.userPrefix$=this._userPrefix.asObservable()}return Object.defineProperty(e.prototype,"lastKeepAliveCallTime",{get:function(){return this._lastKeepAliveCallTime},set:function(e){this._lastKeepAliveCallTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coefficient",{get:function(){return this._coefficient},set:function(e){this._coefficient=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isKeepAliveCallProceed",{get:function(){return this._isKeepAliveCallProceed},set:function(e){this._isKeepAliveCallProceed=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLogOutTime",{get:function(){return this._autoLogOutTime},set:function(e){this._autoLogOutTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionTimeOut",{get:function(){return this._sessionTimeOut},set:function(e){this._sessionTimeOut=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLogOutTimeBuffer",{get:function(){return this._autoLogOutTimeBuffer},set:function(e){this._autoLogOutTimeBuffer=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartLegendPreference",{get:function(){return this._chartLegendPreference},set:function(e){this._chartLegendPreference=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartLegendPreferenceArr",{get:function(){return this._chartLegendPreferenceArr},set:function(e){this._chartLegendPreferenceArr=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastVisitedStudy",{get:function(){return this.lastStudy},set:function(e){this.lastStudy=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userPrivileges",{get:function(){return this.uPrivileges},set:function(e){this.uPrivileges=e},enumerable:!0,configurable:!0}),e.prototype.setUserPrivileges=function(e){this.userPrivileges=e},e.prototype.setUsername=function(e){this._username.next(e)},e.prototype.setLogoFileName=function(e){this._logoFileName.next(e)},e.prototype.setUserPrefix=function(e){var t=a.c.getNameInitials(e," ");this._userPrefix.next(t)},e.prototype.getUserData=function(e,t){(t=t||{}).cacheKey=a.l.UserDataKey,t.cacheType=a.m.nonsticky,t.storeType=a.Y.InMemory,t.encryption=a.A.encrypt,t.cmdName="",t.xmlRequest="",t.url=a.a.USER_DATA,t.isSSOEndPoint=!1;var n,l=this,r=z.getModuleInfo("PLANS");return t.endPoint&&(t.url=a.a.USER_DATA),t.endPoint?(t.url=a.a.USER_DATA,n=l.payloadCommandService.getApiRequest(e.commandName,e.app,null,r),l.baseConnectionService.send(n,t).pipe(Object(m.a)((function(e){return e.result===a.k.RESULT_OK?(l.userData=e,l.isLoggedIn=!0,l.setUsername(l.userData.user.name),l.setLogoFileName(l.userData.user.logoFileName),l.setStudyKey(l.userData.user.preferences.userPreferences),l.chartLegendPreference=l.setChartLegendPreference(l.userData.user.preferences.userPreferences),l.chartLegendPreferenceArr=l.createLegendMap(l.chartLegendPreference),l.setUserPrivileges(l.userData.user.privileges.module),l.userData):(l.userData=null,l.isLoggedIn=!1,new a.e(e.error.message,e.error.errorCode))})))):(n=l.payloadCommandService.getCommandDetails(e.commandName,e.app,null,null,r),l.baseConnectionService.sendRequest(n,t).pipe(Object(m.a)((function(e){return e.result===a.k.RESULT_OK?(l.userData=e,l.isLoggedIn=!0,l.setUsername(l.userData.user.name),l.setLogoFileName(l.userData.user.logoFileName),l.setStudyKey(l.userData.user.preferences.userPreferences),l.chartLegendPreference=l.setChartLegendPreference(l.userData.user.preferences.userPreferences),l.chartLegendPreferenceArr=l.createLegendMap(l.chartLegendPreference),l.setUserPrivileges(l.userData.user.privileges.module),l.userData):(l.userData=null,l.isLoggedIn=!1,new a.e(e.error.message,e.error.errorCode))}))))},e.prototype.updateChartLegendPreference=function(e,t,n){var l=this.payloadCommandService.getCommandDetails(x,null,null,{userPreference:{params:{appType:F,category:k}}});n||((n={}).dependencyList=[a.l.UserDataKey]);var r=l.xmlRequest.replace("</userPreference>",this.CreateCDATAObj(e,t)+"</userPreference>");return l.xmlRequest=r,this.baseConnectionService.sendRequest(l,n).pipe(Object(m.a)((function(e){return e.result===a.k.RESULT_OK?e:new a.e(e.error.message,e.error.errorCode)})))},e.prototype.getUserName=function(){if(this.userData&&"OK"===this.userData.result)return this.userData.user.name},e.prototype.getUserId=function(){if(this.userData&&"OK"===this.userData.result)return this.userData.user.id},e.prototype.getLastVisitedStudyKey=function(){var e=this.getPreferenceBookmarks(this.getUserPreferences());return e?e.lastVisitedStudy:null},e.prototype.getUserPreferences=function(){var e;return this.userData&&"OK"===this.userData.result&&this.userData.hasOwnProperty("user")&&this.userData.user.hasOwnProperty("preferences")&&this.userData.user.preferences.hasOwnProperty("userPreferences")&&this.userData.user.preferences.userPreferences.length>0&&(e=this.userData.user.preferences.userPreferences),e},e.prototype.getPreferenceBookmarksIndex=function(e){var t;return e.length>0&&(t=e.findIndex((function(e){return"PreferenceBookmarks"===e.category}))),t},e.prototype.getPreferenceBookmarks=function(e){var t;if(e&&e.length>0){var n=this.getPreferenceBookmarksIndex(e);n>-1&&(t=e[n].PreferenceBookmarks)}return t},e.prototype.getMruStudyList=function(){var e=this.getPreferenceBookmarks(this.getUserPreferences());return void 0!==e&&e.hasOwnProperty("mruStudyList")?e.mruStudyList.toString():""},e.prototype.updateUserPreference=function(e,t){var n={};n[e.category]=e[e.category];var l,r=z.getModuleInfo("PLANS",this.getLastVisitedStudyKey());if(t&&(t.dependencyList=[a.l.UserDataKey]),(t=t||{}).endPoint){var o={appType:e.appType,category:e.category,key:e.key};t.url=a.a.USER_PREFERENCE,t.httpMethod=a.F.put;var i=JSON.stringify(n);return l=this.payloadCommandService.getApiRequest("updateUserPreference",o,null,r,s={value:i}),this.baseConnectionService.send(l,t).pipe(Object(m.a)((function(e){return e.result===a.k.RESULT_OK?e:new a.e(e.error.message,e.error.errorCode)})))}var s={userPreference:{params:{appType:e.appType,category:e.category,key:e.key},value:t.endPoint?n:JSON.stringify(n)}};return l=this.payloadCommandService.getCommandDetails("updateUserPreference",null,null,s,r),this.baseConnectionService.sendRequest(l,t).pipe(Object(m.a)((function(e){return e.result===a.k.RESULT_OK?e:new a.e(e.error.message,e.error.errorCode)})))},e.prototype.setStudyKey=function(e){var t=e.map((function(e){return e.PreferenceBookmarks})).filter((function(e){return e})).map((function(e){return e.lastVisitedStudy})).toString();this.lastVisitedStudy=t},e.prototype.setChartLegendPreference=function(e){for(var t=0;t<e.length;t++)if("PreferenceChartLegendPlan"===e[t].category)return e[t].PreferenceChartLegendPlan},e.prototype.createLegendMap=function(e){var t=[];for(var n in e)""!==J[n]&&!0===e[n]?t.push(J[n]):!0===e[n]&&t.push(n);if(t.indexOf("CB")>-1&&!e.hasOwnProperty("cbApproved")){e.cbApproved=!0,e.cbAdjustment=!0,e.cbCurrentProjection=!0,e.cbBase=!0;for(var l=["CBApp","CBBas","CBAdj","CBCurPr"],r=0;r<l.length;r++){var a=t.indexOf(l[r]);a>-1&&t.splice(a,1)}t=Object(i.__spread)(t,l)}return t},e.prototype.getUserPrivilegesForModule=function(e){var t,n,l=this.getUserPrivilages();return Array.isArray(l)?n=l.filter((function(t){if(t.id===e)return t})):l.id===e&&n.push(l),t=n&&n.length>0?n[0].privilege:[],Array.isArray(t)?t:[t]},e.prototype.getUserPrivilages=function(){return this.userPrivileges},e.prototype.checkModulePrivilege=function(e){var t,n,l=this.getUserPrivilegesForModule(U.MODULE_PLANNING);try{for(var r=Object(i.__values)(l),a=r.next();!a.done;a=r.next())if(a.value.name===e)return!0}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.updateUserPreferencesBookmarks=function(e,t){var n=this.getUserPreferences(),l=n[this.getPreferenceBookmarksIndex(n)];return e.hasOwnProperty("isMultiStudyView")&&e.isMultiStudyView?(l.PreferenceBookmarks.lastMultiStudyViewID=e.id,l.PreferenceBookmarks.multiStudyView=!0):(l.PreferenceBookmarks.lastSingleStudyViewID=e.id,l.PreferenceBookmarks.multiStudyView=!1),this.updateUserPreference(l,t=t||{})},e.prototype.updateUsageMetrics=function(e){var t=z.getModuleInfo("PLANS"),n=this.payloadCommandService.getCommandDetails("updateUsageMetrics","","",e,t);return this.baseConnectionService.sendRequest(n,{url:a.I}).pipe(Object(m.a)((function(e){return"OK"===e.result?e.result:null})))},e.prototype.keepUserSessionAlive=function(e){var t=this.userData;if(t&&t.user&&t.user.sessiontimeoutValue){this.coefficient=e;var n=parseInt(t.user.sessiontimeoutValue,10)/60;this.isKeepAliveCallProceed=!1;var l=null;if(this.lastKeepAliveCallTime||(this.isKeepAliveCallProceed=!0),!this.isKeepAliveCallProceed){var r=n*this.coefficient;l=Z(this.lastKeepAliveCallTime).add(r,"m").local().format();var a=Z(new Date).local().format();this.isKeepAliveCallProceed=0===Z(l).diff(Z(a))||Z(l).diff(Z(a))<0}this.isKeepAliveCallProceed&&(this.lastKeepAliveCallTime=Z(new Date).local().format(),this.keepUserSessionAliveCall())}},e.prototype.keepUserSessionAliveCall=function(){var e=this,t=z.getModuleInfo("PLANS"),n=this.payloadCommandService.getCommandDetails("keepUserSessionAlive",null,null,null,t);this.baseConnectionService.sendRequest(n).subscribe((function(t){"Ok"===t.result&&(e.isKeepAliveCallProceed=!1)}))},e.prototype.userIdealWatch=function(){var e=this;this.idleSubscription&&this.idleSubscription.unsubscribe(),this.idleSubscription=this.userIdeal$.pipe(Object(g.a)(this.setAutoLogOutTime()),Object(y.a)((function(e){return!e.length})),Object(v.a)((function(){e.logout()})),Object(S.a)((function(){}))).subscribe()},e.prototype.logout=function(){var e=this;console.log("timeout......"),this.logOutSubscription&&this.logOutSubscription.unsubscribe(),this.logOutSubscription=this.logoutService.logout().subscribe((function(t){if(t.result===a.k.RESULT_OK)if(e.serverStatusService.serverStatus){var n=e.configurationService.$loginUrl;n&&(a.d.getWindow().location.href=n)}else a.d.getWindow().location.href=e.serverStatusService.serverStatus.ssoRedirectURL;else if(t.result===a.k.RESULT_ERROR)throw console.log(t.error.message),new Error(t.error.message)}))},e.prototype.setAutoLogOutTime=function(){var e=this.userData&&this.userData.user&&this.userData.user.sessiontimeoutValue;return e&&(e-=60),this.sessionTimeOut=e&&1e3*e,console.log("%c session time out "+this.sessionTimeOut,"color: purple"),this.getPreferencesByCategory($.PreferenceGridColumns),this.sessionTimeOut},e.prototype.getPreferencesByCategory=function(e){if(!a.c.isDefined(e))return null;var t=null,n=this.getUserPreferences();return n&&n.length>0&&(t=n.find((function(t){return t.category===e}))||null),t},e.prototype.updatePreferencesByCategory=function(e,t){var n={};n[e.category]=e[e.category];var l={userPreference:{params:{appType:e.appType,category:e.category},value:JSON.stringify(n)}},r=this.payloadCommandService.getCommandDetails("updateUserPreference",null,null,l),o={};return t||((t=o).dependencyList=[a.l.UserDataKey]),this.baseConnectionService.sendRequest(r,o).pipe(Object(m.a)((function(e){return e||null})))},e.prototype.CreateCDATAObj=function(e,t){var n="<![CDATA[<PreferenceChartLegendPlan>";if(t instanceof Object){for(var l in t)if(l){var r=X[l];t[l]=!!(e&&e instanceof Array&&r.length>0&&e.indexOf(r)>-1)||!!(e&&e instanceof Array&&0===r.length)&&t[l],n+="<"+l+">"+t[l]+"</"+l+">"}}else if(void 0===t||""===t)for(var l in this._chartLegendPreference={},X)e&&e instanceof Array&&X[l].length>0&&e.indexOf(X[l])>-1?(n+="<"+l+">true</"+l+">",this._chartLegendPreference[l]=!0):(n+="<"+l+">false</"+l+">",this._chartLegendPreference[l]=!1);return a.Z.escapeHTML(n+="</PreferenceChartLegendPlan>]]>")},e.prototype.getXMLTag=function(e){if("object"!=typeof e)return"string"==typeof e&&(e=a.Z.escapeHTML(e)),e;var t="";for(var n in e)if(e.hasOwnProperty(n)){if("[object Array]"!==Object.prototype.toString.call(e)&&"params"!==n&&"value"!==n){if(t+="<"+n,e[n]&&void 0!==e[n].params)for(var l in e[n].params)l&&(t+=" "+l+'="'+e[n].params[l]+'"');t+=">"}"params"!==n&&(t+=this.getXMLTag(e[n])),"[object Array]"!==Object.prototype.toString.call(e)&&"params"!==n&&"value"!==n&&(t+="</"+n+">")}return"&lt;![CDATA[ "+t+" ]]>"},e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e(Object(r["ɵɵinject"])(a.S),Object(r["ɵɵinject"])(a.h),Object(r["ɵɵinject"])(a.O),Object(r["ɵɵinject"])(a.r),Object(r["ɵɵinject"])(a.U))},token:e,providedIn:"root"}),e}(),ee=function(e){function t(t,n){var l=e.call(this)||this;return l.router=t,l.userDataService=n,l.subscriptions=[],l}return Object(i.__extends)(t,e),t.prototype.redirectAsPerParams=function(){var e=this,t=e.getPreferenceId().subscribe((function(t){if(t){var n=t,l=V.find((function(e){return e.id===n}));if(void 0!==l){var r=e.userDataService.updateUserPreferencesBookmarks(l).subscribe((function(t){e.router.navigate(l.routeUrl?[l.routeUrl]:["/"])}),(function(e){throw new Error(e)}));e.subscriptions.push(r)}else e.navigateToFlexApp()}else e.router.navigate(["/"])}),(function(e){throw new Error(e)}));e.subscriptions.push(t)},t.prototype.redirectOnSPABasedOnPreference=function(){var e=this.userDataService.getPreferencesByCategory($.PreferenceBookmarks).PreferenceBookmarks.lastSingleStudyViewID,t=V.find((function(t){return t.id===e}));this.router.navigate(t.routeUrl?[t.routeUrl]:["/new-study"])},t.prototype.redirectBasedOnPreference=function(){var e=this,t=this.userDataService.getPreferencesByCategory($.PreferenceBookmarks);console.log("preferenceBookmarks: ",t);var n=t.PreferenceBookmarks.lastSingleStudyViewID,l=V.find((function(e){return e.id===n})),r=e.userDataService.updateUserPreferencesBookmarks(l,{endPoint:!0}).subscribe((function(t){e.router.navigate(l.routeUrl?[l.routeUrl]:["/"])}),(function(e){throw new Error(e)}));e.subscriptions.push(r)},t.prototype.getPreferenceId=function(){var t=parseInt(e.prototype.getParameterByName.call(this,"prefId"),10)||e.prototype.getParameterByName.call(this,"prefId");return Object(c.a)(t)},t.prototype.navigateToModule=function(e){var t=this,n=U[e],l=V.find((function(e){return e.id===n}));if(void 0!==l){var r={endPoint:!0};r.url=a.a.USER_PREFERENCE,r.httpMethod=a.F.put;var o=t.userDataService.updateUserPreferencesBookmarks(l,r).subscribe((function(e){l.isAngularModule?t.router.navigate([l.routeUrl]):t.navigateToFlexApp()}),(function(e){throw new Error(e)}));t.subscriptions.push(o)}},t.prototype.navigateToFlexApp=function(){var e=a.c.generateFlexUrl(a.f);a.d.getWindow().location.href=e},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(e){e.unsubscribe()})),this.subscriptions=null},t.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new t(Object(r["ɵɵinject"])(s.n),Object(r["ɵɵinject"])(Q))},token:t,providedIn:"root"}),t}(a.v),te=function(){function e(e){this.soCommonWindowService=e,this.itemSelect=new r.EventEmitter}return Object.defineProperty(e.prototype,"searchListFormGroupName",{get:function(){return this.searchListFormGroup},set:function(e){this.searchListFormGroup=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.itemSelected=function(e){this.itemSelect.emit(e)},e.prototype.ngOnDestroy=function(){this.userProfile=null,this.mainHeaderItems=null,this.logoUrl=null,this.alertConfirmUrl=null,this.subHeaderItems=null,this.studyRefreshDate=null,this.studyRefreshDateLabel=null,this.itemSelect=null},e.prototype.navigateToModule=function(e){this.soCommonWindowService.navigateToModule(e)},e}(),ne=b,le=function(){function e(e){this.cdRef=e,this.title="D3 Custom Widget",this.baseline={},this.site={},this.subjects={},this.higherend=500,this.lowerend=50,this.position=65,this.siteY=58,this.subjectY=72,this.dateFormat="DD-MMM-YYYY",this.collisionSafety=20,this.rangeParam=[]}return e.prototype.ngAfterViewInit=function(){this.render(),this.rangeParam=[this.lowerend,this.higherend],this.xScale=Object(P.a)().domain([new Date(this.range.start),new Date(this.range.end)]).range(this.rangeParam),this.xTFSI=this.xScale(new Date(this.milestone.TFSI)),this.xTLSR=this.xScale(new Date(this.milestone.TLSR)),this.xPFSR=this.xScale(new Date(this.milestone.PFSI)),this.xPLSR=this.xScale(new Date(this.milestone.PLSR)),this.xPFSI=this.xScale(new Date(this.milestone.PFSI)),this.xPLSI=this.xScale(new Date(this.milestone.PLSI)),this.DrawBaseline(),this.PlotPlannedSiteMilestones(),this.PlotPlannedSubjectsMilestones(),this.cdRef.detectChanges()},e.prototype.draw=function(){},e.prototype.DrawBaseline=function(){this.showBaseline()&&this.milestone.PFSI&&this.milestone.PLSI&&this.xTLSR-this.xTFSI<this.collisionSafety&&(this.xTLSR=this.xTFSI+this.collisionSafety)},e.prototype.type=function(){return"CUSTOM"},e.prototype.PlotPlannedSiteMilestones=function(){if(this.milestone.PFSI&&this.milestone.PLSI&&ne(this.milestone.PLSI)>=ne(this.milestone.PFSI)){this.xPLSI-this.xPFSI<this.collisionSafety&&(this.xPLSI=this.xPFSI+this.collisionSafety);var e=ne(this.milestone.TFSI),t=ne(this.milestone.PFSI),n=parseInt(ne.duration(t.diff(e)).asDays().toString(),10);this.aheadBehindDaysFSIColor=this.determineColor(n),this.diffFSI=(n>0?"+"+n:n)+this.labels.DAYS_FROM_TFSI}},e.prototype.PlotPlannedSubjectsMilestones=function(){if(this.xPFSR&&this.xPLSR){this.xPLSR-this.xPFSR<this.collisionSafety&&(this.xPLSR=this.xPFSR+this.collisionSafety);var e=ne(this.milestone.PLSR),t=ne(this.milestone.TLSR),n=parseInt(ne.duration(e.diff(t)).asDays().toString(),10);this.aheadBehindDaysLSRColor=this.determineColor(n),this.diffLSR=(n>0?"+"+n:n)+this.labels.DAYS_FROM_TLSR}},e.prototype.determineColor=function(e){return e<=0?"#00C221":"#E20000"},e.prototype.render=function(){this.higherend=document.getElementById(this.id).clientWidth-50,this.draw()},e.prototype.onResize=function(e){this.render()},e.prototype.getTooltipData=function(e,t,n){var l=e+"\n"+this.labels.SPACES+ne(this.milestone[t]).format(this.dateFormat);return n&&(l=l+"\n"+this.labels.SPACES+n),l},e.prototype.showBaseline=function(){return this.xTFSI&&this.xTLSR},e.prototype.showPlannedSiteMilestones=function(){return this.xPFSI&&this.xPLSI&&this.milestone.PFSI&&this.milestone.PLSI&&ne(this.milestone.PLSI)>=ne(this.milestone.PFSI)},e.prototype.showPlannedSubjectsMilestones=function(){return this.xPFSR&&this.xPLSR},e}(),re=function(){function e(e,t,n){this.payloadCommandService=e,this.baseConnectionService=t,this.userDataService=n,this.studyKeySubject=new u.a,this.studyKey$=this.studyKeySubject.asObservable()}return Object.defineProperty(e.prototype,"studyTag",{get:function(){return this.sTag},set:function(e){this.sTag=e},enumerable:!0,configurable:!0}),e.prototype.getStudyTagList=function(e,t){var n=this;null==e&&(e="");var l,r=z.getModuleInfo(),o=this.userDataService.getMruStudyList();return t.endPoint?(t.url=a.a.STUDY_TAGS_LIST,l=this.payloadCommandService.getApiRequest("getStudyTagList",null,{mruStudyList:o,searchCriteria:e},r),this.baseConnectionService.send(l,t).pipe(Object(m.a)((function(e){return n.handleStudyTagListRes(e,o)})))):(l=this.payloadCommandService.getCommandDetails("getStudyTagList",{mruStudyList:o,searchCriteria:e},null,null,r),this.baseConnectionService.sendRequest(l).pipe(Object(m.a)((function(e){return n.handleStudyTagListRes(e,o)}))))},e.prototype.handleStudyTagListRes=function(e,t){if(e.result===a.k.RESULT_OK){var n={};return n.recentListItems=e.hasOwnProperty("mruStudyTags")?e.mruStudyTags.studyTag instanceof Array?e.mruStudyTags.studyTag:e.mruStudyTags.studyTag?[e.mruStudyTags.studyTag]:[]:[],this.sortMruStudyTags(n.recentListItems,t),n.allListItems=e.hasOwnProperty("listOfStudyTags")?e.listOfStudyTags.studyTag instanceof Array?e.listOfStudyTags.studyTag:e.listOfStudyTags.studyTag?[e.listOfStudyTags.studyTag]:[]:[],n.allListItems=this.sortListOfStudyTags(n.allListItems,"id"),n}return new a.e(e.error.message,e.error.errorCode)},e.prototype.sortMruStudyTags=function(e,t){var n=t.split(";").map((function(e){return parseInt(e,10)}));return e.sort((function(e,t){return n.indexOf(e.key)-n.indexOf(t.key)})).reverse()},e.prototype.shareStudyKey=function(e){this.studyKeySubject.next(e.key)},e.prototype.sortListOfStudyTags=function(e,t){return e.sort((function(e,n){var l=e[t].toString().toLowerCase(),r=n[t].toString().toLowerCase();return l>r?1:l<r?-1:0}))},e.prototype.getStudyTags=function(e){var t=this,n=z.getModuleInfo();if(e.endPoint){e.url=a.a.STUDY_TAGS;var l=this.payloadCommandService.getApiRequest("getStudyTags",null,null,n);return this.baseConnectionService.send(l,e).pipe(Object(m.a)((function(e){return t.handleStudyTagsRes(e)})))}var r=this.payloadCommandService.getCommandDetails("getStudyTags",null,null,null,n);return this.baseConnectionService.sendRequest(r).pipe(Object(m.a)((function(e){t.handleStudyTagsRes(e)})))},e.prototype.handleStudyTagsRes=function(e){if(e.result===a.k.RESULT_OK)return this.studyTag=Array.isArray(e.studyTags.studyTag)?e.studyTags.studyTag:[e.studyTags.studyTag],console.log(this.studyTag),Object(c.a)([])},e.prototype.getStudyInfoByKey=function(e){var t={};return this.studyTag&&(t=this.studyTag.find((function(t){return t.key.toString()===e.toString()}))),t},e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e(Object(r["ɵɵinject"])(a.S),Object(r["ɵɵinject"])(a.h),Object(r["ɵɵinject"])(Q))},token:e,providedIn:"root"}),e}(),ae=function(){function e(e,t,n){this.localeAppResourcesService=e,this.studyListService=t,this.dialogService=n,this.planSelect=new r.EventEmitter}return e.prototype.ngOnInit=function(){this.placeholder=this.localeAppResourcesService.getResource("PLNDT_DROPDOWN_PLACEHOLDER")},e.prototype.ngOnChanges=function(e){e.hasOwnProperty("items")&&void 0!==e.items.currentValue&&this.setSelectedItem()},e.prototype.onPlanSelect=function(e){var t=this;this.canDeactivate().subscribe((function(n){!0===n?(t.dialogService.isStatusChanged=!1,t.selectedPlanKey=e.value,t.setSelectedItem(),t.planSelect.emit(t.selectedPlanListItem)):e&&e.source&&e.source.writeValue(t.selectedPlanKey)}))},e.prototype.canDeactivate=function(e){return!0===e?Object(c.a)(!0):!0===this.dialogService.isStatusChanged?this.dialogService.confirm():Object(c.a)(!0)},e.prototype.setSelectedItem=function(){var e=this;this.items.forEach((function(t){if(t.key===e.selectedPlanKey)e.selectedPlanListItem=t;else if(t.hasOwnProperty("briefAdjustPlanList")){var n=t.briefAdjustPlanList.findIndex((function(t){return t.key===e.selectedPlanKey}));-1!==n&&(e.selectedPlanListItem=t.briefAdjustPlanList[n])}}))},e.prototype.ngOnDestroy=function(){this.placeholder=null,this.selectedPlanListItem=null},e}(),oe=function(){function e(e){this.localeAppResourcesService=e}return e.prototype.getResouce=function(e){return this.localeAppResourcesService.getResource(e)},e.prototype.getCueCardHeader=function(){return this.getResouce("REF_CARD_HEAD")},e.prototype.getCueCardResources=function(){var e={};return e.SourceTargets=this.getResouce("SourceTargets"),e.StudyTargets=this.getResouce("StudyTargets"),e.Worldwide=this.getResouce("Worldwide"),e.ParentPlan=this.getResouce("ParentPlan"),e.Actuals=this.getResouce("Actuals"),e.Projections=this.getResouce("Projections"),e.Country=this.getResouce("Country"),e},e}(),ie=function(){function e(e,t){this.cueCardService=e,this.localeAppResourcesService=t,this.rowElements=[],this.headElements=[],this.extraElements=[],this.headerElements=[],this.NaToolTip=j,this.referenceCardHeading=this.cueCardService.getCueCardHeader()}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){this.cueCardDetails=e.cueCardDetails.currentValue,void 0!==this.cueCardDetails&&(this.getHeadElements(),this.getRowElements())},e.prototype.getRowElements=function(){if(this.rowElements=[],0!==this.headElements.length)for(var e=1;e<this.headElements.length;e++){this.extraElements=this.cueCardDetails[e-1][this.headElements[e]]?Object.keys(this.cueCardDetails[e-1][this.headElements[e]]):[];for(var t=0;t<this.extraElements.length;)-1===this.rowElements.indexOf(this.extraElements[t])&&this.rowElements.push(this.extraElements[t]),t++}},e.prototype.getCueCardResource=function(e){return this.localeAppResourcesService.getResource(e)},Object.defineProperty(e.prototype,"cueCardResources",{get:function(){return{actuals:this.getCueCardResource("ACTUALS_CUECARD"),approvedPlan:this.getCueCardResource("APPROVEDPLAN_CUECARD")}},enumerable:!0,configurable:!0}),e.prototype.getHeadElements=function(){this.headerElements=[],null===this.cueCardDetails&&0===this.cueCardDetails.length||(this.headerElements=this.cueCardDetails.map((function(e){return Object.keys(e)})),this.headElements=this.headerElements.slice(),this.headElements.unshift(" "),console.log("this.headElements",this.headElements),this.referenceCardHeading=this.headElements[5][0]!==this.cueCardResources.actuals&&this.headElements[5][0]!==this.cueCardResources.approvedPlan?this.headElements[5][0]:this.cueCardService.getCueCardHeader())},e.prototype.getHeaderLabel=function(e){return this.cueCardService.getCueCardResources()[e]||e},e.prototype.ngOnDestroy=function(){this.cueCardDetails=[]},e}(),se=function(){function e(){this.items=new o.h,this.classes="ctos-so-dropdown",this.isDisable=!1,this.selectionChange=new r.EventEmitter}return e.prototype.ngOnInit=function(){this.classes=this.config&&this.config.subject?"ctos-so-dropdown create-plan":"ctos-so-dropdown sort-options"},e.prototype.ngOnChanges=function(e){for(var t in e)if(t&&"config"===t){var n=e[t];n.currentValue&&(this.isDisable=n.currentValue.disabled)}},e.prototype.onSelect=function(e){this.selectionChange.emit(e.value)},e.prototype.compareFn=function(e,t){return e[this.id]===t[this.id]},e}(),ue=function(){return function(){}}(),ce=function(){function e(e,t,n){this.payloadCommandService=e,this.baseConnectionService=t,this.localeAppResourcesService=n}return e.prototype.getAppData=function(e){var t=this;(e=e||{}).cacheKey=a.l.GetAppDataKey,e.cacheType=a.m.sticky,e.storeType=a.Y.Session,e.encryption=a.A.encrypt,e.cmdName="",e.xmlRequest="";var n,l={moduleName:"NEWPLANTAB"};return e.endPoint&&(e.url=a.a.APP_DATA),e.endPoint?(n=this.payloadCommandService.getApiRequest("getAppData",{appType:"SOMAIN"},null,l),this.baseConnectionService.send(n,e).pipe(Object(m.a)((function(e){return e.result===a.k.RESULT_OK?(t.appDataResponse=e,t.appDataResponse):e.result===a.k.RESULT_ERROR?(console.log(e.error.message),e.error.message):void 0})))):(n=this.payloadCommandService.getCommandDetails("getAppData",null,null,null,l),this.baseConnectionService.sendRequest(n,e).pipe(Object(m.a)((function(e){return e.result===a.k.RESULT_OK?(t.appDataResponse=e,t.appDataResponse):e.result===a.k.RESULT_ERROR?(console.log(e.error.message),e.error.message):void 0}))))},e.prototype.getConfiguredRateLabel=function(){if(this.appDataResponse&&this.appDataResponse.appMetadata){if(this.appDataResponse.appMetadata.isSRAvailable)return this.localeAppResourcesService.getResource("Screening");if(!this.appDataResponse.appMetadata.isSRAvailable)return this.localeAppResourcesService.getResource("Randomization")}},e.prototype.getReportingFreqDefByName=function(e){if(this.appDataResponse&&this.appDataResponse.appMetadata&&e)return this.appDataResponse.appMetadata.reportingFrequency.reportingFreqDef.find((function(t){return t.Name===e}))},e.prototype.isSRAvailable=function(){return!(!this.appDataResponse||!this.appDataResponse.appMetadata)&&this.appDataResponse.appMetadata.isSRAvailable},e.prototype.getCurveColors=function(){if(this.appDataResponse.appMetadata&&this.appDataResponse.appMetadata.curveColorsList&&this.appDataResponse.appMetadata.curveColorsList.curveColors)return this.appDataResponse.appMetadata.curveColorsList.curveColors},e.prototype.isCountryLockEnabled=function(){return!!(this.appDataResponse&&this.appDataResponse.appMetadata&&this.appDataResponse.appMetadata.isCountryLockEnable)&&this.appDataResponse.appMetadata.isCountryLockEnable},e.prototype.isProjectedRatesEnabled=function(){return!!(this.appDataResponse&&this.appDataResponse.appMetadata&&this.appDataResponse.appMetadata.isEnableProjRates)&&this.appDataResponse.appMetadata.isEnableProjRates},e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e(Object(r["ɵɵinject"])(a.S),Object(r["ɵɵinject"])(a.h),Object(r["ɵɵinject"])(a.M))},token:e,providedIn:"root"}),e}(),de=function(){function e(e,t){this.payloadCommandService=e,this.baseConnectionService=t,this.filterDataResponse=null,this.iscro=!1,this.histStudiesFilterCriteriaList=[],this.standardCriteriaList=[],this.customCriteriaList=[],this.displayColumnList=[],this.multipleSolarKeys="",this.displayColumListCustom=[],this.histList=new u.a}return e.prototype.getFilterData=function(e,t){e||(e="getFilterData");var n={};t||(n.cacheKey=a.l.FilterDataKey,t=n);var l,r=z.getModuleInfo(),o=this,i=o.payloadCommandService.getCommandDetails(e,null,null,null,r);return o.baseConnectionService.sendRequest(i,t).pipe(Object(m.a)((function(e){return(l=e).result===a.k.RESULT_OK?(o.filterDataResponse=l,o.getHistStudiesFilterCriteriaList(),l.result):l.error.message})))},e.prototype.getHistStudiesFilterCriteriaList=function(){var e;if(null!==this.filterDataResponse){e=this.filterDataResponse.filterCriteriaMetadata.criterionMetadataList;for(var t=0;t<e.length;t++)if("HSTDY"===e[t].filterType){this.histStudiesFilterCriteriaList=e[t].criterion,this.getStandardCustomCriteriaList(),this.setCriteriaMetaDataMap();break}this.histList.next(this.histStudiesFilterCriteriaList)}},e.prototype.setCriteriaMetaDataMap=function(){var e,t,n=this.histStudiesFilterCriteriaList,l=n.length;if(l>0)for(this.criterionMetadataMap={},e=0;e<l;e++)this.criterionMetadataMap[(t=n[e]).id]=t,"CRO"===t.id&&(this.iscro=!0);return this.criterionMetadataMap},e.prototype.getStandardCustomCriteriaList=function(){for(var e=this.histStudiesFilterCriteriaList.length,t=0;t<e;t++)void 0===this.histStudiesFilterCriteriaList[t].parentFilterCriteriaID?!0===this.histStudiesFilterCriteriaList[t].isCustom?(!0===this.histStudiesFilterCriteriaList[t].isFilterField&&this.customCriteriaList.push(this.histStudiesFilterCriteriaList[t]),!0===this.histStudiesFilterCriteriaList[t].isDisplayField&&this.displayColumListCustom.push(this.histStudiesFilterCriteriaList[t])):(!0===this.histStudiesFilterCriteriaList[t].isFilterField&&this.standardCriteriaList.push(this.histStudiesFilterCriteriaList[t]),!0===this.histStudiesFilterCriteriaList[t].isDisplayField&&this.displayColumnList.push(this.histStudiesFilterCriteriaList[t])):this.multipleSolarKeys=""===this.multipleSolarKeys?this.histStudiesFilterCriteriaList[t].solrID:this.multipleSolarKeys+"_"+this.histStudiesFilterCriteriaList[t].solrID},e.prototype.getCriteriaById=function(e){var t=[],n=!1,l=this.criterionMetadataMap;for(var r in l)if(r){var a=l[r];n||a.id===e.id&&(n=!0,t.push(a))}return t},e.prototype.getCriteriaValuesByKeys=function(e,t){var n=[];return void 0!==t&&t.data.map((function(l){var r=!1;void 0!==e.data&&e.data.options.map((function(e){r||(Array.isArray(t.data)?l.key.toString()===e.key&&(a.c.checkElementExistsInArray(n,l)||(n.push({key:l.key,value:l.value}),r=!0)):t.data.key.toString()===e.key&&(a.c.checkElementExistsInArray(n,t.data)||(n.push({key:t.data.key,value:t.data.value}),r=!0)))}))})),n.length>0&&(n=this.sortByAsc(n)),n},e.prototype.sortByAsc=function(e){return e.sort((function(e,t){return e.value.localeCompare(t.value)}))},e.prototype.getCriteriaByName=function(){return this.histStudiesFilterCriteriaList.map((function(e){return e.id}))},e.prototype.getCriteriaIdByFilterName=function(e,t){var n=this.histStudiesFilterCriteriaList.find((function(t){return t.id===e}));if(n.data)return n.data.find((function(e){return e.value===t})).key},e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e(Object(r["ɵɵinject"])(a.S),Object(r["ɵɵinject"])(a.h))},token:e,providedIn:"root"}),e}(),pe=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.approvePlanFB=n,this.approvePlanForm=this.approvePlanFB.group({planName:[t.name,o.B.required],planDescription:[t.description],approvalComments:["",o.B.required]})}return e.prototype.ngOnInit=function(){},e.prototype.onPlanNameBlur=function(){var e=this.approvePlanForm.get("planName").value?this.approvePlanForm.get("planName").value.trim():"";this.approvePlanForm.get("planName").setValue(e)},e.prototype.cancel=function(){this.dialogRef.close({action:"Cancel"})},e.prototype.ok=function(){this.approvePlanForm.valid?this.dialogRef.close({action:this.data.labels.APPROVE_PLAN_OK,form:this.approvePlanForm.value}):console.error("Form values are not valid")},e}(),he=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.copyPlanFB=n,this.isSearchListOn=!0,this.toggleArrowFlag=!1,this.labels={required:this.data.labels.COPY_PLAN_REQ_MSG,maxLength:this.data.labels.COPY_PLAN_MAX_LENGTH_MSG},this.copyPlanForm=this.copyPlanFB.group({copyToPlanName:[t.name,[o.B.required,o.B.maxLength(q.MAX_CHAR)]],editPlanDescription:[t.description],studySearchFormGroup:this.copyPlanFB.group({searchListControl:[""],filterListControl:[""]})})}return e.prototype.ngOnInit=function(){},e.prototype.studySelected=function(e){console.log(e)},e.prototype.onPlanNameBlur=function(){var e=this.copyPlanForm.get("copyToPlanName").value?this.copyPlanForm.get("copyToPlanName").value.trim():"";this.copyPlanForm.get("copyToPlanName").setValue(e)},e.prototype.cancel=function(){this.dialogRef.close({action:"Cancel"})},e.prototype.ok=function(){console.log("isFormValid..."+this.copyPlanForm.valid),this.copyPlanForm.valid?this.dialogRef.close({action:this.data.labels.COPY_PLAN_OK,form:this.copyPlanForm.value}):console.error("Form values are not valid")},e.prototype.getTooltipMessage=function(){var e="",t=this.copyPlanForm.get("copyToPlanName");return t.errors&&(t.errors.required?e=this.labels.required:t.errors.maxlength&&(e=a.Z.interpolate(this.labels.maxLength,[q.MAX_CHAR.toString()]))),e},e.prototype.hasTooltipMessage=function(){return this.getTooltipMessage().length>0},e}(),fe=function(){function e(e,t,n,l,r,a,o,i,s,c,d,p,h){this.route=e,this.baseConnectionService=t,this.payloadCommandService=n,this.localeAppResourcesService=l,this.errorTermsService=r,this.dialog=a,this.filterDataService=o,this.studyListService=i,this.snackBar=s,this.userDataService=c,this.appDataService=d,this.spinnerService=p,this.dialogService=h,this.userActionData=null,this.navigateAwaySelection$=new u.a,this.responseData=new u.a,this.responseObservable$=this.responseData.asObservable(),this.planApproved=new u.a,this.planApproved$=this.planApproved.asObservable()}return e.prototype.getPlanActions=function(e,t){var n=this,l=this.getPlanOptionLabels(),r=[],a=this.userDataService.getUserPrivilegesForModule(U.MODULE_PLANNING),o=this.getTooltipLabels(),i=this.checkModulePrivilege(a,"Approve"),s=this.checkModulePrivilege(a,"Edit"),u=this.getAllPlanActions();if(e){var c=e.planStatus.value||e.planStatus;u.forEach((function(a){if(a.name===l.COPY_PLAN)a.isEnabled=s;else if(a.name===l.DELETE_PLAN)a.isEnabled=s&&e.isDeletable;else if(a.name===l.APPROVE_PLAN)a.isEnabled=i&&n.isPlanApprovable(e);else if(a.name===l.CREATE_ADJUSTMENT){var u=n.studyMilestonesAchieved(t);a.isEnabled=s&&e.isPlan&&u&&"APPROVED"===c,"APPROVED"!==c||u||(a.tooltipMsg=o.createAdjustmentCheckMilestone)}!0===a.isVisible&&r.push(a)}))}return r},e.prototype.onPlanActionClicked=function(e,t,n,l){var r=this;switch(e){case t.PLAN_ACTION_LABELS.COPY_PLAN:this.dialogService.isProceed=!0;var o=this.getCopyPlanLabels();this.dialogService.isStatusChanged&&!0===this.dialogService.isStatusChanged?(this.confirmUnSavedChanges(),this.subscription=this.navigateAwaySelection$.asObservable().subscribe((function(t){t&&r.openCopyPlanDialog(e,n,l,o),r.subscription.unsubscribe()}))):this.openCopyPlanDialog(e,n,l,o);break;case t.PLAN_ACTION_LABELS.CREATE_ADJUSTMENT:n&&n.key?this.route.navigate(["/plans","plandetails",n.key,"plan-properties"],{queryParams:{type:"adj"}}):this.route.navigate(["/plans","plandetails","invalid"]);break;case t.PLAN_ACTION_LABELS.DELETE_PLAN:this.dialog.open(a.t,{width:K.DELETE_PLAN.WIDTH,height:K.DELETE_PLAN.HEIGHT,data:this.getDeletePlanProp(),panelClass:K.DELETE_PLAN.PANEL_CLASS,id:K.DELETE_PLAN.ID}).afterClosed().subscribe((function(t){if(t&&t.action===r.getDeletePlanProp().okLabel){var l=r.getDeletePlanPayload(n);r.deletePlan(e,l)}}));break;case t.PLAN_ACTION_LABELS.APPROVE_PLAN:this.dialogService.isStatusChanged&&!0===this.dialogService.isStatusChanged?(this.confirmUnSavedChanges(),this.subscription=this.navigateAwaySelection$.asObservable().subscribe((function(t){t&&r.openApprovePlanDialog(e,n),r.subscription.unsubscribe()}))):this.openApprovePlanDialog(e,n)}},e.prototype.openApprovePlanDialog=function(e,t){var n=this;if(null!=t.plsr&&""!==t.plsr){var l=this.getApprovePlanLabels();this.dialog.open(pe,{width:K.APPROVE_PLAN.WIDTH,data:{name:t.name,approver:t.approver,description:t.description,labels:l,isPlan:t.isPlan,planDesign:t.isCohortPlan},panelClass:K.APPROVE_PLAN.PANEL_CLASS,id:K.APPROVE_PLAN.ID}).afterClosed().subscribe((function(r){if(r&&r.action===l.APPROVE_PLAN_OK){var a=n.getApprovePlanPayload(t,r.form);n.approvePlan(e,a,t)}}))}else this.openDialog()},e.prototype.openDialog=function(){var e={heading:"",message:"",okLabel:"",cancelLabel:"",showCancel:""};e.okLabel=this.localeAppResourcesService.getResource("OK"),e.heading=this.errorTermsService.getErrorMessage("ApprovePlanTitle"),e.message=this.errorTermsService.getErrorMessage("ApprovePlanMsg"),this.dialog.open(a.t,{width:K.APPROVE_PLAN.WIDTH,data:e,panelClass:K.APPROVE_PLAN.PANEL_CLASS})},e.prototype.getCopyPlanLabels=function(){return{COPY_PLAN:this.localeAppResourcesService.getResource("COPY_PLAN"),COPY_PLAN_STUDY:this.localeAppResourcesService.getResource("COPY_PLAN_STUDY"),COPY_PLAN_NAME:this.localeAppResourcesService.getResource("COPY_PLAN_NAME"),COPY_PLAN_DESCR:this.localeAppResourcesService.getResource("COPY_PLAN_DESCR"),COPY_PLAN_OK:this.localeAppResourcesService.getResource("COPY_PLAN_OK"),COPY_PLAN_CANCEL:this.localeAppResourcesService.getResource("COPY_PLAN_CANCEL"),COPY_PLAN_REQ_MSG:this.localeAppResourcesService.getResource("COPY_PLAN_REQ_MSG"),COPY_PLAN_MAX_LENGTH_MSG:this.errorTermsService.getErrorMessage("maxCharExceedError")}},e.prototype.openCopyPlanDialog=function(e,t,n,l){var r=this;this.subscription&&this.subscription.unsubscribe(),this.dialog.open(he,{width:K.COPY_PLAN.WIDTH,data:{name:t.name+" - Copy",studyListInput:n,description:t.description,labels:l},panelClass:K.COPY_PLAN.PANEL_CLASS,id:K.COPY_PLAN.ID}).afterClosed().subscribe((function(n){if(n&&n.action===l.COPY_PLAN_OK){r.dialogService.isProceed=!1,n.form.copyToPlanName=n.form.copyToPlanName?n.form.copyToPlanName.trim():"";var a=r.getCopyPlanPayload(t,n.form);r.copyPlan(e,t,a)}else r.dialogService.isProceed=!0}))},e.prototype.getCopyPlanPayload=function(e,t){return{studyKey:this.getLastVisitedStudyKey(),destStudyKey:t.studySearchFormGroup.searchListControl.key,studyName:this.getLastVisitedStudyName(),destStudyName:t.studySearchFormGroup.searchListControl.name||t.studySearchFormGroup.searchListControl.id,planKey:e.key,name:t.copyToPlanName,description:t.editPlanDescription,version:e.version,isCohortPlan:e.isCohortPlan}},e.prototype.copyPlan=function(e,t,n){var l=this,r={};r.dependencyList=[a.l.GetPlanListKey+"_"+n.studyKey,a.l.GetPlanListKey+"_"+n.destStudyKey],this.callAPI("copyStudyPlan",n,r).subscribe((function(r){l.responseData.next(new Object({response:{requestData:{planName:t.name,destPlanName:n.name,studyKey:n.studyKey,destStudyKey:n.destStudyKey,studyName:n.studyName,destStudyName:n.destStudyName,isPlan:t.isPlan,parentPlanKey:t.isPlan?null:t.parentPlankey},responseData:r},actionItem:e}))}))},e.prototype.getApprovePlanLabels=function(){return{APPROVE_PLAN:this.localeAppResourcesService.getResource("APPROVE_PLAN"),APPROVE_PLAN_APPROVER:this.localeAppResourcesService.getResource("APPROVE_PLAN_APPROVER"),APPROVE_PLAN_NAME:this.localeAppResourcesService.getResource("APPROVE_PLAN_NAME"),APPROVE_PLAN_DESCR:this.localeAppResourcesService.getResource("APPROVE_PLAN_DESCR"),APPROVE_PLAN_COMMENTS:this.localeAppResourcesService.getResource("APPROVE_PLAN_COMMENTS"),APPROVE_PLAN_OK:this.localeAppResourcesService.getResource("APPROVE_PLAN_OK"),APPROVE_PLAN_CANCEL:this.localeAppResourcesService.getResource("APPROVE_PLAN_CANCEL"),APPROVE_PLAN_REQ_MSG:this.localeAppResourcesService.getResource("APPROVE_PLAN_REQ_MSG")}},e.prototype.getApprovePlanPayload=function(e,t){var n={studyKey:this.getLastVisitedStudyKey(),version:e.version};return e.isPlan?(n.planKey=e.key,n.planComment=t.approvalComments):(n.newName=t.planName,n.adjustStudyPlanKey=e.key,n.description=t.planDescription,n.approvalComment=t.approvalComments),n.isCohortPlan=e.isCohortPlan,n},e.prototype.approvePlan=function(e,t,n){var l=this,r={};r.dependencyList=[a.l.GetPlanListKey+"_"+t.studyKey,a.l.GetPlanDetails,"GetSourceSummaryKey_"+t.studyKey],n.isPlan?this.callAPI("approvePlan",t,r).pipe(Object(R.a)(1)).subscribe((function(t){l.responseData.next(new Object({response:t,actionItem:e})),l.planApproved.next()})):this.callAPI("approveAdjustStudyPlan",t,r).pipe(Object(R.a)(1)).subscribe((function(t){l.responseData.next(new Object({response:t,actionItem:e})),l.planApproved.next()}))},e.prototype.getDeletePlanPayload=function(e){return{studyKey:e.studyKey,planKey:e.key,version:e.version}},e.prototype.deletePlan=function(e,t){var n=this,l={};l.dependencyList=[a.l.GetPlanListKey+"_"+t.studyKey],this.callAPI("deleteStudyPlan",t,l).subscribe((function(t){n.responseData.next(new Object({response:t,actionItem:e}))}))},e.prototype.getDeletePlanProp=function(){return{heading:this.localeAppResourcesService.getResource("DPTitle"),message:this.errorTermsService.getErrorMessage("AreYouSure")+" delete this plan?",okLabel:this.localeAppResourcesService.getResource(Y.OkLabel),cancelLabel:this.localeAppResourcesService.getResource(Y.CancelLabel)}},e.prototype.getPlanOptionsResources=function(){return{PLAN_ACTION_LABELS:this.getPlanOptionLabels(),BANNER_LABELS:this.getBannerLabels()}},e.prototype.isPlanApprovable=function(e){return!!e.planStatus&&("VALID"===e.planStatus.value||"VALID"===e.planStatus)&&!1===e.isReadOnly},e.prototype.studyMilestonesAchieved=function(e){return!!e&&void 0!==e.FSI&&void 0===e.LSR},e.prototype.checkModulePrivilege=function(e,t){var n,l;try{for(var r=Object(i.__values)(e),a=r.next();!a.done;a=r.next())if(a.value.name===t)return!0}catch(o){n={error:o}}finally{try{a&&!a.done&&(l=r.return)&&l.call(r)}finally{if(n)throw n.error}}return!1},e.prototype.getAllPlanActions=function(){var e=this.getPlanOptionLabels(),t=this.getTooltipLabels();return[{name:e.COPY_PLAN,isVisible:!0,isEnabled:!0,tooltipMsg:t.copyPlanToStudy,hasDivider:!1},{name:e.CREATE_ADJUSTMENT,isVisible:!0,isEnabled:!0,tooltipMsg:t.createAdjustment,hasDivider:!1},{name:e.DELETE_PLAN,isVisible:!0,isEnabled:!0,tooltipMsg:t.deletePlan,hasDivider:!1},{name:e.APPROVE_PLAN,isVisible:!0,isEnabled:!0,tooltipMsg:t.approvePlan,hasDivider:!0}]},e.prototype.getPlanOptionLabels=function(){return{COPY_PLAN:this.localeAppResourcesService.getResource("COPY_PLAN"),CREATE_ADJUSTMENT:this.localeAppResourcesService.getResource("CREATE_ADJUSTMENT"),DELETE_PLAN:this.localeAppResourcesService.getResource("DELETE_PLAN"),APPROVE_PLAN:this.localeAppResourcesService.getResource("APPROVE_PLAN")}},e.prototype.getBannerLabels=function(){return{SUCCESS:{DELETE_PLAN:this.localeAppResourcesService.getResource("SUCCESS_MSG_DELETE_PLAN"),APPROVE_PLAN:this.localeAppResourcesService.getResource("SUCCESS_MSG_APPROVE_PLAN"),COPY_PLAN:{MODAL_HEADING:this.localeAppResourcesService.getResource("COPY_PLAN_SUCCESS_HEADING"),MODAL_MSG_PART_1:this.localeAppResourcesService.getResource("COPY_PLAN_SUCCESS_PART_1"),MODAL_MSG_PART_2:this.localeAppResourcesService.getResource("COPY_PLAN_SUCCESS_PART_2"),MODAL_MSG_PART_3:this.localeAppResourcesService.getResource("COPY_PLAN_SUCCESS_PART_3"),MODAL_ACTION_STAY:this.localeAppResourcesService.getResource("COPY_PLAN_SUCCESS_STAY"),MODAL_ACTION_GO:this.localeAppResourcesService.getResource("COPY_PLAN_SUCCESS_GO")},PLAN_DESIGN:{SAVE_PLAN_DESIGN:this.localeAppResourcesService.getResource("SAVE_PLAN_DESIGN")}}}},e.prototype.showSuccessMessage=function(e){this.snackBar.openFromComponent(a.z,{data:{message:e,icon:"assets/images/manageplans/icon-positive.png",messageType:"positive"},panelClass:["positive-snackbar"]})},e.prototype.getResource=function(e){return this.localeAppResourcesService.getResource(e)},e.prototype.getStudyTagListFunction=function(){var e=this;return function(t){return e.studyListService.getStudyTagList(t)}},e.prototype.getLastVisitedStudyKey=function(){return this.userDataService.getLastVisitedStudyKey()},e.prototype.getLastVisitedStudyName=function(){var e=this.studyListService.getStudyInfoByKey(this.getLastVisitedStudyKey());return e?e.id:""},e.prototype.getUserName=function(){return this.userDataService.getUserName()},e.prototype.callAPI=function(e,t,n){return this.baseConnectionService.sendRequest(this.payloadCommandService.getCommandDetails(e,t,null,null,this.userActionData),n).pipe(Object(m.a)((function(e){return e})))},e.prototype.getErrorMsg=function(e,t){var n=this.errorTermsService.getErrorMessage(t+e);return null!=n&&void 0!==n||(n=this.errorTermsService.getErrorMessage(e)),n},e.prototype.confirmUnSavedChanges=function(){var e=this;this.dialog.open(a.t,{width:K.CONFIRM_UNSAVED_DATA.WIDTH,data:this.getConfirmProp(),panelClass:K.DELETE_PLAN.PANEL_CLASS,id:"warnDataLossOnNavDialog"}).afterClosed().subscribe((function(t){t&&t.action===e.getConfirmProp().okLabel?e.navigateAwaySelection$.next(!0):e.navigateAwaySelection$.next(!1)}))},e.prototype.getConfirmProp=function(){return{heading:this.localeAppResourcesService.getResource("unsavedTitle"),message:this.localeAppResourcesService.getResource("unsavedMessage"),okLabel:this.localeAppResourcesService.getResource(Y.OkLabel),cancelLabel:this.localeAppResourcesService.getResource(Y.CancelLabel)}},e.prototype.getTooltipLabels=function(){return{copyPlanToStudy:"",createAdjustment:this.localeAppResourcesService.getResource("TOOLTIP_CREATE_ADJUSTMENT"),createAdjustmentCheckMilestone:this.localeAppResourcesService.getResource("TOOLTIP_CREATE_ADJ_CHECK_MILESTONE"),deletePlan:"",approvePlan:""}},e}(),me=function(){function e(e,t){this.planOptionsService=e,this.datePipe=t,this.isDisabled=!1,this.studyListInput=new ue,this.planApprovedEvent=new r.EventEmitter}return Object.defineProperty(e.prototype,"userActionData",{set:function(e){e&&(this.planOptionsService.userActionData=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"planData",{set:function(e){this._planData=e,this.planOptions=this.planOptionsService.getPlanActions(e,this.milestone),this.studyListInput.selectedItemKey=this.planOptionsService.getLastVisitedStudyKey()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.studyListInput.placeholder=this.planOptionsService.getResource("StudyListSearch"),this.studyListInput.allListItemsLabel=this.planOptionsService.getResource("AllStudiesView"),this.studyListInput.studyListHeaderLabel=this.planOptionsService.getResource("StudyListHeader"),this.studyListInput.optionTemplate=this.studyListOptionTemplate,this.studyListInput.searchApi=this.planOptionsService.getStudyTagListFunction(),this.planOptionsService.planApproved$.subscribe((function(){e.planApprovedEvent.emit()}))},e.prototype.optionClicked=function(e){var t={studyKey:this.planOptionsService.getLastVisitedStudyKey(),name:this._planData.name||this._planData.planName,key:this._planData.planKey||this._planData.key,version:this._planData.version||this._planData.Version,description:this._planData.description,approver:this.planOptionsService.getUserName(),isPlan:this._planData.isPlan,isCohortPlan:this.isCohortPlan,parentPlankey:this._planData.isPlan?null:this._planData.parentPlankey,plsr:this.dateFormatter(this._planData)};this.planOptionsService.onPlanActionClicked(e,this.planOptionsService.getPlanOptionsResources(),t,this.studyListInput)},e.prototype.dateFormatter=function(e){var t;return e.hasOwnProperty("LSR")?t=e.LSR:e.hasOwnProperty("TLSR")&&(t=e.TLSR),t?this.datePipe.transform(t,"dd")+"-"+this.datePipe.transform(t,"MMM")+"-"+this.datePipe.transform(t,"yyyy"):null},Object.defineProperty(e.prototype,"isCohortPlan",{get:function(){var e;return this._planData&&(this._planData.hasOwnProperty("planDesign")?e="Cohort"===this._planData.planDesign?"Y":"N":this._planData.hasOwnProperty("isCohortPlan")&&(e=this._planData.isCohortPlan)),e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){for(var t in e)if(t&&"planData"===t){var n=e[t];n.currentValue&&this.setPlanInfo(n.currentValue)}},e.prototype.setPlanInfo=function(e){this._planData=e,this.planOptions=this.planOptionsService.getPlanActions(e,this.milestone),this.studyListInput.selectedItemKey=this.planOptionsService.getLastVisitedStudyKey()},e}(),ge=function(){return function(){}}(),ye=function(){function e(){this.planKey=-1,this.selectedCurves=[],this.isDirty=!1,this.selectedLegend=new d.a(null),this.selectedLegend$=this.selectedLegend.asObservable(),this.LegendPref=new d.a(null),this.LegendPref$=this.selectedLegend.asObservable()}return e.prototype.setLegendSelection=function(e){this.selectedLegend.next(e)},e.prototype.setLegendPref=function(e){this.LegendPref.next(e)},e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}(),ve=function(){return function(){}}(),Se=b,Re=function(){function e(e,t,n,l,r,a){this.dateFormat="DD MMM YYYY",this.name=e,this.data=t,this.description=n,this.scaleX=l,this.scaleY=r,this.value=a,this.displayText=e+" : "+Se(t).format(this.dateFormat)}return e.prototype.isTargetLine=function(){return["25%","50%","90%","Planned Sites"].indexOf(this.name)>-1},e.prototype.color=function(){return["LSS","TLSS","PLSS","ALSS","AFSS","PFSS","PrLSS","UpdPrLSS","FroPrLSS"].indexOf(this.name)>-1?"#a9e8b4":["LSR","TLSR","PLSR","ALSR","PrLSR","UpdPrLSR","FroPrLSR","StudyPrLSR","Study PrLSR"].indexOf(this.name)>-1?"#7eb1fb":["Today"].indexOf(this.name)>-1?"#ffb84d":"#bf80ce"},e.prototype.isTargetLineSubjectAxis=function(){return["Planned Screening","Maximum Randomization","Maximum Screening"].indexOf(this.name)>-1},e.prototype.seedNumber=function(){return this.isTargetLine()||this.isTargetLineSubjectAxis()?1:0},e.prototype.width=function(){return 7*this.name.length},e}(),Ce=b,be=function(){function e(e,t,n){var l=this;this.chartElement=e,this.lgdServ=t,this.renderer=n,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.roundDomains=!1,this.schemeType="ordinal",this.curve=A.a,this.activeEntries=[],this.yOrientLeft="left",this.yOrientRight="right",this.showGridLines=!1,this.margin=[0,20,0,20],this.showXAxisLabel=!0,this.xAxisLabel="Enrollment Period",this.showYAxisLabel=!0,this.yAxisLabel="",this.y2AxisLabel="",this.scaleType="linear",this.xAxisHeight=0,this.yAxisWidth=0,this.manualRefresh=new r.EventEmitter,this.targetMileStoneX=new Array,this.targetMileStoneY=new Array,this.dateFormat="DD MMM YYYY",this.collisionSafety=110,this.colisionYfactor=17,this.markers=new Array,this.markerPlots=new Array,this.markerRadius=12,this.milestoneKey="Tar",this.markerKey="Mil",this.widthMargin=0,this.heightMargin=0,this.sliderTop=-32,this.graphRendered=!1,this.allMilestones=[],this.milestonesForCopyOnly={FSI:!0,FroPrLSS:!0,FroPrLSR:!0,AppPSI:!0,AppPFSI:!0,BasPSI:!0,BasPFSI:!0,AdjPSI:!0,AdjPFSI:!0,CurPrSI:!0,CurPrFSI:!0,UpdPrSI:!0,UpdPrFSI:!0,FroPrSI:!0,FroPrFSI:!0,ActFSI:!0},this.sizeChanged=!1,this.dataChanged=!1,this.tempPlannedSite="Planned Sites",this.tempPlannedScreening="Planned Screening",this.tempMaximumScreening="Maximum Screening",this.tempMaximumRandomization="Maximum Randomization",this.aheadBehindData=[],this.pinnedObjects={},this.withoutDateMarkerPlots=[],this.subscriptions=new Array,this.subscriptions.push(this.lgdServ.selectedLegend$.subscribe((function(e){l.preferredCurves=e,l.preferredCurves&&l.ngOnChanges(null)})))}return e.prototype.ngAfterViewInit=function(){this.manualRefresh.emit(),console.log("type =>"+this.type)},e.prototype.ngOnChanges=function(e){this.axisLabels&&(this.yAxisLabel=this.axisLabels.subjects,this.y2AxisLabel=this.axisLabels.sites),this.graphRendered=!1,this.deepCopySegregate(),this.heightMargin=100,this.widthMargin=120,this.render(),this.todaysDateMilestone={axis:"date",name:"date",id:"today",markers:[new Re("Today",Ce(new Date).format("MM/DD/YYYY"),"Today's Date",this.xScaleLine(new Date),0,"NA")]},this.plotMilestones(),this.plotMarkers(),this.collisionDetectionNew(),this.adjustGraph(),e&&e.refresh?(this.sizeChanged=!this.sizeChanged,this.pinnedObjects=this.singlePinnedPoints):e&&!e.refresh&&(this.dataChanged=!this.dataChanged,this.pinnedObjects={},this.singlePinnedPoints={})},e.prototype.adjustGraph=function(){var e=this;window.setTimeout((function(){var t=e.getContainerDims();e.chartElement.nativeElement.querySelectorAll(".ngx-charts-outer")&&e.chartElement.nativeElement.querySelectorAll(".ngx-charts")&&e.chartElement.nativeElement.querySelectorAll(".ngx-charts-outer")[0]&&e.chartElement.nativeElement.querySelectorAll(".ngx-charts")[0]&&t&&(e.renderer.setStyle(e.chartElement.nativeElement.querySelectorAll(".ngx-charts-outer")[0],"width",t.width+"px"),e.renderer.setAttribute(e.chartElement.nativeElement.querySelectorAll(".ngx-charts")[0],"width",t.width),e.renderer.setAttribute(e.chartElement.nativeElement.querySelectorAll(".ngx-charts")[0],"height",t.height)),e.graphRendered=!0,e.sliderTop=-32}),10)},e.prototype.onResize=function(e){var t=this.minValue,n=this.maxValue;this.ngOnChanges(null),this.minValue=t,this.maxValue=n,this.filterData(this.minValue,this.maxValue),this.xDomainLine=[this.minValue,this.maxValue],this.xScaleLine=this.getXScaleLine(this.xDomainLine,this.dims.width),this.plotMilestones(),this.plotMarkers(),this.collisionDetectionNew()},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))},e.prototype.render=function(){var e=this.getContainerDims();e&&(this.width=e.width-this.widthMargin,this.height=e.height-this.heightMargin),this.dims=Object(D.calculateViewDimensions)({width:this.width,height:this.height,margins:this.margin,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,legendType:this.schemeType}),this.view=[this.dims.width,this.dims.height],this.xDomainLine=this.getXDomainLine(),this.yDomainLine=this.getYDomainLine(),this.seriesDomain=this.getSeriesDomain(),this.ySiteDomainLine=this.getYSiteDomainLine(),this.xScaleLine=this.getXScaleLine(this.xDomainLine,this.dims.width),this.yScaleLine=this.getYScaleLine(this.yDomainLine,this.dims.height),this.ySiteScaleLine=this.getYSiteScaleLine(this.ySiteDomainLine,this.dims.height),this.setColors(),this.transform="translate(80,15)",this.options={stepsArray:this.dateRange.map((function(e){return{value:e.getTime()}})),translate:function(e,t){return new Date(e).toDateString()}}},e.prototype.createDateRange=function(){this.dateRange=[],new Date(this.minValue);for(var e=new Date(this.maxValue),t=new Date(this.minValue),n=0;t<e;)(t=new Date(this.minValue)).setDate(t.getDate()+n),this.dateRange.push(t),n++},e.prototype.getXDomainLine=function(){var e,t,n,l,r,a,o,s,u,c,d=[];try{for(var p=Object(i.__values)(this.chartData),h=p.next();!h.done;h=p.next()){var f=h.value;try{for(var m=(n=void 0,Object(i.__values)(f.series)),g=m.next();!g.done;g=m.next())-1===d.indexOf((D=g.value).name)&&d.push(D.name)}catch(E){n={error:E}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(n)throw n.error}}}}catch(T){e={error:T}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}try{for(var y=Object(i.__values)(this.centerInitData),v=y.next();!v.done;v=y.next()){f=v.value;try{for(var S=(o=void 0,Object(i.__values)(f.series)),R=S.next();!R.done;R=S.next())-1===d.indexOf((D=R.value).name)&&d.push(D.name)}catch(I){o={error:I}}finally{try{R&&!R.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}}}catch(L){r={error:L}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(r)throw r.error}}var C=this.getXTMilestone();if(C)try{for(var b=Object(i.__values)(C),P=b.next();!P.done;P=b.next()){var D;-1===d.indexOf((D=P.value).date)&&d.push(new Date(D.date))}}catch(O){u={error:O}}finally{try{P&&!P.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}this.scaleType=this.getScaleType(d);var A=[];return 0===d.length?(this.dateRange=d,[]):("time"===this.scaleType?(d=d.slice().sort((function(e,t){var n=e.getTime(),l=t.getTime();return n>l?1:l>n?-1:0})),this.minValue=new Date(d[0]).getTime(),this.maxValue=new Date(d[d.length-1]).getTime(),this.createDateRange(),A=[this.minValue,this.maxValue]):A=d,this.xSet=d,A)},e.prototype.getYDomainLine=function(){var e,t,n,l,r,a,o=[];try{for(var s=Object(i.__values)(this.chartData),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var d=(n=void 0,Object(i.__values)(c.series)),p=d.next();!p.done;p=d.next())o.indexOf((g=p.value).value)<0&&o.push(g.value),void 0!==g.min&&o.indexOf(g.min)<0&&o.push(g.min),void 0!==g.max&&o.indexOf(g.max)<0&&o.push(g.max)}catch(S){n={error:S}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(n)throw n.error}}}}catch(R){e={error:R}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}var h=this.getYSubTMilestone();if(h)try{for(var f=Object(i.__values)(h),m=f.next();!m.done;m=f.next()){var g;o.indexOf((g=m.value).value)<0&&o.push(g.value)}}catch(C){r={error:C}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}var y=Math.min.apply(Math,Object(i.__spread)(o)),v=Math.max.apply(Math,Object(i.__spread)(o));return[y=Math.min(0,y),v]},e.prototype.getYSiteDomainLine=function(){var e,t,n,l,r=[];try{for(var a=Object(i.__values)(this.centerInitData),o=a.next();!o.done;o=a.next()){var s=o.value;try{for(var u=(n=void 0,Object(i.__values)(s.series)),c=u.next();!c.done;c=u.next()){var d=c.value;r.indexOf(d.value)<0&&r.push(d.value),void 0!==d.min&&r.indexOf(d.min)<0&&r.push(d.min),void 0!==d.max&&r.indexOf(d.max)<0&&r.push(d.max)}}catch(m){n={error:m}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(n)throw n.error}}}}catch(g){e={error:g}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}var p=Math.min.apply(Math,Object(i.__spread)(r)),h=Math.max.apply(Math,Object(i.__spread)(r));p=Math.min(0,p);var f=this.getYDomainLine();return f[0]<0&&(p=f[0]/f[1]*h),[p,h]},e.prototype.getXScaleLine=function(e,t){var n;return"time"===this.scaleType?n=Object(I.scaleTime)().range([0,this.dims.width]).domain(e):"linear"===this.scaleType&&(n=Object(I.scaleLinear)().range([0,this.dims.width]).domain(e),this.roundDomains&&(n=n.nice())),n},e.prototype.getYScaleLine=function(e,t){var n=Object(I.scaleLinear)().range([this.dims.height,0]).domain(e);return this.roundDomains?n.nice():n},e.prototype.getYSiteScaleLine=function(e,t){var n=Object(I.scaleLinear)().range([this.dims.height,0]).domain(e);return this.roundDomains?n.nice():n},e.prototype.getScaleType=function(e){var t,n,l=!0,r=!0;try{for(var a=Object(i.__values)(e),o=a.next();!o.done;o=a.next()){var s=o.value;this.isDate(s)||(l=!1),"number"!=typeof s&&(r=!1)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l?"time":r?"linear":"ordinal"},e.prototype.isDate=function(e){return e instanceof Date},e.prototype.setColors=function(){this.colors=new D.ColorHelper({domain:["#de82f6","#8d8b8e","#93BDAA","\t#479a75","#62a3ef","#ca9bec","#7c93d2","#ead954","#f16170"]},this.schemeType,"ordinal"===this.schemeType?this.xDomainLine:this.yDomainLine,this.centerColor)},e.prototype.getSeriesDomain=function(){return this.combinedSeries=this.chartData.slice(0),this.combinedSeries.push({name:this.yAxisLabel,series:this.chartData}),this.combinedSeries.map((function(e){return e.name}))},e.prototype.hideCircles=function(){this.hoveredVertical=null,this.deactivateAll()},e.prototype.updateHoveredVertical=function(e){this.hoveredVertical=e.value,this.deactivateAll()},e.prototype.deactivateAll=function(){var e,t;this.activeEntries=Object(i.__spread)(this.activeEntries);try{for(var n=Object(i.__values)(this.activeEntries),l=n.next();!l.done;l=n.next())this.deactivate.emit({value:l.value,entries:[]})}catch(r){e={error:r}}finally{try{l&&!l.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.activeEntries=[]},e.prototype.onActivate=function(e){this.activeEntries.findIndex((function(t){return t.name===e.name&&t.value===e.value&&t.series===e.series}))>-1||(this.activeEntries=Object(i.__spread)([e],this.activeEntries),this.activate.emit({value:e,entries:this.activeEntries}))},e.prototype.onDeactivate=function(e){var t=this.activeEntries.findIndex((function(t){return t.name===e.name&&t.value===e.value&&t.series===e.series}));this.activeEntries.splice(t,1),this.activeEntries=Object(i.__spread)(this.activeEntries),this.deactivate.emit({value:e,entries:this.activeEntries})},e.prototype.filterData=function(e,t){this.chartData.forEach((function(n){n.series=n.series.filter((function(n){return new Date(n.name)>=new Date(e)&&new Date(n.name)<=new Date(t)}))})),this.centerInitData.forEach((function(n){n.series=n.series.filter((function(n){return new Date(n.name)>=new Date(e)&&new Date(n.name)<=new Date(t)}))}))},e.prototype.onSlideValueChange=function(){this.deepCopySegregate(),this.filterData(this.minValue,this.maxValue),this.xDomainLine=[this.minValue,this.maxValue],this.xScaleLine=this.getXScaleLine(this.xDomainLine,this.dims.width),this.plotMilestones(),this.plotMarkers(),this.collisionDetectionNew()},e.prototype.deepCopySegregate=function(){var e,t=this;this.chartData=new Array,this.centerInitData=new Array,this.activeTooltipArea=new Array,this.combinedData&&this.combinedData.length>0&&this.combinedData.forEach((function(n){t.preferredCurves&&t.checkLegendState(n.code)&&((e=new ge).name=n.name,e.code=n.code,e.code.indexOf("SI")>-1?(e.series=Object.assign([],n.series),t.centerInitData=Object(i.__spread)(t.centerInitData,[e])):(e.series=Object.assign([],n.series),t.chartData=Object(i.__spread)(t.chartData,[e])),t.activeTooltipArea=Object(i.__spread)(t.activeTooltipArea,[e]))}))},e.prototype.checkLegendState=function(e){for(var t=0;t<this.preferredCurves.length;t++)if(e&&e.indexOf(this.preferredCurves[t])>-1)return!0;return!1},e.prototype.getSelectedMarkerFromLegend=function(e){var t=new Array;return this.milestoneData&&this.milestoneData.markers&&(t=this.milestoneData.markers.filter((function(t){return e.indexOf(t.id)>-1}))),t},e.prototype.clearMileStoneShapes=function(){this.targetMileStoneX=[],this.targetMileStoneY=[]},e.prototype.clearMarkerShapes=function(){this.markerPlots=[]},e.prototype.plotOnlyTodayDateMilestone=function(){this.markerPlots=Object(i.__spread)(this.todaysDateMilestone.markers)},e.prototype.plotMarkers=function(){var e=this;if(this.preferredCurves){if(this.preferredCurves.indexOf(this.markerKey)<0&&this.preferredCurves.indexOf("today")<0)return void this.clearMarkerShapes();if(this.preferredCurves.indexOf(this.markerKey)<0&&this.preferredCurves.indexOf("today")>-1)return void this.plotOnlyTodayDateMilestone()}this.preferredCurves&&(this.markers=this.getSelectedMarkerFromLegend(this.preferredCurves)),this.markerPlots=[],this.markers&&this.markers.length>0&&(this.markers.filter((function(t){return new Date(t.date)>=new Date(e.minValue)&&new Date(t.date)<=new Date(e.maxValue)})).forEach((function(t){if(!e.milestonesForCopyOnly[t.name]){var n=e.centerColor.filter((function(e){return e.name===t.code}));n&&(t.color=n[0].value),t.scaleX=e.xScaleLine(new Date(t.date)),"25%"===t.name||"50%"===t.name||"90%"===t.name?(t.scaleX=0,t.scaleY=e.ySiteScaleLine(t.value)):t.scaleY=0,e.markerPlots.push(new Re(t.name,t.date,t.description,t.scaleX,t.scaleY,t.value))}})),this.withoutDateMarkerPlots=[],this.markers.filter((function(t){return t.name===e.tempPlannedSite||t.name===e.tempPlannedScreening||t.name===e.tempMaximumRandomization||t.name===e.tempMaximumScreening})).forEach((function(t){"subject"===t.axis?(t.scaleY=e.yScaleLine.domain()[1]<t.value?0:e.yScaleLine(t.value),t.scaleX=e.dims.width+1):"site"===t.axis&&(t.scaleY=e.ySiteScaleLine.domain()[1]<t.value?0:e.ySiteScaleLine(t.value),t.scaleX=0),e.withoutDateMarkerPlots.push(new Re(t.name," ",t.description,t.scaleX,t.scaleY,t.value))})),this.markerPlots=this.preferredCurves.indexOf("today")>-1?Object(i.__spread)(this.withoutDateMarkerPlots,this.todaysDateMilestone.markers,this.markerPlots):Object(i.__spread)(this.withoutDateMarkerPlots,this.markerPlots))},e.prototype.isMileStoneSelected=function(){return!!(this.preferredCurves&&this.preferredCurves.indexOf(this.milestoneKey)>0)},e.prototype.plotMilestones=function(){var e=this,t=new Array;this.milestoneData&&this.milestoneData.targetMileStone&&(t=this.milestoneData.targetMileStone),this.isMileStoneSelected()?(this.targetMileStoneX=[],this.targetMileStoneY=[],t&&(t.filter((function(t){return"date"===t.axis&&new Date(t.date)>=new Date(e.minValue)&&new Date(t.date)<=new Date(e.maxValue)})).forEach((function(t){e.targetMileStoneX.push(new Re(t.name,t.date,t.description,e.xScaleLine(new Date(t.date)),0,-1))})),this.targetMileStoneX.sort((function(e,t){return new Date(e.data).getTime()-new Date(t.data).getTime()})),t.filter((function(t){return"subject"===t.axis&&t.value>=e.yDomainLine[0]&&t.value<=e.yDomainLine[1]})).forEach((function(t){e.targetMileStoneY.push(new Re(t.description,t.value,t.description,e.dims.width-40,e.yScaleLine(t.value),t.value))})))):this.clearMileStoneShapes()},e.prototype.getMileStoneRTTooltipData=function(e,t,n){return t+"\n "+n},e.prototype.getMileStoneTooltipData=function(e,t,n){return t+"\n ("+Ce(n).format(this.dateFormat)+")"},e.prototype.getMarkerTooltipData=function(e,t,n,l){return t+"\n\n ("+Ce(n).format(this.dateFormat)+")"},e.prototype.getTargetLineTooltipData=function(e,t){return e+" ("+t+")"},e.prototype.onActivateDeactivate=function(e){console.log("in onActivateDeactivate")},e.prototype.getContainerDims=function(){var e,t,n=this.chartElement.nativeElement;if(null!==n.parentNode){var l=n.parentNode.getBoundingClientRect();e=l.width,t=l.height}return e&&t?{width:e,height:t}:null},e.prototype.collisionDetectionNew=function(){this.allMilestones=[],this.allMilestones=Object(i.__spread)(this.targetMileStoneY,this.targetMileStoneX,this.markerPlots),this.allMilestones.sort((function(e,t){return t.seedNumber()-e.seedNumber()>0?1:t.seedNumber()===e.seedNumber()&&t.seedNumber()>0&&t.value>e.value?1:t.seedNumber()===e.seedNumber()&&t.seedNumber()>0&&t.value<e.value?-1:t.seedNumber()!==e.seedNumber()&&t.seedNumber()>0?1:t.seedNumber()!==e.seedNumber()&&e.seedNumber()>0?-1:0}));for(var e=0;e<this.allMilestones.length;e++)if(this.allMilestones[e].x=this.allMilestones[e].scaleX-this.collisionSafety/2,this.allMilestones[e].y=this.allMilestones[e].scaleY,this.allMilestones[e].scaleX<this.collisionSafety/2?this.allMilestones[e].x=0:this.allMilestones[e].scaleX>this.dims.width-this.collisionSafety/2&&(this.allMilestones[e].x=this.dims.width-this.collisionSafety),this.allMilestones[e].isTargetLine()||this.allMilestones[e].isTargetRandomization()||this.allMilestones[e].isTargetScreening())for(t=0;t<e;t++)this.allMilestones[t].isTargetLine()&&this.allMilestones[e].isTargetLine()&&Math.abs(this.allMilestones[t].y-this.allMilestones[e].y)<this.colisionYfactor?this.allMilestones[e].x=this.allMilestones[t].x+this.allMilestones[t].width():this.allMilestones[t].isTargetRandomization()&&this.allMilestones[e].isTargetRandomization()&&Math.abs(this.allMilestones[t].y-this.allMilestones[e].y)<this.colisionYfactor?this.allMilestones[e].y=this.allMilestones[t].y-10:this.allMilestones[t].isTargetScreening()&&this.allMilestones[e].isTargetScreening()&&Math.abs(this.allMilestones[t].y-this.allMilestones[e].y)<this.colisionYfactor?this.allMilestones[e].y=this.allMilestones[t].y-10:!this.allMilestones[t].isTargetLine()&&!this.allMilestones[e].isTargetLine()&&Math.abs(this.allMilestones[t].y-this.allMilestones[e].y)<this.colisionYfactor&&(this.allMilestones[e].x=this.allMilestones[t].x-5-this.allMilestones[e].width());else for(var t=0;t<e;t++)(this.allMilestones[t].isTargetLine()||this.allMilestones[t].isTargetRandomization()||this.allMilestones[t].isTargetScreening())&&Math.abs(this.allMilestones[t].y-this.allMilestones[e].y)<this.colisionYfactor&&Math.abs(this.allMilestones[t].x-this.allMilestones[e].x)<this.collisionSafety?(this.allMilestones[e].y=this.allMilestones[t].y+this.colisionYfactor+1,this.allMilestones[e].scaleY=this.allMilestones[e].y,t=0):Math.abs(this.allMilestones[e].x-this.allMilestones[t].x)<this.collisionSafety&&Math.abs(this.allMilestones[t].y-this.allMilestones[e].y)<this.colisionYfactor&&(this.allMilestones[e].y=this.allMilestones[t].y+this.colisionYfactor+1,this.allMilestones[e].scaleY=this.allMilestones[e].y,t=0);this.plotAheadBehindData(this.allMilestones)},e.prototype.getXTMilestone=function(){return this.milestoneData&&this.milestoneData.targetMileStone?this.milestoneData.targetMileStone.filter((function(e){return"date"===e.axis})):null},e.prototype.getYSubTMilestone=function(){return this.milestoneData&&this.milestoneData.targetMileStone?this.milestoneData.targetMileStone.filter((function(e){return"subject"===e.axis})):null},e.prototype.toInt=function(e){return parseInt(e,0)},e.prototype.plotAheadBehindData=function(e){var t,n,l,r,a,o=[];e.filter((function(e){return"PLSR"===e.name||"TLSR"===e.name||"Today"===e.name})).forEach((function(e){"Today"===e.name?t=e.scaleX:"PLSR"===e.name?n=e.scaleX:"TLSR"===e.name&&(l=e.scaleX)})),n&&l&&this.preferredCurves.indexOf("aheadBehind")>-1&&(n-l>0?(r="#F6D7DB",a=n-l):(r="#b9ccec",a=l-n),o.push({color:r,x:n-l>0?l:n,y:0,width:a,height:this.dims.height})),t&&this.preferredCurves.indexOf("today")>-1&&this.xScaleLine(this.xDomainLine[1])-t>0&&o.push({color:"#e69e26",x:t,y:0,width:this.xScaleLine(this.xDomainLine[1])-t,height:this.dims.height}),this.aheadBehindData=o},e.prototype.collectPins=function(e){this.singlePinnedPoints=e},e}(),Pe=function(){function e(e){this.lgdServ=e,this.approved=["AppPSR","AppPSI","AppPSS","ActPSR","ActSI","ActSS","ActSF","ActDO","UpdPrSI","UpdPrSR","UpdPrSS","Act","Tar","Mil"],this.adjustment=["AdjPSR","AdjPSI","AdjPSS","ActPSR","ActSI","ActSS","ActSF","ActDO","UpdPrSI","UpdPrSR","UpdPrSS","Act","Tar","Mil"],this.previous=["AppPSR","AppPSI","AppPSS","ActPSR","ActSI","ActSS","ActSF","ActDO","UpdPrSI","UpdPrSR","UpdPrSS","Act","Tar","Mil"],this.base=["BasPSR","BasPSI","BasPSS","ActPSR","ActSI","ActSS","ActSF","ActDO","UpdPrSI","UpdPrSR","UpdPrSS","Act","Tar","Mil"],this.ExpandCollapse=new u.a,this.TriggerChange=new u.a,this.isExpand=!1,this.pressed=!1,this.presentCurves={}}return e.prototype.ngOnChanges=function(e){var t=this;if(e&&e.preference&&(this.lgdServ.selectedCurves=this.preference),this.lgdServ.isDirty=!1,this.presentCurves={},this.lgdServ.selectedCurves&&this.lgdServ.selectedCurves.length>0&&this.chartData instanceof Array)this.chartData.forEach((function(e){t.presentCurves[e.code]=!0})),this.addOtherCurves(),this.groups.forEach((function(e){e.value.forEach((function(n){if(e.checked=!1,t.presentCurves[n.value]&&!n.hasOwnProperty("dependOn"))n.disabled=!1,n.checked=t.lgdServ.selectedCurves.indexOf(n.value)>-1;else if(t.presentCurves[n.value]&&n.hasOwnProperty("dependOn"))t.lgdServ.selectedCurves.indexOf(n.dependOn)>-1&&t.lgdServ.selectedCurves.indexOf(n.value)<0&&t.lgdServ.selectedCurves.push(n.value),n.disabled=!1,n.checked=t.lgdServ.selectedCurves.indexOf(n.value)>-1;else if(!t.presentCurves[n.value]&&n.hasOwnProperty("dependOn")){var l=t.lgdServ.selectedCurves.indexOf(n.value);l>-1&&t.lgdServ.selectedCurves.splice(l,1),n.disabled=!0,n.checked=!1}else n.disabled=!0,n.checked=!1}))})),this.TriggerChange.next(!1);else if(0===this.lgdServ.selectedCurves.length){var n=[];switch(this.presentCurves={},this.profile.type){case"Adjustment":n=this.adjustment;break;case"Approved":n=this.approved;break;case"PreviouslyApproved":n=this.previous;break;case"Base":n=this.base}n.length>0&&(this.lgdServ.selectedCurves=n,this.preference=n,this.chartData instanceof Array&&this.groups&&(this.chartData.forEach((function(e){t.presentCurves[e.code]=!0})),this.addOtherCurves(),this.groups.forEach((function(e){e.value.forEach((function(l){e.checked=!1,t.presentCurves[l.value]?(l.disabled=!1,l.checked=n.indexOf(l.value)>-1):(l.disabled=!0,l.checked=!1)}))})),this.TriggerChange.next(!1)))}this.lgdServ.planKey=this.profile.key},e.prototype.xpandAllLegend=function(){this.pressed=!this.pressed,this.ExpandCollapse.next(this.pressed)},e.prototype.changePref=function(e){this.lgdServ.setLegendSelection(this.preference),this.preference&&this.lgdServ.setLegendPref(this.preference)},e.prototype.OnLegendState=function(e){this.isExpand=e},e.prototype.addOtherCurves=function(){for(var e=["App","Bas","Act","Adj","CurPr","UpdPr","FroPr","CBApp","CBBas","CBCurPr","CBAdj","EP","Ext"],t=0;t<e.length;t++)for(var n in this.presentCurves)if(n.indexOf(e[t])>-1){this.presentCurves[e[t]]=!0;break}this.presentCurves.Tar=!0,this.presentCurves.Mil=!0,this.presentCurves.today=!0,this.presentCurves.aheadBehind=!0},e}(),De=function(){function e(){}return e.prototype.transform=function(e){return e&&isNaN(e)&&e.match("^[0-9]{4}-[0-1][0-9]-[0-3][0-9]")?new l.DatePipe("en-US").transform(e,"dd-MMM-yyyy"):e},e}(),Ae=function(){function e(){this.changeSelection=new r.EventEmitter,this.selectionChange=new r.EventEmitter,this.disableRipple=!0,this.selected=[]}return e.prototype.ngOnInit=function(){var t=this;this.parentSubject.subscribe((function(n){console.log("In subscribe function -> "+n),n?(document.getElementById("legendHolder").style.height="300px",t.mySelect.open(e,{panelClass:"myapp-no-padding-dialog"})):(document.getElementById("legendHolder").style.height="40px",t.mySelect.close())})),this.selectAllStateSet()},e.prototype.ngOnDestroy=function(){this.parentSubject.unsubscribe()},e.prototype.ngOnChanges=function(){},e.prototype.onChange=function(e){var t=this;this.selected=[],this.data.forEach((function(n){e.checked&&!n.disabled?(t.selected.push(n.value),n.checked=!0):n.checked=!1}))},e.prototype.onSelectionChange=function(e){this.data.forEach((function(t){t.checked=e.value.indexOf(t.value)>-1})),this.changeSelection.emit({id:this.id,selection:e.value})},e.prototype.openDropdown=function(e){},e.prototype.selectAllStateSet=function(){var e=this,t=this.data.length,n=0;this.selected=[],this.data.forEach((function(l){l.disabled?t-=1:l.checked&&(n+=1,e.selected.push(l.value))})),t>0&&t===n?(this.indeterminate=!1,this.checked=!0):t>0&&n>0&&t>n?(this.indeterminate=!0,this.checked=!1):(this.indeterminate=!1,this.checked=!1)},e}(),Ee=function(){function e(){var e=this;this.diagram=new O.Diagram,this.myModel=new O.Model,this.modelChanged=new r.EventEmitter,this.nodeSelected=new r.EventEmitter,O.Diagram.licenseKey="73f041e4b21c28c702d95d76423d6cbc5cf07f21de824aa3595016a7b85f6a122b99e17102d6dfd2c2fc1dac1d7d978a8a953c2bc24c5533e236d1d417e7d4fbe73726b5110b13dda70773949bf92ba7fb7077fa91b025f28e7c8ce0fbae96cc5ae8a18449d81eb828780e2e5f61af42",this.goJsObj=O.GraphObject.make,this.diagram=new O.Diagram,this.diagram.initialContentAlignment=O.Spot.LeftCenter,this.diagram.allowCopy=!1,this.diagram.allowMove=!0,this.diagram.defaultCursor="default",this.diagram.undoManager.isEnabled=!0,this.diagram.animationManager.isEnabled=!1,this.diagram.animationManager.stopAnimation(),this.diagram.addDiagramListener("ChangedSelection",(function(t){var n=t.diagram.selection.first();e.nodeSelected.emit(n instanceof O.Node?n:null)})),this.diagram.addModelChangedListener((function(t){return t.isTransactionFinished&&e.modelChanged.emit(t)}))}return Object.defineProperty(e.prototype,"model",{set:function(e){if(this.diagram.model=e,this.nodeList=e.nodeDataArray,this.dataIndex=0,this.selectedNode&&Object.keys(this.selectedNode).length>0&&this.nodeList)for(var t=0;t<this.nodeList.length;t++)"cohort"===this.selectedNode.category&&this.nodeList[t].cohortKey===this.selectedNode.key&&(this.dataIndex=t),"dependency"===this.selectedNode.category&&this.nodeList[t].dependencyKey===this.selectedNode.key&&(this.dataIndex=t);this.diagram.select(this.diagram.findNodeForData(e.nodeDataArray[this.dataIndex]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isApprovedPlan",{set:function(e){this.diagram.isReadOnly=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.diagram.div=this.diagramRef.nativeElement,this.diagram.linkTemplate=this.goJsObj(O.Link,{relinkableFrom:!1,relinkableTo:!1},this.goJsObj(O.Shape,{strokeWidth:.5},new O.Binding("stroke","fromNode",(function(e){return e.data.category})).ofObject()),new O.Binding("deletable","isEditable")),this.diagram.toolManager.linkingTool.linkValidation=function(e,t,n,l){return e.data.category!==n.data.category};var e=this.goJsObj(O.Node,"Auto",new O.Binding("location","loc",O.Point.parse).makeTwoWay(O.Point.stringify),this.goJsObj(O.Shape,"RoundedRectangle",{stroke:"gray",strokeWidth:.5,width:180,fill:"#fefefe",portId:"",cursor:"pointer",fromLinkable:!0,fromLinkableSelfNode:!1,fromLinkableDuplicates:!1,toLinkable:!0,toLinkableSelfNode:!1,toLinkableDuplicates:!1,fromSpot:O.Spot.RightSide,toSpot:O.Spot.LeftSide},new O.Binding("fill","color")),this.goJsObj(O.TextBlock,{width:140,font:"bold 12px sans-serif",stroke:"#111",margin:5,isMultiline:!1,editable:!1,textAlign:"left",cursor:"grab",verticalAlignment:O.Spot.Center,text:'textAlign: "left"'},new O.Binding("text","cohortName").makeTwoWay()),new O.Binding("deletable","isEditable"),this.goJsObj(O.Picture,{width:22,height:22,source:"./assets/images/enrollmentPause.svg",alignment:new O.Spot(1,0,-17,1),opacity:0},new O.Binding("opacity","isIAPresent",(function(e){return e?1:0})))),t=this.goJsObj(O.Node,"Auto",new O.Binding("location","loc",O.Point.parse).makeTwoWay(O.Point.stringify),this.goJsObj(O.Picture,{width:40,height:40,source:"./assets/images/dependency.png"},{cursor:"pointer",portId:"",fromLinkable:!0,fromLinkableSelfNode:!1,fromLinkableDuplicates:!1,toLinkable:!0,toLinkableSelfNode:!1,toLinkableDuplicates:!1}),this.goJsObj(O.TextBlock,{font:"bold 11px sans-serif",stroke:"#111",margin:2,isMultiline:!1,editable:!1,textAlign:"left"},new O.Binding("text","dependencyName")),new O.Binding("deletable","isEditable")),n=new O.Map;n.add("cohort",e),n.add("dependency",t),this.diagram.nodeTemplateMap=n,this.diagram.validCycle=O.Diagram.CycleNotDirected},e}(),Te=function(){function e(e){this.lgdServ=e,this.changeSelection=new r.EventEmitter,this.LegendState=new r.EventEmitter,this.legendColor={},this.isExpanded=!1,this.multimode=[]}return e.prototype.ngOnInit=function(){var e=this;console.log("In custom legend - ngOnInit"),this.ExpandCollapse.subscribe((function(t){e.isExpanded=!e.isExpanded,e.isExpanded?(document.getElementById("legendHolder").style.height="300px",e.openCloseDropdowns(document.getElementsByClassName("dropdown-content"),"open")):(document.getElementById("legendHolder").style.height="40px",e.openCloseDropdowns(document.getElementsByClassName("dropdown-content"),"remove")),e.LegendState.emit(e.isExpanded)})),this.trigger.subscribe((function(t){e.ngOnChanges(null)})),this.color&&(this.color.forEach((function(t){e.legendColor[t.name]=t.value})),this.legendColor.UpdPrSI="#E44686",this.legendColor.UpdPrSR="#BFD8FF",this.legendColor.UpdPrSS="#FFAC38")},e.prototype.ngOnChanges=function(e){this.selectedCurves=[],this.collectMultiModalProps(),this.updateStateOfAcrossTypes(),this.selectAllStatusCheck(),this.changeSelection.emit(this.selectedCurves)},e.prototype.openCloseDropdowns=function(e,t){if("open"===t)for(var n=0;n<e.length;n++)e[n].classList.add("show");else for(n=0;n<e.length;n++)e[n].classList.remove("show")},e.prototype.ngOnDestroy=function(){this.ExpandCollapse.unsubscribe(),this.trigger.unsubscribe()},e.prototype.openDropDown=function(e){document.getElementById(e).classList.toggle("show"),0===document.getElementsByClassName("dropdown-content show").length&&(document.getElementById("legendHolder").style.height="40px",this.isExpanded=!1,this.LegendState.emit(this.isExpanded))},e.prototype.onCheckboxChange=function(e){if(this.multimode.indexOf(e.target.value)>-1)this.setStateOfAcrossTypes(e.target.value,e.target.checked);else{var t=this.lgdServ.selectedCurves.indexOf(e.target.value);this.lgdServ.selectedCurves&&t>-1?this.lgdServ.selectedCurves.splice(t,1):this.lgdServ.selectedCurves.push(e.target.value)}this.updateStateOfAcrossTypes(),this.selectAllStatusCheck(),this.changeSelection.emit(this.selectedCurves)},e.prototype.onSelectAllChange=function(e){for(var t=this,n=e.srcElement.value,l=0;l<this.data.length;l++){if(n===this.data[l].id&&!this.data[l].hasOwnProperty("multimode")){(a=this.data[l]).value.forEach((function(n){if(!n.disabled){n.checked=e.srcElement.checked;var l=t.lgdServ.selectedCurves.indexOf(n.value);e.srcElement.checked&&-1===l?t.lgdServ.selectedCurves.push(n.value):!e.srcElement.checked&&l>-1&&t.lgdServ.selectedCurves.splice(l,1)}n.checked&&t.selectedCurves.indexOf(n.value)<0?t.selectedCurves.push(n.value):!n.checked&&t.selectedCurves.indexOf(n.value)>-1&&t.selectedCurves.splice(t.selectedCurves.indexOf(n.value),1)}));break}if(n===this.data[l].id&&this.data[l].hasOwnProperty("multimode")){this.selectedCurves=[];for(var r=0;r<4;r++){var a=this.data[r].value;this.data[r].checked=e.srcElement.checked;for(var o=0;o<a.length;o++){if(!a[o].disabled){a[o].checked=e.srcElement.checked;var i=this.lgdServ.selectedCurves.indexOf(a[o].value);e.srcElement.checked&&-1===i?this.lgdServ.selectedCurves.push(a[o].value):!e.srcElement.checked&&i>-1&&this.lgdServ.selectedCurves.splice(i,1)}e.srcElement.checked&&!this.data[r].hasOwnProperty("multimode")&&this.selectedCurves.push(a[o].value)}}break}}this.updateStateOfAcrossTypes(),this.selectAllStatusCheck(),this.changeSelection.emit(this.selectedCurves)},e.prototype.selectAllStatusCheck=function(){this.selectedCurves=[];for(var e=0;e<this.data.length;e++){var t=this.data[e].value;this.data[e].checked=!0;for(var n=0;n<t.length;n++)t[n].disabled||t[n].checked?t[n].checked&&!t[n].multimode&&this.selectedCurves.push(t[n].value):this.data[e].checked=!1}},e.prototype.collectMultiModalProps=function(){this.multimode=[];for(var e=0;e<this.data.length;e++)if(this.data[e].hasOwnProperty("multimode"))for(var t=this.data[e].value,n=0;n<t.length;n++)this.multimode.push(t[n].value)},e.prototype.setStateOfAcrossTypes=function(e,t){for(var n=0;n<4;n++)for(var l=this.data[n].value,r=0;r<l.length;r++){var a=l[r].value.indexOf(e);if(!l[r].disabled&&a>-1){l[r].checked=t;var o=this.lgdServ.selectedCurves.indexOf(l[r].value);if(t&&a>-1)this.selectedCurves.push(l[r].value),-1===o&&this.lgdServ.selectedCurves.push(l[r].value);else if(!t&&a>-1){var i=this.selectedCurves.indexOf(l[r].value);i>-1&&this.selectedCurves.splice(i,1),o>-1&&this.lgdServ.selectedCurves.splice(o,1)}}}},e.prototype.updateStateOfAcrossTypes=function(){for(var e=this.data[4].value,t=0;t<e.length;t++)if(!e[t].disabled)for(var n=0;n<4;n++){for(var l=this.data[n].value,r=0;r<l.length;r++)if(l[r].value.indexOf(e[t].value)>-1&&!l[r].disabled){e[t].checked=l[r].checked,e[t].checked&&this.selectedCurves&&this.selectedCurves.indexOf(e[t].value)<0&&this.selectedCurves.push(e[t].value);break}if(!e[t].checked)break}},e}(),Ie=b,Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastAnchorPoss=[],t.dateFormat="DD MMM YYYY",t.anchorPosIndex=-1,t.anchors={},t.maxTooltipLength=0,t.getToolTipTextDate="",t}return Object(i.__extends)(t,e),t.prototype.ngOnInit=function(){this.anchors={},this.anchorPosIndex=-1},t.prototype.ngOnDestroy=function(){this.anchors=null,this.anchorPosIndex=-1},t.prototype.ngOnChanges=function(e){e&&e.sizeChanged&&e.sizeChanged.currentValue!==e.sizeChanged.previousValue?this.onResize(null):e&&e.dataChanged&&e.dataChanged.currentValue!==e.dataChanged.previousValue&&(this.anchors={},this.anchorPosIndex=-1,Object(P.b)(this.anchorHolder.nativeElement).selectAll("*").remove())},t.prototype.hideTooltip=function(){this.tooltipAnchor&&e.prototype.hideTooltip.call(this)},t.prototype.pinTooltip=function(){var e=this;console.log("ExtendedNgxTooltipAreaComponent -> pinTooltip"),this.lastAnchorPoss.indexOf(this.anchorPosIndex)<0&&this.anchorValues.length>0&&(this.anchors[this.anchorPosIndex]=this.anchorValues,this.maxTooltipLength=0,this.anchorValues.forEach((function(t){e.maxTooltipLength<t.series.length&&(e.maxTooltipLength=t.series.length)})),this.createAnchor(this.anchorPosIndex),this.lastAnchorPoss.push(this.anchorPosIndex),console.log(this.anchorValues))},t.prototype.createAnchor=function(e){var t=this.xScale(this.xSet[e]);t=Math.max(0,t),t=Math.min(this.dims.width,t);var n=this;Object(P.b)(this.anchorHolder.nativeElement).append("rect").on("click",(function(){n.onRemove(this,n)})).attr("x",t).attr("class","a"+e).attr("width","2").attr("height",this.dims.height),Object(P.b)(this.anchorHolder.nativeElement).append("rect").on("click",(function(){n.onRemove(this,n)})).attr("fill","#000").attr("opacity",.7).attr("x",t+20).attr("y",this.dims.height/2).attr("rx",3).attr("ry",3).attr("class","a"+e).attr("height",15*this.anchorValues.length+15).attr("width",6.5*this.maxTooltipLength+10),Object(P.b)(this.anchorHolder.nativeElement).selectAll("a"+e).data(this.anchorValues).enter().append("rect").on("click",(function(){n.onRemove(this,n)})).attr("rx",3).attr("ry",3).attr("x",t+23).attr("y",(function(e,t){return n.dims.height/2+10*t+3*(t+1)})).attr("width",10).attr("height",10).style("fill",(function(e){return e.color})).attr("class","a"+e),Object(P.b)(this.anchorHolder.nativeElement).selectAll("a"+e).data(this.anchorValues).enter().append("text").on("click",(function(){n.onRemove(this,n)})).text((function(e,t){return e.series+" : "+Math.abs(e.value)})).attr("x",t+35).attr("y",(function(e,t){return n.dims.height/2+13*t+11})).attr("class","a"+e).style("fill","#fff").style("font-family","apollo"),Object(P.b)(this.anchorHolder.nativeElement).append("text").on("click",(function(){n.onRemove(this,n)})).attr("x",t+35).attr("y",n.dims.height/2+13*n.anchorValues.length+11).style("fill","#fff").attr("class","a"+e).text(Ie(this.anchorValues[0].name).format(this.dateFormat))},t.prototype.onRemove=function(e,t){for(var n="",l=0;l<e.classList.length;l++)if(e.classList[l].indexOf("a")>-1){n=e.classList[l];break}if(n.length>1)for(Object(P.b)(this.anchorHolder.nativeElement).selectAll("."+n).remove(),l=0;l<t.lastAnchorPoss.length;l++)if(n.indexOf(t.lastAnchorPoss[l])>-1){this.anchors[this.lastAnchorPoss[l]]&&delete this.anchors[this.lastAnchorPoss[l]],this.lastAnchorPoss.splice(l,1);break}},t.prototype.mouseMove=function(e){var t=e.pageX-e.target.getBoundingClientRect().left,n=this.findClosestPointIndex(t);this.anchorPosIndex=n;var l=this.xSet[n];if(this.anchorPos=this.xScale(l),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(l),this.anchorPos!==this.lastAnchorPos&&this.tooltipAnchor){var r=new MouseEvent("mouseleave",{bubbles:!1});this.tooltipAnchor.nativeElement.dispatchEvent(r),this.anchorOpacity=.7,this.hover.emit({value:l}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}},t.prototype.getToolTipText=function(e){var t="";return t+=void 0!==e.series?e.series:"???",t+=": ",void 0!==e.value&&(t+=e.value<0?(-1*e.value).toLocaleString():e.value.toLocaleString()),void 0===e.min&&void 0===e.max||(t+=" (",void 0!==e.min?(void 0===e.max&&(t+="≥"),t+=e.min.toLocaleString(),void 0!==e.max&&(t+=" - ")):void 0!==e.max&&(t+="≤"),void 0!==e.max&&(t+=e.max.toLocaleString()),t+=")"),void 0!==e.name&&(this.getToolTipTextDate=Ie(e.name).format(this.dateFormat)),t},t.prototype.retainAnchor=function(e){var t,n,l=this;try{for(var r=Object(i.__values)(Object.keys(e)),a=r.next();!a.done;a=r.next()){var o=Number(a.value),s=this.xScale(this.xSet[o]);s=Math.max(0,s),s=Math.min(this.dims.width,s);var u=e[o];Object(P.b)(this.anchorHolder.nativeElement).append("rect").on("click",(function(){l.onRemove(this,l)})).attr("x",s).attr("class","a"+o).attr("width","2").attr("height",this.dims.height),Object(P.b)(this.anchorHolder.nativeElement).append("rect").on("click",(function(){l.onRemove(this,l)})).attr("fill","#000").attr("opacity",.7).attr("x",s+20).attr("y",this.dims.height/2).attr("rx",3).attr("ry",3).attr("class","a"+o).attr("height",15*u.length+15).attr("width",6.5*this.maxTooltipLength+10),Object(P.b)(this.anchorHolder.nativeElement).selectAll("a"+o).data(u).enter().append("rect").on("click",(function(){l.onRemove(this,l)})).attr("rx",3).attr("ry",3).attr("x",s+23).attr("y",(function(e,t){return l.dims.height/2+10*t+3*(t+1)})).attr("width",10).attr("height",10).style("fill",(function(e){return e.color})).attr("class","a"+o),Object(P.b)(this.anchorHolder.nativeElement).selectAll("a"+o).data(u).enter().append("text").on("click",(function(){l.onRemove(this,l)})).text((function(e,t){return e.series+" : "+Math.abs(e.value)})).attr("x",s+35).attr("y",(function(e,t){return l.dims.height/2+13*t+11})).attr("class","a"+o).style("fill","#fff").style("font-family","apollo"),Object(P.b)(this.anchorHolder.nativeElement).append("text").on("click",(function(){l.onRemove(this,l)})).attr("x",s+35).attr("y",l.dims.height/2+13*u.length+11).style("fill","#fff").attr("class","a"+o).text(Ie(u[0].name).format(this.dateFormat))}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},t.prototype.onResize=function(e){Object(P.b)(this.anchorHolder.nativeElement).selectAll("*").remove(),this.retainAnchor(this.anchors)},t}(L.c),Oe=b,_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collectPins=new r.EventEmitter,t.dateFormat="DD MMM YYYY",t}return Object(i.__extends)(t,e),t.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),t&&t.pinnedObject&&t.pinnedObject.currentValue!==t.pinnedObject.previousValue&&(Object(P.b)(this.anchorHolderO.nativeElement).selectAll("*").remove(),this.onResize())},t.prototype.pinTooltip=function(e){var t=e.seriesName.length+4,n=this;n.pinnedObject["c"+e.value]={cx:e.cx,cy:e.cy,seriesName:e.seriesName,value:e.value,label:e.label,color:e.color},Object(P.b)(this.anchorHolderO.nativeElement).append("rect").on("click",(function(){n.onRemove(this,n)})).attr("fill","#000").attr("opacity",.7).attr("rx",3).attr("ry",3).attr("x",e.cx-40).attr("y",e.cy-50).attr("class","c"+Math.abs(e.value)).attr("height",40).attr("width",6*t),Object(P.b)(this.anchorHolderO.nativeElement).append("circle").on("click",(function(){n.onRemove(this,n)})).attr("fill",e.color).attr("cx",e.cx).attr("cy",e.cy).attr("class","c"+Math.abs(e.value)).attr("r",4),Object(P.b)(this.anchorHolderO.nativeElement).append("text").text(e.seriesName+" : "+Math.abs(e.value)).attr("x",e.cx-30).attr("y",e.cy-35).on("click",(function(){n.onRemove(this,n)})).attr("class","c"+Math.abs(e.value)).style("fill","#fff"),Object(P.b)(this.anchorHolderO.nativeElement).append("text").text(Oe(e.label).format(this.dateFormat)).attr("x",e.cx-30).attr("y",e.cy-20).on("click",(function(){n.onRemove(this,n)})).attr("class","c"+Math.abs(e.value)).style("fill","#fff").style("font-family","apollo"),this.collectPins.emit(n.pinnedObject)},t.prototype.getTooltipText=function(e){var t=e.value,n=e.min,l=e.max;return'\n        <span class="tooltip-label">'+e.seriesName+" • "+Oe(e.label).format(this.dateFormat)+'</span>\n        <span class="tooltip-val">'+(t<0?-1*t:t).toLocaleString()+this.getTooltipMinMaxText(n,l)+"</span>\n      "},t.prototype.onRemove=function(e,t){for(var n="",l=0;l<e.classList.length;l++)if(e.classList[l].indexOf("c")>-1){n=e.classList[l];break}n.length>1&&(Object(P.b)(this.anchorHolderO.nativeElement).selectAll("."+n).remove(),delete this.pinnedObject[n])},t.prototype.getActiveCircle=function(){var e=this,t=this.data.series.findIndex((function(t){var n=t.name;return n&&e.visibleValue&&n.toString()===e.visibleValue.toString()&&void 0!==t.value}));if(-1!==t)return this.mapDataPointToCircle(this.data.series[t],t)},t.prototype.onResize=function(){var e=function(e){if(t.data.name===t.pinnedObject[e].seriesName){var n=t.pinnedObject[e],l=n.seriesName.length+4,r=t.xScale(new Date(n.label)),a=t.yScale(n.value),o=t;Object(P.b)(t.anchorHolderO.nativeElement).append("rect").on("click",(function(){o.onRemove(this,o)})).attr("fill","#000").attr("opacity",.7).attr("rx",3).attr("ry",3).attr("x",r-40).attr("y",a-50).attr("class","c"+Math.abs(n.value)).attr("height",40).attr("width",6*l),Object(P.b)(t.anchorHolderO.nativeElement).append("circle").on("click",(function(){o.onRemove(this,o)})).attr("fill",n.color).attr("cx",r).attr("cy",a).attr("class","c"+Math.abs(n.value)).attr("r",4),Object(P.b)(t.anchorHolderO.nativeElement).append("text").text(n.seriesName+" : "+Math.abs(n.value)).attr("x",r-30).attr("y",a-35).on("click",(function(){o.onRemove(this,o)})).attr("class","c"+Math.abs(n.value)).style("fill","#fff"),Object(P.b)(t.anchorHolderO.nativeElement).append("text").text(Oe(n.label).format(t.dateFormat)).attr("x",r-30).attr("y",a-20).on("click",(function(){o.onRemove(this,o)})).attr("class","c"+Math.abs(n.value)).style("fill","#fff").style("font-family","apollo")}},t=this;for(var n in this.pinnedObject)e(n)},t}(L.a),Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.update=function(){this.updateGradients();var e=this.sortData(this.data.series),t=this.getLineGenerator();this.path=t(e)||"",this.data&&1===this.data.series.length?this.getCircleGenerator(this):this.data||Object(P.b)(this.anchorHolder.nativeElement).selectAll("*").remove();var n=this.getAreaGenerator();if(this.areaPath=n(e)||"",this.hasRange){var l=this.getRangeGenerator();this.outerPath=l(e)||""}if(this.hasGradient){this.stroke=this.gradientUrl;var r=this.data.series.map((function(e){return e.value})),a=Math.max.apply(Math,Object(i.__spread)(r));a===Math.min.apply(Math,Object(i.__spread)(r))&&(this.stroke=this.colors.getColor(a))}else this.stroke=this.colors.getColor(this.data.name)},t.prototype.getLineGenerator=function(){var e=this;return Object(E.a)().x((function(t){var n=t.name;return e.xScale("time"===e.scaleType?n:"linear"===e.scaleType?Number(n):n)})).y((function(t){return e.yScale(t.value)})).curve(this.curve)},t.prototype.getCircleGenerator=function(e){var t=e.data.series;Object(P.b)(this.anchorHolder.nativeElement).selectAll("dot").data(t).enter().append("circle").attr("class","dot").attr("cx",(function(t,n){return e.xScale(t.name)})).attr("cy",(function(t){return e.yScale(t.value)})).attr("fill",e.colors.getColor(e.data.code)).attr("r",2)},t.prototype.getRangeGenerator=function(){var e=this;return Object(T.a)().x((function(t){var n=t.name;return e.xScale("time"===e.scaleType?n:"linear"===e.scaleType?Number(n):n)})).y0((function(t){return e.yScale("number"==typeof t.min?t.min:t.value)})).y1((function(t){return e.yScale("number"==typeof t.max?t.max:t.value)})).curve(this.curve)},t.prototype.getAreaGenerator=function(){var e=this;return Object(T.a)().x((function(t){return e.xScale(t.name)})).y0((function(){return e.yScale.range()[0]})).y1((function(t){return e.yScale(t.value)})).curve(this.curve)},t.prototype.isActive=function(e){return!!this.activeEntries&&void 0!==this.activeEntries.find((function(t){return e.name===t.name}))},t.prototype.isInactive=function(e){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find((function(t){return e.name===t.name}))},t}(L.b),Me=function(){function e(){}return e.prototype.generateReport=function(e,t,n,l,r,a,o){this.getReportsParameters(e,t,n,l,r,a,o).then((function(e){e&&window.open("../report.jsp?".concat(e),"_blank")})).catch((function(e){console.log("There is a problem while rreturning the promise....."),console.log(e)}))},e.prototype.getReportsParameters=function(e,t,n,l,r,a,o){var s=this;return new Promise((function(u){Object(p.b)(n,l).subscribe((function(n){var l=Object(i.__read)(n,2)[0];console.log(l,t);var c="";e.parameterList.parameterName.forEach((function(n){switch(n){case o.reportCmdName:c+=c.length>0?"&":"",c+=n+"="+e.reportId;break;case o.reportStudyId:c+=c.length>0?"&":"",c+=n+"="+l.id;break;case o.PlanReportStudyKey:c+=c.length>0?"&":"",c+=n+"="+r;break;case o.PlanReportUserName:c+=c.length>0?"&":"",c+=n+"="+a;break;case o.ReportViewName:c+=c.length>0?"&":"",c+=n+"=PLAN";break;case o.ReportingPeriod:c+=c.length>0?"&":"",c+=n+"="+s.getReportingPeriod(e.reportId);break;case o.PlanReportKey:c+=c.length>0?"&":"",c+=n+"="+t.planProperties.planKey;break;case o.ReportPlanName:c+=c.length>0?"&":"",c+=n+"="+t.planProperties.name;break;case o.ReportPlanStatus:var i=t.planProperties.planStatus;c+=c.length>0?"&":"",c+=n+"="+("string"==typeof i?i:i.value)}})),console.log(c),u(c)}))}))},e.prototype.isJSONEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e.prototype.getReportingPeriod=function(e){switch(e.substr(e.length-2,1)){case"Y":return"YEARLY";case"Q":return"QUARTERLY";case"M":return"MONTHLY";default:return"WEEKLY"}},e.prototype.getLocaleResource=function(e,t){return t[e]},e}(),we=function(){function e(e){this.reportService=e}return e.prototype.ngOnInit=function(){var e=this;this.approvedPlanReportWarningMsg=this.reportLocaleResources.Approved_Plan_Report_Warning,this.planDetailsService$.subscribe((function(t){e.planDetails=t,e.isApprovedPlan=e.planDetails.planProperties.isPlan&&e.planDetails.planProperties.isPlanApproved}))},e.prototype.generateReport=function(e){var t=this.reportList.filter((function(t){return t.reportId===e}));t.length>0&&this.reportService.generateReport(t[0],this.planDetails,this.getStudySummary$,this.planDetailsService$,this.studyKey,this.userName,this.reportLocaleResources)},e}(),xe=function(){function e(){this._loading=0,this.loadingStatus=new u.a}return Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},set:function(e){this._loading=e,this.loadingStatus.next(e),this._loading>0?document.body.classList.add("progress-cursor"):document.body.classList.remove("progress-cursor")},enumerable:!0,configurable:!0}),e.prototype.startLoading=function(){this.loading++},e.prototype.stopLoading=function(){this.loading--},e}(),Fe=function(){function e(e){this.loadingScreenService=e,this.loading=0}return e.prototype.ngOnInit=function(){var e=this;this.loadingSubscription=this.loadingScreenService.loadingStatus.pipe(Object(C.a)(200)).subscribe((function(t){e.loading=t}))},e.prototype.ngOnDestroy=function(){this.loadingSubscription.unsubscribe()},e}(),ke=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),je=function(){function e(e,t){this.payloadCommandService=e,this.baseConnectionService=t,this.SORT_KEY="name",this.optionClick=new r.EventEmitter}return e.prototype.ngOnInit=function(){this.fetchDropdownItems()},e.prototype.fetchDropdownItems=function(){var e=this,t=z.getModuleInfo("ENRODET",null,"SITES"),n=this.payloadCommandService.getApiRequest("GetFilterCountryData",{},null,t),l={};l.url=a.a.FILTER_COUNTRY_DATA,l.endPoint=!0,l.cacheKey=a.l.GetFilterCountryData,this.baseConnectionService.send(n,l).subscribe((function(t){t.result===a.k.RESULT_OK&&(e.items=e.geoFilters&&e.geoFilters.length>0?[{name:"Worldwide",code:"WW",key:0,children:e.getChildren(t.countryRegionMappingList.countryRegionMapping)}]:[{name:"Worldwide",code:"WW",key:0}],e.selectedItem=e.selectedOption?e.selectedOption:e.items[0])}))},e.prototype.ngOnChanges=function(e){e.geoFilters&&e.geoFilters.currentValue&&(this.geoFilters=e.geoFilters.currentValue,this.fetchDropdownItems()),e.selectedOption&&e.selectedOption.currentValue&&(this.selectedItem=e.selectedOption.currentValue)},e.prototype.optionClicked=function(e){this.selectedItem=e,this.optionClick.emit(e),this.wwList.closeMenu()},e.prototype.getChildren=function(e){var t,n=this;e=[].concat(e);var l=n.geoFilters.filter((function(e){return"Country"===e.level})).map((function(e){return e.key})),r=n.geoFilters.filter((function(e){return"Region"===e.level})).map((function(e){return e.key}));return t=e.filter((function(e){return!r||-1!==r.indexOf(e.regionDetails.regionKey)})).map((function(e){return{name:e.regionDetails.regionName,code:e.regionDetails.regionCode,key:e.regionDetails.regionKey,level:"Region",children:Array.isArray(e.countryDataList.countryData)?n.sortItems(e.countryDataList.countryData.filter((function(e){return!l||-1!==l.indexOf(e.countryKey)})).map((function(e){return{name:e.countryName,code:e.countryCode,key:e.countryKey,level:"Country"}}))):[{name:e.countryDataList.countryData.countryName,code:e.countryDataList.countryData.countryCode,key:e.countryDataList.countryData.countryKey,level:"Country"}]}})),this.sortItems(t)},e.prototype.sortItems=function(e,t){return void 0===t&&(t=this.SORT_KEY),JSON.parse(JSON.stringify(e)).sort((function(e,n){var l=e[t],r=n[t];return"string"==typeof l&&"string"==typeof r&&(l=l.toLowerCase(),r=r.toLowerCase()),l<r||""===l?-1:l>r||""===r?1:0}))},e}(),Ue=function(){function e(){this.optionGroups=[],this.emitMenuClick=new r.EventEmitter}return Object.defineProperty(e.prototype,"selectedOption",{set:function(e){this.selectedCohort=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiOptionGroups",{set:function(e){this.optionGroups=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.selectionChanged=function(e){this.emitMenuClick.emit(e)},e}(),Ve=function(){return function(){}}(),Ke=b,Ye=function(){function e(){}return e.prototype.rangeFinder=function(e){var t={start:"",end:"",difference:""};e.forEach((function(e){var n,l;n=e.TFSI&&e.PFSI&&Ke(e.TFSI)>Ke(e.PFSI)?"PFSI":e.TFSI&&e.PFSI?"TFSI":e.TFSI?"TFSI":"PFSI",l=e.TLSR&&e.PLSR&&Ke(e.TLSR)>Ke(e.PLSR)?"TLSR":e.TLSR&&e.PLSR?"PLSR":e.TLSR?"TLSR":"PLSR",e[n]&&(""===t.end||Ke(t.start)>Ke(e[n]))&&(t.start=e[n]),e[l]&&(""===t.end||Ke(t.end)<Ke(e[l]))&&(t.end=e[l])}));var n=Ke(t.start,"YYYY-MM-DD"),l=Ke(t.end,"YYYY-MM-DD").add(1,"days");return t.difference=Ke.duration(l.diff(n)).asWeeks()+" Weeks",t},e}(),Ge=function(){function e(e){this.encryptionService=e}return Object.defineProperty(e.prototype,"encryptKey",{get:function(){return this.encryptionKey},set:function(e){this.encryptionKey=e,this.encryptionService.setKey(this.encryptionKey)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cacheMaxAge",{get:function(){return this.cacheAge},set:function(e){this.cacheAge=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encryptType",{get:function(){return this.encryptionType},set:function(e){this.encryptionType=e,this.encryptionService.setEncryption(this.encryptionType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dispatchUrl",{get:function(){return this.dispatchedUrl},set:function(e){this.dispatchedUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appUrl",{get:function(){return this.applicationUrl},set:function(e){this.applicationUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$loginUrl",{get:function(){return this.loginUrl},set:function(e){this.loginUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authUrl",{get:function(){return this._authUrl},set:function(e){this._authUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"soApiUrl",{get:function(){return this._soApiUrl},set:function(e){this._soApiUrl=e},enumerable:!0,configurable:!0}),e.prototype.setConfig=function(e){if(!e)throw new Error("Environment object is empty");if(!this.typeCheck(e))throw new Error("Invalid environment object");this.encryptKey=e.clientEncryptionKey,this.cacheMaxAge=e.cacheAge,this.encryptType=e.cryptoJS,this.appUrl=e.app_url,this.$loginUrl=e.login_url,this.authUrl=e.authUrl,this.soApiUrl=e.soApiUrl},e.prototype.typeCheck=function(e){return void 0!==e.clientEncryptionKey&&void 0!==e.cacheAge&&void 0!==e.cryptoJS&&void 0!==e.app_url&&void 0!==e.login_url},e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e(Object(r["ɵɵinject"])(a.B))},token:e,providedIn:"root"}),e}(),He=function(e){function t(t,n,l,r,a,o,i,s,u,c,d){var p=e.call(this)||this;return p.errorTermsService=t,p.serverStatusService=n,p.userDataService=l,p.appDataService=r,p.localeAppResourcesService=a,p.baseTermsService=o,p.configurationService=i,p.windowService=s,p.commonConfigurationService=u,p.loginTermService=c,p.studyListService=d,p}return Object(i.__extends)(t,e),t.prototype.init=function(){this.windowService.redirectAsPerParams()},t.prototype.call=function(e,t,n){this.configurationService.setConfig(e),this.commonConfigurationService.setConfig(e);var l=_,r=N,o=a.H,s=a.J,u=[this.baseTermsService.getTerm(a.g,n),this.localeAppResourcesService.getAppResources(o,n),this.appDataService.getAppData(n),this.errorTermsService.getErrorTerminologies(l,n),this.serverStatusService.getServerStatus(t,n)];return u=n.prelogin?Object(i.__spread)(u,[this.loginTermService.getLoginTerminologies(s,n)]):Object(i.__spread)(u,[this.userDataService.getUserData(r,n),this.studyListService.getStudyTags({endPoint:!0})]),Object(h.a)(u).toPromise().then()},t}(a.b),Be=function(){function e(e,t){this.router=e,this.userDataService=t}return e.prototype.canActivate=function(e){return this.checkLoginAndPrivileges(e)},e.prototype.checkLoginAndPrivileges=function(e){return!0},e.prototype.canActivateChild=function(e){return this.canActivate(e)},e}(),qe=function(){function e(){var e=this;this._Message="",this._ErrorMessageSubscriber=new f.a((function(t){e._ErrorMessagePublisher=t})),this.publishGlobalError=new d.a("")}return e.prototype.ShowErrorMessage=function(e){void 0===e&&(e=""),this._Message=e,this._ErrorMessagePublisher.next(this._Message)},e.prototype.PublishError=function(e){void 0===e&&(e=""),this.publishGlobalError.next(e)},e.prototype.GetErrorMessage=function(){return this._ErrorMessageSubscriber},e}(),We=function(e){function t(t,n){var l=e.call(this)||this;return l.errorTermsStoreService=t,l.errorMessageService=n,l}return Object(i.__extends)(t,e),t.prototype.handleError=function(t){var n;0===t.status?(n=this.errorTermsStoreService.getErrorMessage(t.status),this.errorMessageService.PublishError(n)):t instanceof a.e?n=this.errorTermsStoreService.getErrorMessage(t.errorCode):t.rejection instanceof a.e?(n=this.errorTermsStoreService.getErrorMessage(t.rejection.errorCode),this.errorMessageService.ShowErrorMessage(n)):e.prototype.handleError.call(this,t)},t}(r.ErrorHandler),$e=function(){function e(e,t,n){this.localAppResource=e,this.serverStatusService=t,this.errorTermsStoreService=n}return e.prototype.getMenuResources=function(){var e={headerMenu:[],subHeaderMenu:[],profileItem:[],ebMenu:{},logo:{},appInfo:{}};return e.headerMenu.push({name:this.localAppResource.getResource("AllStudiesTab"),url:"/studyList",moduleName:"MODULE_STUYD_LIST"},{name:this.localAppResource.getResource("RecruitmentTab"),url:"/runway",moduleName:"MODULE_RUNWAY"},{name:this.localAppResource.getResource("historicalAnalysisTab"),url:"/ant",moduleName:"MODULE_HISTORICAL"}),e.ebMenu={name:this.localAppResource.getResource("EBTab"),url:"/eb",moduleName:"MODULE_ENROLLMENT"},e.profileItem.push({name:this.localAppResource.getResource("HeaderProfileHelp"),url:"/help",isVisible:!0,isEnabled:!0},{name:this.localAppResource.getResource("HeaderChangePassword"),url:"/password",isVisible:!0,isEnabled:!1},{name:this.localAppResource.getResource("HeaderAboutStudyOptimizer"),url:"/about",isVisible:!0,isEnabled:!0},{name:this.localAppResource.getResource("HeaderLogout"),url:"/logout",isVisible:!0,isEnabled:!0}),e.subHeaderMenu.push({name:this.localAppResource.getResource("StudyViewsTab"),url:"/newStudy",moduleName:"MODULE_STUDY"},{name:this.localAppResource.getResource("CountryViewsTab"),url:"/newCountries",moduleName:"MODULE_COUNTRY"},{name:this.localAppResource.getResource("SiteTab"),url:"/newSites",moduleName:"MODULE_SITES"},{name:this.localAppResource.getResource("PlansTab"),url:"/newPlans",moduleName:"MODULE_NEW_PLANNING"}),e.logo={name:this.localAppResource.getResource("logoName")},e.appInfo={name:this.localAppResource.getResource("appInfo")},e},e.prototype.getPasswordResources=function(){return{currentPassword:this.localAppResource.getResource("CurrentPassword"),newPassword:this.localAppResource.getResource("NewPassword"),confirmPassword:this.localAppResource.getResource("ConfirmPassword"),lengthRule:this.localAppResource.getResource("LENGHTHRULE"),mixCharRule:this.localAppResource.getResource("MIXCHARRULENEWPLANS"),changePassword:this.localAppResource.getResource("ChangePassword"),ok:this.localAppResource.getResource("OK"),cancel:this.localAppResource.getResource("Cancel"),nonEmptyField:this.errorTermsStoreService.getErrorMessage("NonEmptyField"),passwordMisMatchMessage:this.errorTermsStoreService.getErrorMessage("PasswordMisMatchMessage")}},e.prototype.getAboutResources=function(){var e=this.localAppResource.getResource("aboutBoxVersion");return e=a.Z.substitute(e,[this.serverStatusService.serverStatus.patch?this.serverStatusService.serverStatus.patch:this.serverStatusService.serverStatus.serverVersion.content,this.serverStatusService.serverStatus.serverBuildID]),{aboutBoxTitle:this.localAppResource.getResource("aboutBoxTitle"),aboutBoxVersion:e,aboutBoxDisclaimer:this.localAppResource.getResource("aboutBoxDisclaimer"),logoUrl:"assets/images/poweredByLogo.png"}},e.prototype.getConfirmationMessageResource=function(){return{okLabel:this.localAppResource.getResource(Y.OkLabel),cancelLabel:this.localAppResource.getResource(Y.CancelLabel)}},e.prototype.getCohortDropDownResource=function(){return{mapped_planned_cohort:this.localAppResource.getResource("MAPPED_PLANNED_COHORT"),mapped_planned_cohort_tooltip:this.localAppResource.getResource("MAPPED_PLANNED_COHORT_TOOLTIP"),mapped_unplanned_cohort:this.localAppResource.getResource("MAPPED_UNPLANNED_COHORT"),mapped_unplanned_cohort_tooltip:this.localAppResource.getResource("MAPPED_UNPLANNED_COHORT_TOOLTIP"),unmapped_planned_cohort:this.localAppResource.getResource("UNMAPPED_PLANNED_COHORT"),unmapped_planned_cohort_tooltip:this.localAppResource.getResource("UNMAPPED_PLANNED_COHORT_TOOLTIP"),unmapped_actual_cohort:this.localAppResource.getResource("UNMAPPED_ACTUAL_COHORT"),unmapped_actual_cohort_tooltip:this.localAppResource.getResource("UNMAPPED_ACTUAL_COHORT_TOOLTIP"),cohort_selectall:this.localAppResource.getResource("COHORT_SELECTALL")}},Object.defineProperty(e.prototype,"getCohortDropDownOptions",{get:function(){var e=this.getCohortDropDownResource();return[{name:"",disabled:!1,options:[{value:"All",tooltip:e.cohort_selectall,viewValue:e.cohort_selectall}]},{name:e.mapped_planned_cohort,tooltip:e.mapped_planned_cohort_tooltip,disabled:!1,options:[]},{name:e.mapped_unplanned_cohort,tooltip:e.mapped_unplanned_cohort_tooltip,disabled:!1,options:[]},{name:e.unmapped_planned_cohort,tooltip:e.unmapped_planned_cohort_tooltip,disabled:!1,options:[]},{name:e.unmapped_actual_cohort,tooltip:e.unmapped_actual_cohort_tooltip,disabled:!1,options:[]}]},enumerable:!0,configurable:!0}),e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e(Object(r["ɵɵinject"])(a.M),Object(r["ɵɵinject"])(a.U),Object(r["ɵɵinject"])(a.D))},token:e,providedIn:"root"}),e}(),ze=function(){function e(e,t,n,l,r){this.appDataService=e,this.localeAppResourcesService=t,this.userDataService=n,this.resourceService=l,this.studyListService=r,this.menu=this.resourceService.getMenuResources(),this.aboutResource=this.resourceService.getAboutResources(),this.passwordResource=this.resourceService.getPasswordResources(),this.logoUrl=this.menu.logo,this.appInfoUrl=this.menu.appInfo.name}return Object.defineProperty(e.prototype,"menu",{get:function(){return this._menu},set:function(e){this._menu=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainHeaderItems",{get:function(){return this._mainHeaderItems},set:function(e){this._mainHeaderItems=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subHeaderItems",{get:function(){return this._subHeaderItems},set:function(e){this._subHeaderItems=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aboutResource",{get:function(){return this._aboutResource},set:function(e){this._aboutResource=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"passwordResource",{get:function(){return this._passwordResource},set:function(e){this._passwordResource=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userProfile",{get:function(){return this._userProfile},set:function(e){this._userProfile=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logoUrl",{get:function(){return this._logoUrl},set:function(e){this._logoUrl="assets/images/"+e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appInfoUrl",{get:function(){return this._appInfoUrl},set:function(e){this._appInfoUrl="assets/images/"+e},enumerable:!0,configurable:!0}),e.prototype.getAppData=function(){return this.appDataService.getAppData()},e.prototype.getUserData=function(e){return this.userDataService.getUserData(N,e)},Object.defineProperty(e.prototype,"alertConfirmUrl",{get:function(){return"assets/images/alertConfirm.png"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"studyRefreshDateLabel",{get:function(){return this.localeAppResourcesService.getResource("LastStudyUpdate")},enumerable:!0,configurable:!0}),e.prototype.getStudyInputResource=function(e,t){return{placeholder:this.localeAppResourcesService.getResource("StudyListSearch"),recentListItemsLabel:this.localeAppResourcesService.getResource("MRUStudiesView"),allListItemsLabel:this.localeAppResourcesService.getResource("AllStudiesView"),optionTemplate:e,searchApi:this.getStudyTagListFunction(t),selectedItemKey:this.userDataService.getLastVisitedStudyKey(),studyListHeaderLabel:this.localeAppResourcesService.getResource("StudyListHeader")}},e.prototype.getStudyTagListFunction=function(e){var t=this;return function(n){return t.studyListService.getStudyTagList(n,e)}},e.prototype.setHeaderItems=function(e){var t=new Array;this.menu.headerMenu.forEach((function(e){t.push(new a.L(e.name,e.url,e.moduleName))})),e.appMetadata.isEBLicensed&&t.push(new a.L(this.menu.ebMenu.name,this.menu.ebMenu.url,this.menu.ebMenu.moduleName)),this.mainHeaderItems=t},e.prototype.checkIfAllDataAvailable=function(e){return void 0!==this.userProfile&&void 0!==this.mainHeaderItems&&void 0!==this.subHeaderItems&&void 0!==e},e.prototype.getSubHeaderItems=function(e){var t=new Array;e.forEach((function(e){t.push(new a.L(e.name,e.url,e.moduleName))})),this.subHeaderItems=t},e.prototype.setUserProfile=function(e,t){var n=this.localeAppResourcesService.getResource("HeaderChangePassword");e.hasOwnProperty("user")&&e.user.hasOwnProperty("authenticationScheme")&&"DB"===e.user.authenticationScheme&&(t.find((function(e){return e.name===n})).isEnabled=!0);var l=this.userDataService.getUserName(),r=new Array;t.forEach((function(e){r.push(new a.L(e.name,e.url,null,e.isEnabled,e.isVisible))})),this.userProfile=new a.ab(l,r," ")},e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e(Object(r["ɵɵinject"])(ce),Object(r["ɵɵinject"])(a.M),Object(r["ɵɵinject"])(Q),Object(r["ɵɵinject"])($e),Object(r["ɵɵinject"])(re))},token:e,providedIn:"root"}),e}(),Je=function(){function e(e){this.userDataService=e,this.userDataSubject=new d.a(null),this.getUserData()}return e.prototype.getUserData=function(){var e=this,t=this.userDataService.getUserData(N,w).pipe(Object(R.a)(1)).subscribe((function(n){e.userDataSubject.next(n),t?(console.log("userDataSubscription is defined : ",n),t.unsubscribe()):console.log("userDataSubscription is undefined : ",n)}))},e.prototype.getPrefForGridColumns=function(){return JSON.parse(JSON.stringify(this.userDataService.getPreferencesByCategory($.PreferenceGridColumns)))},e.prototype.refreshPreferenceData=function(){this.getUserData()},e.prototype.getGridPreference=function(){return this.userDataSubject.asObservable()},e.prototype.sendUpdateColumnPrefRequest=function(e,t,n,l,r){var a=this,o=this.getPrefForGridColumns();o&&null!==o||(o=W),o[$.PreferenceGridColumns][t]=e;var i=this.userDataService.updateUserPreference(o,M).pipe(Object(C.a)(500)).subscribe((function(e){e&&a.refreshPreferenceData(),i?(console.log("updatePrefSubscription is defined : ",e),i.unsubscribe()):console.log("updatePrefSubscription is undefined : ",e)}))},e.ngInjectableDef=Object(r["ɵɵdefineInjectable"])({factory:function(){return new e(Object(r["ɵɵinject"])(Q))},token:e,providedIn:"root"}),e}(),Xe=function(){return function(){}}(),Ze=function(){return function(e,t){this.name=e,this.value=t}}(),Qe=function(){return function(e,t,n,l,r,a,o,i,s,u,c,d){this.id=e,this.code=t,this.name=n,this.value=l,this.date=r,this.description=a,this.pname=o,this.axis=i,this.scaleX=s,this.scaleY=u,this.color=c,this.descriptionId=d}}(),et=b;function tt(e,t,n,l,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),function(o){var i,s,u,c,d=null,p={};if(null!=e&&(c=o.get(e))&&c.enabled&&!(c.invalid&&c.errors&&c.errors.matDatepickerParse)&&a.c.isDefined(c.value)){if(i=et(c.value),null!=t)if(n)s=t;else{var h=o.get(t);h&&h.valid&&a.c.isDefined(h.value)&&(s=et(h.value))}if(null!=l)if(r)u=l;else{var f=o.get(l);f&&(f.valid||f.disabled)&&a.c.isDefined(f.value)&&(u=et(f.value))}var m=nt(i,s,u);m&&Object.assign(p,m)}return 0!==Object.keys(p).length?(o.get(e).setErrors(p),(d={})[e]=p):(c=o.get(e))&&(c.invalid&&c.errors&&c.errors.matDatepickerParse||o.get(e).setErrors(null)),d}}function nt(e,t,n){var l={};if(a.c.isDefined(e)){if(e=et(e),a.c.isDefined(t)&&null!=(t=et(t))){var r=function(e,t){return e.isAfter(t)?null:{ARTB_LT_EQ_FSI:{ARTB_LT_EQ_FSI:t}}}(e,t);r&&Object.assign(l,r)}if(a.c.isDefined(n)&&null!=(n=et(n))){var o=function(e,t){return e.isAfter(t)?null:{ARTB__LT_EQ_FSS:{ARTB__LT_EQ_FSS:t}}}(e,n);o&&Object.assign(l,o)}}return l}var lt=b;function rt(e,t,n,l,r,o,i,s,u,c){return void 0===l&&(l=!0),void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===c&&(c=!0),function(d){var p=null,h=null,f=null,m=null,g=null,y=null,v=null;if(null!=e&&(y=d.get(e))){v=function(e,t){return(e=t.errors)||(e={}),e.ltPrevError&&delete e.ltPrevError,e.gtnextError&&delete e.gtnextError,e.SIDateError&&delete e.SIDateError,e.min&&delete e.min,e}(v,y);var S=y.value;if(a.c.isDefined(S,!0)){if(null!=n)if(l)h=n;else{var R=d.get(n);R&&(h=R.value)}if(void 0!==r&&null!==o)if(o)f=r;else{var C=d.get(r);C&&(f=C.value)}if(void 0!==i&&null!==s)if(s)m=lt(i);else{var b=d.get(i);b&&(!b.enabled||b.valid)&&a.c.isDefined(b.value)&&(m=lt(b.value,a.bb,!0))}if(void 0!==u&&null!==c)if(c)g=lt(u);else{var P=d.get(u);P&&(!P.enabled||P.valid)&&a.c.isDefined(P.value)&&(g=lt(P.value,a.bb,!0))}var D=at(S,h,f,t,m,g);D&&Object.assign(v,D),0!==Object.keys(v).length?(y.setErrors(v),(p={})[e]=v):y.setErrors(null)}}return p}}function at(e,t,n,l,r,o){var i,s={};if(a.c.isDefined(e,!0)){if(a.c.isDefined(l,!0)){var u=function(e,t){return Number(e)<Number(t)?{min:{min:t}}:null}(e,l);u&&Object.assign(s,u)}if(a.c.isDefined(t,!0)){var c=(i=t,Number(e)>=Number(i)?null:{ltPrevError:!0});c&&Object.assign(s,c)}if(a.c.isDefined(n,!0)){var d=function(e,t){return Number(e)<=Number(t)?null:{gtnextError:!0}}(e,n);d&&Object.assign(s,d)}if(a.c.isDefined(r)&&a.c.isDefined(o)){var p=function(e,t){return e.isSameOrBefore(t)?null:{SIDateError:!0}}(r=lt(r),o=lt(o));p&&Object.assign(s,p)}}return s}var ot=b;function it(e,t,n,l,r,o,i,s,u,c){return void 0===n&&(n=!0),function(d){var p,h,f,m,g=null,y=null;if(null!=e){var v=d.get(e);if(v&&!(v.invalid&&v.errors&&v.errors.matDatepickerParse)){if(y=function(e,t){return(e=t.errors)||(e={}),e.FSILT_ERROR&&delete e.FSILT_ERROR,e.FSIRedist&&delete e.FSIRedist,e.FSI_GT_TLSS&&delete e.FSI_GT_TLSS,e}(y,v),v.enabled){var S=v.value;if(null!=t)if(n)p=ot(t);else{var R=d.get(t);R&&R.valid&&a.c.isDefined(R.value)&&(p=ot(R.value))}if(null!=l)if(r)h=ot(l);else{var C=d.get(l);C&&C.valid&&a.c.isDefined(C.value)&&(h=ot(C.value))}if(null!=o&&null!=s){if(i)f=o;else{var b=d.get(o);b&&(f=b.value)}if(u)m=s;else{var P=d.get(s);P&&(m=P.value)}}var D=st(S,p,h,f,m,c);D&&Object.assign(y,D),a.c.isDefined(S)||Object.assign(y,B)}y&&0!==Object.keys(y).length?(d.get(e).setErrors(y),(g={})[e]=y):v.setErrors(null)}}return g}}function st(e,t,n,l,r,o){var i={};if(a.c.isDefined(e)){if(e=ot(e),a.c.isDefined(t)&&null!=(t=ot(t))){var s=function(e,t){return e.isSameOrAfter(t)?null:{FSILT_ERROR:{FSILT_ERROR:t}}}(e,t);s&&Object.assign(i,s)}if(a.c.isDefined(n)&&null!=(n=ot(n))){var u=function(e,t){return e.isSameOrBefore(t)?null:{FSI_GT_TLSS:{FSI_GT_TLSS:t}}}(e,n);u&&Object.assign(i,u)}if(null!=l&&null!=r&&(null==o||!1===o)){var c=function(e,t,n){return t&&n?e.isAfter()?null:{FSIRedist:!0}:null}(e,l,r);c&&Object.assign(i,c)}}return i}var ut=b;function ct(e,t,n){return void 0===n&&(n=!0),function(l){var r,o,i=null,s={};if(null!=e){var u=l.get(e);if(u&&u.valid)if(a.c.isDefined(u.value)){if(r=ut(u.value),null!=t)if(n)o=t;else{var c=l.get(t);c&&c.valid&&a.c.isDefined(c.value)&&(o=ut(c.value))}var d=dt(r,o);d&&Object.assign(s,d)}else u.setErrors(null)}return 0!==Object.keys(s).length&&(l.get(e).setErrors(s),(i={})[e]=s),i}}function dt(e,t){var n={};if(a.c.isDefined(e)&&(e=ut(e),a.c.isDefined(t)&&null!=(t=ut(t)))){var l=function(e,t){return e.isSameOrAfter(t)?null:{DEPENDENCY_ERROR:{DEPENDENCY_ERROR:t}}}(e,t);l&&Object.assign(n,l)}return n}function pt(e,t,n){return void 0===n&&(n=!0),function(l){var r=null,o=null,i=!1;if(null!=e){var s=l.get(e);s&&((o=s.errors)||(o={}),a.c.isDefined(s.value,!0)&&(t&&t.length>0&&t.forEach((function(e,t){var r=n?e:l.get(e.toString()).value;i=0===t?0===Number(r):i&&0===Number(r)})),i&&(o=Object.assign({},{allZeroError:!0},o),s.setErrors(o),(r={})[e]=o)))}return r}}function ht(e,t,n){var l={};return a.c.isDefined(e,!0)&&a.c.isDefined(t,!0)&&a.c.isDefined(n,!0)&&0===e&&0===t&&0===n&&Object.assign(l,{allZeroError:!0}),l}function ft(e,t,n,l,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),function(o){var i,s,u,c=null,d=null,p=null;if(null!=e){if(d=function(e,t){return t&&(e=t.errors),e||(e={}),e.min&&delete e.min,e.max&&delete e.max,e}(d,p=o.get(e)),p&&p.enabled&&a.c.isDefined(i=p.value)){if(null!=t)if(n)s=t;else{var h=o.get(t);h&&h.valid&&(s=h.value)}if(null!=l)if(r)u=l;else{var f=o.get(l);f&&(u=f.value)}}var m=mt(i,s,u);m&&Object.assign(d,m),(p=o.get(e))&&d&&(0!==Object.keys(d).length?(p.setErrors(d),(c={})[e]=d):p.setErrors(null))}return c}}function mt(e,t,n,l,r){var o={};if(a.c.isDefined(e)){if(a.c.isDefined(t)){var i=function(e,t,n,l){var r,a;return l?Number(e)<=Number(t)?n?((r={})[n]=t,r):{minNumRequiredError:!0}:null:Number(e)<Number(t)?n?((a={})[n]=t,a):{min:{min:t}}:null}(e,t,l,r);i&&Object.assign(o,i)}if(a.c.isDefined(n)){var s=function(e,t){return Number(e)>Number(t)?{max:{max:t}}:null}(e,n);s&&Object.assign(o,s)}}return o}function gt(e,t,n,l){return void 0===n&&(n=!0),function(r){var o,i,s=null,u={};if(null!=e){var c=r.get(e);if(c&&c.enabled)if(a.c.isDefined(i=c.value,!0)){if(null!=t)if(n)o=t;else{var d=r.get(t);d&&(o=d.value)}var p=yt(i,o,l);p&&Object.assign(u,p)}else Object.assign(u,B)}return 0!==Object.keys(u).length?(r.get(e)&&r.get(e).setErrors(u),(s={})[e]=u):r.get(e)&&r.get(e).setErrors(null),s}}function yt(e,t,n){var l={};if(a.c.isDefined(e,!0)){if(a.c.isDefined(t,!0)){var r=function(e){return 0===Number(e)?{ActiveSitesZeroError:!0}:null}(t);r&&Object.assign(l,r)}if(a.c.isDefined(n,!0)){var o=function(e,t){return Number(e)>Number(t)?{max:{max:t}}:null}(e,n);o&&Object.assign(l,o)}}return l}function vt(e,t,n,l,r){return void 0===l&&(l=!0),function(o){var i,s,u=null,c={};if(null!=e){var d=o.get(e);if(d&&d.enabled)if(a.c.isDefined(d.value,!0)){if(i=Number(d.value),null!=n)if(l)s=n;else{var p=o.get(n);p&&a.c.isDefined(p.value,!0)&&(s=Number(p.value))}var h=function(e,t,n,l){var r,o={};if(a.c.isDefined(e,!0)){if(a.c.isDefined(t,!0)){var i=(r=t,Number(e)>Number(r)?{max:{max:r}}:null);i&&Object.assign(o,i)}if(a.c.isDefined(n,!0)&&a.c.isDefined(l,!0)){var s=function(e,t){return Number(e)>Number(t)?{maxSrExceedError:!0}:null}(n,l);s&&Object.assign(o,s)}}return o}(i,t,s,r);h&&Object.assign(c,h)}else Object.assign(c,B)}return 0!==Object.keys(c).length?(o.get(e)&&o.get(e).setErrors(c),(u={})[e]=c):o.get(e)&&o.get(e).setErrors(null),u}}function St(e,t,n,l,r,o){return void 0===r&&(r=!0),function(i){var s,u,c=null,d={};if(null!=e){var p=i.get(e);if(p&&p.enabled)if(a.c.isDefined(p.value,!0)){if(s=Number(p.value),null!=l)if(r)u=l;else{var h=i.get(l);h&&h.disabled&&a.c.isDefined(h.value,!0)&&(u=Number(h.value))}var f=function(e,t,n,l,r){var o,i,s={};if(a.c.isDefined(e,!0)){if(a.c.isDefined(t,!0)){var u=(o=t,Number(e)<Number(o)?{min:{min:o}}:null);u&&Object.assign(s,u)}if(a.c.isDefined(n,!0)){var c=(i=n,Number(e)>Number(i)?{max:{max:i}}:null);c&&Object.assign(s,c)}if(a.c.isDefined(l,!0)&&a.c.isDefined(r,!0)){var d=function(e,t){return Number(e)>Number(t)?{maxSrExceedError:!0}:null}(l,r);d&&Object.assign(s,d)}}return s}(s,t,n,u,o);f&&Object.assign(d,f)}else Object.assign(d,B)}return 0!==Object.keys(d).length?(i.get(e)&&i.get(e).setErrors(d),(c={})[e]=d):i.get(e)&&i.get(e).setErrors(null),c}}var Rt=b;function Ct(e,t,n,l){return function(r){var o={},i=r.get(e).value;if(i&&"string"==typeof i){var s=i.split("\n");if((s=function(e){return e.filter((function(e){return""!==e?e:null}))}(s)).length<0||s.length>l)bt(o,r,e,t,n,l,null,!0);else{var u=[],c=!0;s.forEach((function(e,t){var n=e.trim().split(/\s+/);if(3!==n.length)1===n.length&&""===n[0]?c=c&&!0:(u.push(t+1),c=c&&!1);else{c=c&&!1;var l=Rt(n[0],"DD-MMM-YYYY",!0),r=Rt(n[1],"DD-MMM-YYYY",!0),o=parseFloat(n[2]),i=a.c.isValidNumber(n[2])&&a.c.isValidNumber(o)&&Number.isInteger(o)&&o>=0;l.isValid()&&r.isValid()&&i||u.push(t+1)}})),0!==u.length?bt(o,r,e,t,n,l,u):c&&bt(o,r,e,t,n,l)}}else bt(o,r,e,t,n,l);return o}}function bt(e,t,n,l,r,a,o,i){if(i){var s=void 0;s=l.MAX_ROWS+" "+r+".",a!==r&&(s=s+l.MAX_ROWS_EXTRA_1+a+" ",s=1===a?s+l.MAX_ROWS_EXTRA_2+(r-a)+" "+l.MAX_ROWS_EXTRA_PLU_3:a===r-1?s+l.MAX_ROWS_EXTRA_PLU_2+(r-a)+" "+l.MAX_ROWS_EXTRA_3:s+l.MAX_ROWS_EXTRA_PLU_2+(r-a)+" "+l.MAX_ROWS_EXTRA_PLU_3),Object.assign(e,{pastedateRangers:s})}else if(o){var u=o.join(", ");Object.assign(e,{pastedateRangers:l.INVALID_ROW_PART_1+u+l.INVALID_ROW_PART_2})}else Object.assign(e,{pastedateRangers:l.REQUIRED});t.get(n).setErrors(e)}function Pt(e,t,n,l){return function(r){var o={},i=!1,s=r.get(t).getRawValue();if(s&&s.length>0&&r.get(e)&&r.get(e).value){var u=parseInt(r.get(e).value,10);s.forEach((function(e,t){i=0===t&&a.c.isDefined(e[n])?0===Number(e[n]):i&&0===Number(e[n])})),function(e,t){return(parseInt(e,10)||0)-t.map((function(e){return parseInt(e.noOfCenters,10)||0})).reduce((function(e,t){return e+t}),0)==0}(u,s)?At(r,t,n):Dt("totalNotEqual",o,r,t,n,l.totalNotEqual),i&&Dt("allZero",o,r,t,n,l.allZero)}else At(r,t,n);return o}}function Dt(e,t,n,l,r,a){switch(e){case"totalNotEqual":Object.assign(t,{totalNotEqual:a});break;case"allZero":Object.assign(t,{allZero:a})}n.get(l).controls.forEach((function(e){e.get(r).setErrors(t)}))}function At(e,t,n){e.get(t).controls.forEach((function(e){var t={},l=e.get(n).errors;e.get(n).hasError("totalNotEqual")&&(delete e.get(n).errors.totalNotEqual,Object.assign(t,l)),t=0===Object.keys(t).length?null:t,e.get(n).setErrors(t==={}?null:t)}))}var Et=b,Tt="day";function It(e,t,n,l,r,a,o){return function(i){var s,u,c,d,p=i.get(e).getRawValue(),h=i.get(l).value?Et(i.get(l).value):"",f=i.get(r).value?Et(i.get(r).value):"";if(p&&p.length>0)if(1===p.length){var m=p[0];Lt(h,f,Et(m[t]),Et(m[n]),{},{},i,e,t,n,a,0)}else p.reduce((function(l,r,p){var m={},g={},y={},v={};return s=Et(r[t]),u=Et(r[n]),Lt(h,f,s,u,v,g,i,e,t,n,a,p),l&&(c=Et(l[t]),d=Et(l[n]),1===p&&Lt(h,f,c,d,y,m,i,e,t,n,a,0),u&&!o&&(s.isSameOrBefore(d,Tt)?(Ot("afterPrevEndDate",1===p?y:v,i,e,t,a.afterPrevEndDate,p),Ot("afterNextStartDate",1===p?m:g,i,e,n,a.afterNextStartDate,p-1)):(function(e){var t={};if(e){var n=e.errors;n&&e.hasError("afterPrevEndDate")&&(delete n.afterPrevEndDate,Object.assign(t,n),t=0===Object.keys(t).length?null:t,e.setErrors(t==={}?null:t))}}(i.get(e).at(p).get(t)),function(e){var t={};if(e){var n=e.errors;n&&e.hasError("afterNextStartDate")&&(delete n.afterNextStartDate,Object.assign(t,n),t=0===Object.keys(t).length?null:t,e.setErrors(t==={}?null:t))}}(i.get(e).at(p-1).get(n))))),r}));return{}}}function Lt(e,t,n,l,r,a,o,i,s,u,c,d){!function(e,t,n){var l=!1;return""!==t&&(l=t.isValid()&&n.isAfter(t,Tt)),""!==e&&(l=l||e.isValid()&&n.isBefore(e,Tt)),l}(e,t,n)?_t(o.get(i).at(d).get(s),null,"beforeFSIDate"):Ot("beforeFSIDate",r,o,i,s,c.beforeFSIDate,d),""!==t&&function(e,t){return e.isValid()&&t.isAfter(e,Tt)}(t,l)?Ot("afterLSSDate",a,o,i,u,c.afterLSSDate,d):_t(null,o.get(i).at(d).get(u),"afterLSSDate"),l.isBefore(n,Tt)?Ot("beforeCurrStartDate",a,o,i,u,c.beforeCurrStartDate,d):_t(null,o.get(i).at(d).get(u),"beforeCurrStartDate")}function Ot(e,t,n,l,r,a,o){switch(e){case"beforeCurrStartDate":Object.assign(t,{beforeCurrStartDate:a});break;case"afterPrevEndDate":Object.assign(t,{afterPrevEndDate:a});break;case"afterNextStartDate":Object.assign(t,{afterNextStartDate:a});break;case"beforeFSIDate":Object.assign(t,{beforeFSIDate:a});break;case"afterLSSDate":Object.assign(t,{afterLSSDate:a})}var i=n.get(l).at(o).get(r);i.hasError(e)||i.setErrors(t)}function _t(e,t,n){var l={},r=t?t.errors:null,a=e?e.errors:null;switch(n){case"beforeCurrStartDate":r&&t.hasError("beforeCurrStartDate")&&(delete r.beforeCurrStartDate,Object.assign(l,r),l=0===Object.keys(l).length?null:l,t.setErrors(l));break;case"beforeFSIDate":a&&e.hasError("beforeFSIDate")&&(delete a.beforeFSIDate,Object.assign(l,a),l=0===Object.keys(l).length?null:l,e.setErrors(l));break;case"afterLSSDate":r&&t.hasError("afterLSSDate")&&(delete r.afterLSSDate,Object.assign(l,r),l=0===Object.keys(l).length?null:l,t.setErrors(l))}}function Nt(e,t){return function(n){var l={},r=n.getRawValue();return r&&r.length>0&&r.forEach((function(r,o){var i=0;e.forEach((function(e){a.c.isDefined(r[e])||i++})),i&&0!==i&&i!==e.length?e.forEach((function(e){a.c.isDefined(r[e])?Mt(n,e,o):function(e,t,n,l,r){Object.assign(e,{blankField:r});var a=t.at(n).get(l);a.hasError("matDatepickerParse")?Mt(t,l,n):a.hasError("blankField")||a.setErrors(e)}(l,n,o,e,t.BLANK_FIELD)})):function(e,t,n){t.forEach((function(t){Mt(e,t,n)}))}(n,e,o)})),l&&(l=0===Object.keys(l).length?null:l),l}}function Mt(e,t,n){if(e&&e.at(n)){var l=e.at(n).get(t),r=e.at(n).get(t).errors;r&&(l&&l.hasError("blankField")&&delete r.blankField,r=null!==r&&0===Object.keys(r).length?null:r,l.setErrors(r))}}},uW5p:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var l=n("LoAr"),r=n("Gien"),a=n("Ho7M"),o=n("GcYS"),i=n("0xYh"),s=n("Z5FQ"),u=n("Hc9t"),c=n("rXXt"),d=n("IfiR"),p=n("s8WJ"),h=n("QsvA"),f=n("LYzL"),m=n("C7Lb"),g=n("WV+C"),y=n("+3V+"),v=n("dgjn"),S=n("WT9V"),R=n("GF7X"),C=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function b(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,5,"button",[["aria-label","Clear"],["mat-button",""],["mat-icon-button",""],["matSuffix",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.pasteDatesForm.get("pastedateRangers").setValue("")&&l),l}),r.b,r.a)),l["ɵdid"](1,16384,[[9,4]],0,a.h,[],null,null),l["ɵdid"](2,180224,null,0,o.b,[l.ElementRef,i.h,[2,s.a]],null,null),(e()(),l["ɵeld"](3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),l["ɵdid"](4,9158656,null,0,c.b,[l.ElementRef,c.d,[8,null],[2,c.a],[2,l.ErrorHandler]],null,null),(e()(),l["ɵted"](-1,0,["close"]))],(function(e,t){e(t,4,0)}),(function(e,t){e(t,0,0,l["ɵnov"](t,2).disabled||null,"NoopAnimations"===l["ɵnov"](t,2)._animationMode),e(t,3,0,l["ɵnov"](t,4).inline,"primary"!==l["ɵnov"](t,4).color&&"accent"!==l["ɵnov"](t,4).color&&"warn"!==l["ɵnov"](t,4).color)}))}function P(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),l["ɵdid"](1,16384,[[6,4]],0,a.b,[],null,null),(e()(),l["ɵted"](-1,null,[" This field is required. "]))],null,(function(e,t){e(t,0,0,l["ɵnov"](t,1).id)}))}function D(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),l["ɵdid"](1,16384,[[6,4]],0,a.b,[],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,1).id),e(t,2,0,n.pasteDatesForm.get("pastedateRangers").getError("pastedateRangers"))}))}function A(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,51,"form",[["class","paste-dates-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,a=e.component;return"submit"===t&&(r=!1!==l["ɵnov"](e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==l["ɵnov"](e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==a.applyToSI(a.data.labels.okLabel,a.pasteDatesForm)&&r),r}),null,null)),l["ɵdid"](1,16384,null,0,d.G,[],null,null),l["ɵdid"](2,540672,null,0,d.l,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["ɵprd"](2048,null,d.d,null,[d.l]),l["ɵdid"](4,16384,null,0,d.t,[[4,d.d]],null,null),(e()(),l["ɵeld"](5,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["ɵdid"](6,81920,null,0,p.m,[[2,p.l],l.ElementRef,p.e],null,null),(e()(),l["ɵted"](7,null,[""," - ",""])),(e()(),l["ɵeld"](8,0,null,null,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),l["ɵdid"](9,16384,null,0,a.f,[],null,null),(e()(),l["ɵted"](10,null,["",""])),(e()(),l["ɵeld"](11,0,null,null,29,"div",[["class","paste-date-content mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l["ɵdid"](12,16384,null,0,p.j,[],null,null),(e()(),l["ɵeld"](13,0,null,null,27,"mat-form-field",[["appearance","outline"],["class","paste-date-rangers mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,h.b,h.a)),l["ɵdid"](14,7520256,null,9,a.c,[l.ElementRef,l.ChangeDetectorRef,[2,f.h],[2,m.b],[2,a.a],g.a,l.NgZone,[2,s.a]],{appearance:[0,"appearance"],floatLabel:[1,"floatLabel"]},null),l["ɵqud"](603979776,1,{_controlNonStatic:0}),l["ɵqud"](335544320,2,{_controlStatic:0}),l["ɵqud"](603979776,3,{_labelChildNonStatic:0}),l["ɵqud"](335544320,4,{_labelChildStatic:0}),l["ɵqud"](603979776,5,{_placeholderChild:0}),l["ɵqud"](603979776,6,{_errorChildren:1}),l["ɵqud"](603979776,7,{_hintChildren:1}),l["ɵqud"](603979776,8,{_prefixChildren:1}),l["ɵqud"](603979776,9,{_suffixChildren:1}),(e()(),l["ɵeld"](24,0,null,1,10,"textarea",[["cdkAutosizeMaxRows","20"],["cdkAutosizeMinRows","20"],["cdkTextareaAutosize",""],["class","cdk-textarea-autosize mat-input-element mat-form-field-autofill-control"],["formControlName","pastedateRangers"],["matInput",""],["required",""],["rows","1"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==l["ɵnov"](e,25)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,25).onTouched()&&r),"compositionstart"===t&&(r=!1!==l["ɵnov"](e,25)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l["ɵnov"](e,25)._compositionEnd(n.target.value)&&r),"input"===t&&(r=!1!==l["ɵnov"](e,32)._noopInputHandler()&&r),"blur"===t&&(r=!1!==l["ɵnov"](e,33)._focusChanged(!1)&&r),"focus"===t&&(r=!1!==l["ɵnov"](e,33)._focusChanged(!0)&&r),"input"===t&&(r=!1!==l["ɵnov"](e,33)._onInput()&&r),r}),null,null)),l["ɵdid"](25,16384,null,0,d.e,[l.Renderer2,l.ElementRef,[2,d.a]],null,null),l["ɵdid"](26,16384,null,0,d.z,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,d.p,(function(e){return[e]}),[d.z]),l["ɵprd"](1024,null,d.q,(function(e){return[e]}),[d.e]),l["ɵdid"](29,671744,null,0,d.j,[[3,d.d],[6,d.p],[8,null],[6,d.q],[2,d.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,d.r,null,[d.j]),l["ɵdid"](31,16384,null,0,d.s,[[4,d.r]],null,null),l["ɵdid"](32,4603904,[["autosize",4]],0,y.b,[l.ElementRef,g.a,l.NgZone],{minRows:[0,"minRows"],maxRows:[1,"maxRows"],enabled:[2,"enabled"]},null),l["ɵdid"](33,999424,null,0,v.b,[l.ElementRef,g.a,[6,d.r],[2,d.u],[2,d.l],f.b,[8,null],y.a,l.NgZone],{placeholder:[0,"placeholder"],required:[1,"required"]},null),l["ɵprd"](2048,[[1,4],[2,4]],a.d,null,[v.b]),(e()(),l["ɵand"](16777216,null,4,1,null,b)),l["ɵdid"](36,16384,null,0,S.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,5,1,null,P)),l["ɵdid"](38,16384,null,0,S.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](16777216,null,5,1,null,D)),l["ɵdid"](40,16384,null,0,S.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](41,0,null,null,10,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l["ɵdid"](42,16384,null,0,p.f,[],null,null),(e()(),l["ɵeld"](43,0,null,null,2,"button",[["class","cancel-btn ctos-btn-secondary"],["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancel()&&l),l}),r.b,r.a)),l["ɵdid"](44,180224,null,0,o.b,[l.ElementRef,i.h,[2,s.a]],null,null),(e()(),l["ɵted"](45,0,[" "," "])),(e()(),l["ɵeld"](46,0,null,null,5,"button",[["cdkFocusInitial",""],["class","ok-btn ctos-btn-primary"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,r.b,r.a)),l["ɵprd"](512,null,S["ɵNgClassImpl"],S["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](48,278528,null,0,S.NgClass,[S["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](49,{"disabled-button":0}),l["ɵdid"](50,180224,null,0,o.b,[l.ElementRef,i.h,[2,s.a]],{disabled:[0,"disabled"]},null),(e()(),l["ɵted"](51,0,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,n.pasteDatesForm),e(t,6,0),e(t,14,0,"outline","never"),e(t,26,0,""),e(t,29,0,"pastedateRangers"),e(t,32,0,"20","20",""),e(t,33,0,l["ɵinlineInterpolate"](1,"",n.data.labels.placeHolder,""),""),e(t,36,0,n.pasteDatesForm.get("pastedateRangers").value),e(t,38,0,n.pasteDatesForm.get("pastedateRangers").hasError("required")),e(t,40,0,n.pasteDatesForm.get("pastedateRangers").hasError("pastedateRangers"));var r=e(t,49,0,!n.pasteDatesForm.valid);e(t,48,0,"ok-btn ctos-btn-primary",r),e(t,50,0,!n.pasteDatesForm.valid)}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,4).ngClassUntouched,l["ɵnov"](t,4).ngClassTouched,l["ɵnov"](t,4).ngClassPristine,l["ɵnov"](t,4).ngClassDirty,l["ɵnov"](t,4).ngClassValid,l["ɵnov"](t,4).ngClassInvalid,l["ɵnov"](t,4).ngClassPending),e(t,5,0,l["ɵnov"](t,6).id),e(t,7,0,null==n.data.labels?null:n.data.labels.heading,n.data.countryName),e(t,8,0,"end"==l["ɵnov"](t,9).align,l["ɵnov"](t,9).id,null),e(t,10,0,n.data.labels.subHeading),e(t,13,1,["standard"==l["ɵnov"](t,14).appearance,"fill"==l["ɵnov"](t,14).appearance,"outline"==l["ɵnov"](t,14).appearance,"legacy"==l["ɵnov"](t,14).appearance,l["ɵnov"](t,14)._control.errorState,l["ɵnov"](t,14)._canLabelFloat,l["ɵnov"](t,14)._shouldLabelFloat(),l["ɵnov"](t,14)._hasFloatingLabel(),l["ɵnov"](t,14)._hideControlPlaceholder(),l["ɵnov"](t,14)._control.disabled,l["ɵnov"](t,14)._control.autofilled,l["ɵnov"](t,14)._control.focused,"accent"==l["ɵnov"](t,14).color,"warn"==l["ɵnov"](t,14).color,l["ɵnov"](t,14)._shouldForward("untouched"),l["ɵnov"](t,14)._shouldForward("touched"),l["ɵnov"](t,14)._shouldForward("pristine"),l["ɵnov"](t,14)._shouldForward("dirty"),l["ɵnov"](t,14)._shouldForward("valid"),l["ɵnov"](t,14)._shouldForward("invalid"),l["ɵnov"](t,14)._shouldForward("pending"),!l["ɵnov"](t,14)._animationsEnabled]),e(t,24,1,[l["ɵnov"](t,26).required?"":null,l["ɵnov"](t,31).ngClassUntouched,l["ɵnov"](t,31).ngClassTouched,l["ɵnov"](t,31).ngClassPristine,l["ɵnov"](t,31).ngClassDirty,l["ɵnov"](t,31).ngClassValid,l["ɵnov"](t,31).ngClassInvalid,l["ɵnov"](t,31).ngClassPending,l["ɵnov"](t,33)._isServer,l["ɵnov"](t,33).id,l["ɵnov"](t,33).placeholder,l["ɵnov"](t,33).disabled,l["ɵnov"](t,33).required,l["ɵnov"](t,33).readonly&&!l["ɵnov"](t,33)._isNativeSelect||null,l["ɵnov"](t,33)._ariaDescribedby||null,l["ɵnov"](t,33).errorState,l["ɵnov"](t,33).required.toString()]),e(t,43,0,l["ɵnov"](t,44).disabled||null,"NoopAnimations"===l["ɵnov"](t,44)._animationMode),e(t,45,0,null==n.data.labels?null:n.data.labels.cancelLabel),e(t,46,0,l["ɵnov"](t,50).disabled||null,"NoopAnimations"===l["ɵnov"](t,50)._animationMode),e(t,51,0,null==n.data.labels?null:n.data.labels.okLabel)}))}function E(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-paste-dates",[],null,null,null,A,C)),l["ɵdid"](1,114688,null,0,R.a,[p.l,p.a,d.g],null,null)],(function(e,t){e(t,1,0)}),null)}var T=l["ɵccf"]("ctos-paste-dates",R.a,E,{},{},[])},ut0E:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n("D57K"),r=n("hk5J"),a=n("Jg5f"),o=n("5IsW"),i=n("6nV5"),s=n("uMZP"),u=n("fQLH"),c=function(){function e(e,t,n){this.localeAppResourcesService=e,this.payloadCommandService=t,this.baseConnectionService=n,this.geographySubject=new u.a,this.availableCountriesChange=new r.BehaviorSubject([]),this.selectedCountriesChange=new r.BehaviorSubject([]),this.SORT_KEY="name",this.regionsTree=[],this.selectedCountryRegions=[],this.availableCountryRegions=[]}return e.prototype.init=function(){},e.prototype.getFilterCountryData=function(e){var t=this,n=s.m.getModuleInfo(),l=this.payloadCommandService.getCommandDetails(o.p.GET_FILTER_COUNTRY_DATA,null,null,null,n),r={};return r.cacheKey=i.l.GetFilterCountryData,this.baseConnectionService.sendRequest(l,r).pipe(Object(a.a)((function(n){if(n.result===i.k.RESULT_OK)return t.regionsTree=t.getRegions(n.countryRegionMappingList.countryRegionMapping),t.setGeographySubject(t.regionsTree),t.availableCountryRegions=t.getCopyObj(t.regionsTree),e&&t.removeFromAvailableList(e),t.availableCountriesChange.next(t.availableCountryRegions),n})))},e.prototype.setGeographySubject=function(e){e&&e.length>0&&this.geographySubject.next(e)},e.prototype.getGeographySubject=function(){return this.geographySubject.asObservable()},e.prototype.getRegions=function(e){var t=this,n=[];return e&&Array.isArray(e)&&0!==e.length&&(n=e.map((function(e){return{name:e.regionDetails.regionName,code:e.regionDetails.regionCode,key:e.regionDetails.regionKey,countries:Array.isArray(e.countryDataList.countryData)?t.sortItems(e.countryDataList.countryData.map((function(e){return{name:e.countryName,code:e.countryCode,key:e.countryKey}}))):[{name:e.countryDataList.countryData.countryName,code:e.countryDataList.countryData.countryCode,key:e.countryDataList.countryData.countryKey}]}}))),this.sortItems(n)},e.prototype.getRegionsTree=function(){return this.regionsTree},e.prototype.getSelectedRegions=function(){return this.selectedCountryRegions},e.prototype.getAvailableRegions=function(){return this.availableCountryRegions},e.prototype.addToAvailableList=function(e){e&&Array.isArray(e)&&(this.availableCountryRegions=this.addToList(e,this.availableCountryRegions),this.availableCountriesChange.next(this.availableCountryRegions))},e.prototype.addToSelectionList=function(e){e&&Array.isArray(e)&&(this.selectedCountryRegions=this.addToList(e,this.selectedCountryRegions),this.selectedCountriesChange.next(this.selectedCountryRegions))},e.prototype.addToList=function(e,t){var n=this;if(e&&Array.isArray(e)&&t&&Array.isArray(t)){var l=this.getCopyObj(t);return e.forEach((function(e){var t=l&&l.length>0&&e?l.findIndex((function(t){return t.key===e.key})):-1;if(-1===t){var r=n.getCopyObj(e);l.push(r)}else e.countries.forEach((function(e){n.isDuplicateCountry(l[t].countries,e)||l[t].countries.push(e)})),l[t].countries=n.sortItems(l[t].countries,n.SORT_KEY)})),this.getCopyObj(this.sortItems(l,this.SORT_KEY))}},e.prototype.isDuplicateCountry=function(e,t){return!(!e||!t)&&-1!==e.findIndex((function(e){return e.key===t.key}))},e.prototype.removeFromAvailableList=function(e){e&&Array.isArray(e)&&(this.availableCountryRegions=this.sortItems(this.removeFromList(e,this.availableCountryRegions),this.SORT_KEY),this.availableCountriesChange.next(this.availableCountryRegions))},e.prototype.removeFromSelectionList=function(e){e&&Array.isArray(e)&&(this.selectedCountryRegions=this.sortItems(this.removeFromList(e,this.selectedCountryRegions),this.SORT_KEY),this.selectedCountriesChange.next(this.selectedCountryRegions))},e.prototype.removeFromList=function(e,t){if(e&&t){var n=this.getCopyObj(t);return e.forEach((function(e){var t=n.findIndex((function(t){return t.key===e.key}));t>-1&&(n[t].countries.length>1?(e.countries.forEach((function(e){var l=n[t].countries.findIndex((function(t){return e.key===t.key}));l>-1&&n[t].countries.splice(l,1)})),0===n[t].countries.length&&n.splice(t,1)):n.splice(t,1))})),n}},e.prototype.getRegionByCountry=function(e){var t=this,n=null;return e&&this.regionsTree&&this.regionsTree.forEach((function(l){l.countries.findIndex((function(t){return t.key===e.key}))>-1&&(n=t.getCopyObj(l))})),n},e.prototype.copyToSelected=function(e){e&&(this.addToSelectionList(e),this.removeFromAvailableList(e))},e.prototype.copyToAvailable=function(e){e&&(this.addToAvailableList(e),this.removeFromSelectionList(e))},e.prototype.sortItems=function(e,t,n){return void 0===t&&(t=this.SORT_KEY),this.getCopyObj(e).sort((function(e,l){var r=e[t],a=l[t];return"string"==typeof r&&"string"==typeof a&&(r=r.toLowerCase(),a=a.toLowerCase()),"SORT_ORDER_DESC"===n?a<r||""===a?-1:a>r||""===r?1:0:r<a||""===r?-1:r>a||""===a?1:0}))},e.prototype.getCopyObj=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.copyAllToSelected=function(){this.copyToSelected(this.availableCountryRegions)},e.prototype.copyAllToAvailable=function(){var e=this;this.selectedCountryRegions.forEach((function(t){var n,r=e.availableCountryRegions.findIndex((function(e){return e.key===t.key}));-1===r?e.availableCountryRegions.push(t):(n=e.availableCountryRegions[r].countries).push.apply(n,l.__spread(t.countries))})),this.selectedCountryRegions=[],this.selectedCountriesChange.next(this.selectedCountryRegions),this.availableCountriesChange.next(this.sortItems(this.availableCountryRegions,this.SORT_KEY))},e.prototype.pullFromSource=function(e){this.copyToSelected(this.convertSourceCountriesToSelectionList(e))},e.prototype.convertSourceCountriesToSelectionList=function(e){var t=this,n=[];return e&&0!==e.length&&e.forEach((function(e){if("Y"===e.isInSource&&"Country"===e.geographyLevel){var l=t.getRegionByCountry({key:e.geographyKey});if(l){var r=n.findIndex((function(e){return e.key===l.key}));-1===r?(l.countries=[],l.countries.push({name:e.geographyName,key:e.geographyKey,isSelected:!1,code:""}),n.push(l)):(n[r].countries.push({name:e.geographyName,key:e.geographyKey,isSelected:!1,code:""}),n[r].countries=t.sortItems(n[r].countries))}}})),n},e.prototype.getSelectCountriesLabels=function(){return{ADD_COUNTRIES:this.localeAppResourcesService.getResource("ADD_COUNTRIES"),SEARCH_FOR_COUNTRIES:this.localeAppResourcesService.getResource("SEARCH_FOR_COUNTRIES"),SELECT_COUNTRIES:this.localeAppResourcesService.getResource("SELECT_COUNTRIES"),PULL_FROM_SOURCE:this.localeAppResourcesService.getResource("PullFromSource"),AVAILABLE_COUNTRIES:this.localeAppResourcesService.getResource("AvailabelCountries"),SELECTED_COUNTRIES:this.localeAppResourcesService.getResource("SCSelectedCountriesText"),OK:this.localeAppResourcesService.getResource("OkLabel"),CANCEL:this.localeAppResourcesService.getResource("Cancel"),SAVE:this.localeAppResourcesService.getResource("Save"),NO_MORE_SOURCE_COUNTRIES:this.localeAppResourcesService.getResource("NoNewSourceCountries")}},e.prototype.resetLists=function(e){this.availableCountryRegions=this.getCopyObj(this.regionsTree),e&&this.removeFromAvailableRegions(e),this.selectedCountryRegions=[],this.selectedCountriesChange.next(this.selectedCountryRegions),this.availableCountriesChange.next(this.sortItems(this.availableCountryRegions,this.SORT_KEY))},e.prototype.convertExistingCountriesToSelectionList=function(e){var t=this,n=[];return e&&0!==e.length&&e.forEach((function(e){var l=t.getRegionByCountry({key:e.geographyKey});if(l){var r=n.findIndex((function(e){return e.key===l.key}));-1===r?(l.countries=[],l.countries.push({name:e.geographyName,key:e.geographyKey,isSelected:!1,code:""}),n.push(l)):(n[r].countries.push({name:e.geographyName,key:e.geographyKey,isSelected:!1,code:""}),n[r].countries=t.sortItems(n[r].countries))}})),n},e.prototype.removeFromAvailableRegions=function(e){this.removeFromAvailableList(this.convertExistingCountriesToSelectionList(e))},e}()},w1qh:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var l=n("LoAr"),r=n("EAoM"),a=n("X7Hn"),o=n("IfiR"),i=n("Kej7"),s=n("z1EI"),u=n("0xYh"),c=n("Z5FQ"),d=n("x8+N"),p=n("s8WJ"),h=n("C7Lb"),f=n("WT9V"),m=n("WV+C"),g=n("Gien"),y=n("GcYS"),v=n("VbXj"),S=n("6nV5"),R=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function C(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"th",[["class","first-header-row-th mat-header-cell"],["colspan","3"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),l["ɵdid"](1,16384,null,0,r.h,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,t.component.dialogData.labels.TABLE_SI_HEADING)}))}function b(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),l["ɵdid"](1,16384,null,0,r.h,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,t.component.dialogData.labels.START_DATE)}))}function P(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),l["ɵdid"](1,16384,null,0,r.a,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,null==t.context.$implicit?null:t.context.$implicit.slotStartDate)}))}function D(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),l["ɵdid"](1,16384,null,0,r.h,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,t.component.dialogData.labels.END_DATE)}))}function A(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),l["ɵdid"](1,16384,null,0,r.a,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,null==t.context.$implicit?null:t.context.$implicit.slotEndDate)}))}function E(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),l["ɵdid"](1,16384,null,0,r.h,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.dialogData.labels.SITES)}))}function T(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),l["ɵdid"](1,16384,null,0,r.a,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,null==t.context.$implicit?null:t.context.$implicit.noOfCenters)}))}function I(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"th",[["class","second-header-row-th mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],[[1,"colspan",0]],null,null,null,null)),l["ɵdid"](1,16384,null,0,r.h,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,l["ɵinlineInterpolate"](1,"",n.cohortColumnsToDisplay.length,"")),e(t,2,0,n.dialogData.labels.TABLE_PC_HEADING)}))}function L(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),l["ɵdid"](1,16384,null,0,r.h,[a.d,l.ElementRef],null,null),(e()(),l["ɵted"](2,null,[" "," "]))],null,(function(e,t){e(t,2,0,t.parent.context.$implicit.cohortName)}))}function O(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,10,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l["ɵdid"](1,212992,null,0,o.m,[[3,o.d],[8,null],[8,null]],{name:[0,"name"]},null),l["ɵprd"](2048,null,o.d,null,[o.m]),l["ɵdid"](3,16384,null,0,o.t,[[4,o.d]],null,null),l["ɵdid"](4,16384,null,0,r.a,[a.d,l.ElementRef],null,null),(e()(),l["ɵeld"](5,0,null,null,5,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.checkBoxStatus(n)&&l),l}),i.b,i.a)),l["ɵdid"](6,8568832,null,0,s.b,[l.ElementRef,l.ChangeDetectorRef,u.h,l.NgZone,[8,null],[2,s.a],[2,c.a]],null,{change:"change"}),l["ɵprd"](1024,null,o.q,(function(e){return[e]}),[s.b]),l["ɵdid"](8,671744,null,0,o.j,[[3,o.d],[8,null],[8,null],[6,o.q],[2,o.E]],{name:[0,"name"]},null),l["ɵprd"](2048,null,o.r,null,[o.j]),l["ɵdid"](10,16384,null,0,o.s,[[4,o.r]],null,null)],(function(e,t){e(t,1,0,t.context.index),e(t,8,0,t.parent.context.$implicit.cohortKey)}),(function(e,t){e(t,0,0,l["ɵnov"](t,3).ngClassUntouched,l["ɵnov"](t,3).ngClassTouched,l["ɵnov"](t,3).ngClassPristine,l["ɵnov"](t,3).ngClassDirty,l["ɵnov"](t,3).ngClassValid,l["ɵnov"](t,3).ngClassInvalid,l["ɵnov"](t,3).ngClassPending),e(t,5,1,[l["ɵnov"](t,6).id,null,l["ɵnov"](t,6).indeterminate,l["ɵnov"](t,6).checked,l["ɵnov"](t,6).disabled,"before"==l["ɵnov"](t,6).labelPosition,"NoopAnimations"===l["ɵnov"](t,6)._animationMode,l["ɵnov"](t,10).ngClassUntouched,l["ɵnov"](t,10).ngClassTouched,l["ɵnov"](t,10).ngClassPristine,l["ɵnov"](t,10).ngClassDirty,l["ɵnov"](t,10).ngClassValid,l["ɵnov"](t,10).ngClassInvalid,l["ɵnov"](t,10).ngClassPending])}))}function _(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,12,null,null,null,null,null,null,null)),l["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[r.c]),l["ɵdid"](2,16384,null,3,r.c,[],{name:[0,"name"]},null),l["ɵqud"](603979776,20,{cell:0}),l["ɵqud"](603979776,21,{headerCell:0}),l["ɵqud"](603979776,22,{footerCell:0}),l["ɵprd"](2048,[[1,4]],a.d,null,[r.c]),(e()(),l["ɵand"](0,null,null,2,null,L)),l["ɵdid"](8,16384,null,0,r.i,[l.TemplateRef],null,null),l["ɵprd"](2048,[[21,4]],a.j,null,[r.i]),(e()(),l["ɵand"](0,null,null,2,null,O)),l["ɵdid"](11,16384,null,0,r.b,[l.TemplateRef],null,null),l["ɵprd"](2048,[[20,4]],a.b,null,[r.b])],(function(e,t){e(t,2,0,t.context.$implicit.cohortName)}),null)}function N(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"tr",[["class","first-header-row mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,d.f,d.b)),l["ɵprd"](6144,null,a.k,null,[r.j]),l["ɵdid"](2,49152,null,0,r.j,[],null,null)],null,null)}function M(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"tr",[["class","second-header-row mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,d.f,d.b)),l["ɵprd"](6144,null,a.k,null,[r.j]),l["ɵdid"](2,49152,null,0,r.j,[],null,null)],null,null)}function w(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,d.g,d.c)),l["ɵprd"](6144,null,a.m,null,[r.l]),l["ɵdid"](2,49152,null,0,r.l,[],null,null)],null,null)}function x(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,103,"form",[["class","map-cohorts-container"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,a=e.component;return"submit"===t&&(r=!1!==l["ɵnov"](e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==l["ɵnov"](e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==a.ok(a.dialogData.labels.okLabel,a.mapCohortsForm)&&r),r}),null,null)),l["ɵdid"](1,16384,null,0,o.G,[],null,null),l["ɵdid"](2,540672,null,0,o.l,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["ɵprd"](2048,null,o.d,null,[o.l]),l["ɵdid"](4,16384,null,0,o.t,[[4,o.d]],null,null),(e()(),l["ɵeld"](5,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l["ɵdid"](6,81920,null,0,p.m,[[2,p.l],l.ElementRef,p.e],null,null),(e()(),l["ɵted"](7,null,["",""])),(e()(),l["ɵeld"](8,0,null,null,1,"span",[["class","mat-dialog-subHeading"]],null,null,null,null,null)),(e()(),l["ɵted"](9,null,["",""])),(e()(),l["ɵeld"](10,0,null,null,82,"div",[["class","map-cohorts-content mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l["ɵdid"](11,16384,null,0,p.j,[],null,null),(e()(),l["ɵeld"](12,0,null,null,80,"table",[["class","map-cohorts-table mat-table"],["formArrayName","slotCohortsArray"],["mat-table",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,d.h,d.d)),l["ɵprd"](6144,null,a.o,null,[r.n]),l["ɵdid"](14,212992,null,0,o.f,[[3,o.d],[8,null],[8,null]],{name:[0,"name"]},null),l["ɵprd"](2048,null,o.d,null,[o.f]),l["ɵdid"](16,16384,null,0,o.t,[[4,o.d]],null,null),l["ɵdid"](17,2342912,null,4,r.n,[l.IterableDiffers,l.ChangeDetectorRef,l.ElementRef,[8,null],[2,h.b],f.DOCUMENT,m.a],{dataSource:[0,"dataSource"]},null),l["ɵqud"](603979776,1,{_contentColumnDefs:1}),l["ɵqud"](603979776,2,{_contentRowDefs:1}),l["ɵqud"](603979776,3,{_contentHeaderRowDefs:1}),l["ɵqud"](603979776,4,{_contentFooterRowDefs:1}),(e()(),l["ɵeld"](22,0,null,null,9,null,null,null,null,null,null,null)),l["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[r.c]),l["ɵdid"](24,16384,null,3,r.c,[],{name:[0,"name"]},null),l["ɵqud"](603979776,5,{cell:0}),l["ɵqud"](603979776,6,{headerCell:0}),l["ɵqud"](603979776,7,{footerCell:0}),l["ɵprd"](2048,[[1,4]],a.d,null,[r.c]),(e()(),l["ɵand"](0,null,null,2,null,C)),l["ɵdid"](30,16384,null,0,r.i,[l.TemplateRef],null,null),l["ɵprd"](2048,[[6,4]],a.j,null,[r.i]),(e()(),l["ɵeld"](32,0,null,null,12,null,null,null,null,null,null,null)),l["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[r.c]),l["ɵdid"](34,16384,null,3,r.c,[],{name:[0,"name"]},null),l["ɵqud"](603979776,8,{cell:0}),l["ɵqud"](603979776,9,{headerCell:0}),l["ɵqud"](603979776,10,{footerCell:0}),l["ɵprd"](2048,[[1,4]],a.d,null,[r.c]),(e()(),l["ɵand"](0,null,null,2,null,b)),l["ɵdid"](40,16384,null,0,r.i,[l.TemplateRef],null,null),l["ɵprd"](2048,[[9,4]],a.j,null,[r.i]),(e()(),l["ɵand"](0,null,null,2,null,P)),l["ɵdid"](43,16384,null,0,r.b,[l.TemplateRef],null,null),l["ɵprd"](2048,[[8,4]],a.b,null,[r.b]),(e()(),l["ɵeld"](45,0,null,null,12,null,null,null,null,null,null,null)),l["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[r.c]),l["ɵdid"](47,16384,null,3,r.c,[],{name:[0,"name"]},null),l["ɵqud"](603979776,11,{cell:0}),l["ɵqud"](603979776,12,{headerCell:0}),l["ɵqud"](603979776,13,{footerCell:0}),l["ɵprd"](2048,[[1,4]],a.d,null,[r.c]),(e()(),l["ɵand"](0,null,null,2,null,D)),l["ɵdid"](53,16384,null,0,r.i,[l.TemplateRef],null,null),l["ɵprd"](2048,[[12,4]],a.j,null,[r.i]),(e()(),l["ɵand"](0,null,null,2,null,A)),l["ɵdid"](56,16384,null,0,r.b,[l.TemplateRef],null,null),l["ɵprd"](2048,[[11,4]],a.b,null,[r.b]),(e()(),l["ɵeld"](58,0,null,null,12,null,null,null,null,null,null,null)),l["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[r.c]),l["ɵdid"](60,16384,null,3,r.c,[],{name:[0,"name"]},null),l["ɵqud"](603979776,14,{cell:0}),l["ɵqud"](603979776,15,{headerCell:0}),l["ɵqud"](603979776,16,{footerCell:0}),l["ɵprd"](2048,[[1,4]],a.d,null,[r.c]),(e()(),l["ɵand"](0,null,null,2,null,E)),l["ɵdid"](66,16384,null,0,r.i,[l.TemplateRef],null,null),l["ɵprd"](2048,[[15,4]],a.j,null,[r.i]),(e()(),l["ɵand"](0,null,null,2,null,T)),l["ɵdid"](69,16384,null,0,r.b,[l.TemplateRef],null,null),l["ɵprd"](2048,[[14,4]],a.b,null,[r.b]),(e()(),l["ɵeld"](71,0,null,null,9,null,null,null,null,null,null,null)),l["ɵprd"](6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[r.c]),l["ɵdid"](73,16384,null,3,r.c,[],{name:[0,"name"]},null),l["ɵqud"](603979776,17,{cell:0}),l["ɵqud"](603979776,18,{headerCell:0}),l["ɵqud"](603979776,19,{footerCell:0}),l["ɵprd"](2048,[[1,4]],a.d,null,[r.c]),(e()(),l["ɵand"](0,null,null,2,null,I)),l["ɵdid"](79,16384,null,0,r.i,[l.TemplateRef],null,null),l["ɵprd"](2048,[[18,4]],a.j,null,[r.i]),(e()(),l["ɵand"](16777216,null,null,1,null,_)),l["ɵdid"](82,278528,null,0,f.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵand"](0,null,null,3,null,N)),l["ɵdid"](84,540672,null,0,r.k,[l.TemplateRef,l.IterableDiffers],{columns:[0,"columns"],sticky:[1,"sticky"]},null),l["ɵpad"](85,2),l["ɵprd"](2048,[[3,4]],a.l,null,[r.k]),(e()(),l["ɵand"](0,null,null,2,null,M)),l["ɵdid"](88,540672,null,0,r.k,[l.TemplateRef,l.IterableDiffers],{columns:[0,"columns"],sticky:[1,"sticky"]},null),l["ɵprd"](2048,[[3,4]],a.l,null,[r.k]),(e()(),l["ɵand"](0,null,null,2,null,w)),l["ɵdid"](91,540672,null,0,r.m,[l.TemplateRef,l.IterableDiffers],{columns:[0,"columns"]},null),l["ɵprd"](2048,[[2,4]],a.n,null,[r.m]),(e()(),l["ɵeld"](93,0,null,null,10,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l["ɵdid"](94,16384,null,0,p.f,[],null,null),(e()(),l["ɵeld"](95,0,null,null,2,"button",[["class","cancel-btn"],["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancel()&&l),l}),g.b,g.a)),l["ɵdid"](96,180224,null,0,y.b,[l.ElementRef,u.h,[2,c.a]],null,null),(e()(),l["ɵted"](97,0,[" "," "])),(e()(),l["ɵeld"](98,0,null,null,5,"button",[["cdkFocusInitial",""],["class","ok-btn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,g.b,g.a)),l["ɵprd"](512,null,f["ɵNgClassImpl"],f["ɵNgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["ɵdid"](100,278528,null,0,f.NgClass,[f["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["ɵpod"](101,{"disabled-button":0}),l["ɵdid"](102,180224,null,0,y.b,[l.ElementRef,u.h,[2,c.a]],{disabled:[0,"disabled"]},null),(e()(),l["ɵted"](103,0,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,n.mapCohortsForm),e(t,6,0),e(t,14,0,"slotCohortsArray"),e(t,17,0,n.dialogData.dataSource),e(t,24,0,"si-schedule"),e(t,34,0,"startDate"),e(t,47,0,"endDate"),e(t,60,0,"noOfSites"),e(t,73,0,"participating-cohorts"),e(t,82,0,n.cohortColumnsToDisplay);var l=e(t,85,0,"si-schedule","participating-cohorts");e(t,84,0,l,!0),e(t,88,0,n.allColumnsToDisplay,!0),e(t,91,0,n.allColumnsToDisplay);var r=e(t,101,0,!(n.mapCohortsForm.valid&&n.mapCohortsForm.dirty||n.checkboxChange));e(t,100,0,"ok-btn",r),e(t,102,0,!(n.mapCohortsForm.valid&&n.mapCohortsForm.dirty||n.checkboxChange))}),(function(e,t){var n=t.component;e(t,0,0,l["ɵnov"](t,4).ngClassUntouched,l["ɵnov"](t,4).ngClassTouched,l["ɵnov"](t,4).ngClassPristine,l["ɵnov"](t,4).ngClassDirty,l["ɵnov"](t,4).ngClassValid,l["ɵnov"](t,4).ngClassInvalid,l["ɵnov"](t,4).ngClassPending),e(t,5,0,l["ɵnov"](t,6).id),e(t,7,0,null==n.dialogData.labels?null:n.dialogData.labels.heading),e(t,9,0,null==n.dialogData.labels?null:n.dialogData.labels.subHeading),e(t,12,0,l["ɵnov"](t,16).ngClassUntouched,l["ɵnov"](t,16).ngClassTouched,l["ɵnov"](t,16).ngClassPristine,l["ɵnov"](t,16).ngClassDirty,l["ɵnov"](t,16).ngClassValid,l["ɵnov"](t,16).ngClassInvalid,l["ɵnov"](t,16).ngClassPending),e(t,95,0,l["ɵnov"](t,96).disabled||null,"NoopAnimations"===l["ɵnov"](t,96)._animationMode),e(t,97,0,null==n.dialogData.labels?null:n.dialogData.labels.cancelLabel),e(t,98,0,l["ɵnov"](t,102).disabled||null,"NoopAnimations"===l["ɵnov"](t,102)._animationMode),e(t,103,0,null==n.dialogData.labels?null:n.dialogData.labels.okLabel)}))}function F(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-map-cohorts",[],null,null,null,x,R)),l["ɵdid"](1,114688,null,0,v.a,[p.l,p.a,o.g,p.e,S.M],null,null)],(function(e,t){e(t,1,0)}),null)}var k=l["ɵccf"]("ctos-map-cohorts",v.a,F,{},{},[])},zIGh:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var l=n("6nV5"),r=n("DH3O"),a=n("5IsW"),o=n("+Ve9"),i=n("LoAr"),s=n("uMZP"),u=function(){function e(e,t,n){this.indiMultiCountryOptions=e,this.localAppResources=t,this.appDataService=n}return e.prototype.onCountryOptionClick=function(e,t){switch(e){case this.batchCountryOptionsResources.LOCK_COUNTRIES:this.indiMultiCountryOptions.onActionLockSelected(t);break;case this.batchCountryOptionsResources.UNLOCK_COUNTRIES:this.indiMultiCountryOptions.onActionUnLockSelected(t);break;case this.batchCountryOptionsResources.DELETE_COUNTRIES:this.indiMultiCountryOptions.onActionDeleteSelected(t);break;case this.batchCountryOptionsResources.PASTE_PARAMETERS:this.indiMultiCountryOptions.onActionPasteParametersSelected(t)}},e.prototype.getBatchCountryOptions=function(e){return this.batchCountryOptions=[{name:this.getBatchCountryOptionsResources().LOCK_COUNTRIES,isVisible:this.appDataService.isCountryLockEnabled(),isEnabled:this.indiMultiCountryOptions.hasLockAccessMulti(e)&&this.indiMultiCountryOptions.hasRowsSelected(e)&&this.indiMultiCountryOptions.hasEditAccess(e)},{name:this.getBatchCountryOptionsResources().UNLOCK_COUNTRIES,isVisible:this.appDataService.isCountryLockEnabled(),isEnabled:this.indiMultiCountryOptions.hasUnlockAccessMulti(e)&&this.indiMultiCountryOptions.hasRowsSelected(e)&&this.indiMultiCountryOptions.hasEditAccess(e)},{name:this.getBatchCountryOptionsResources().DELETE_COUNTRIES,isVisible:!0,isEnabled:this.indiMultiCountryOptions.hasEditAccess(e)&&this.indiMultiCountryOptions.hasRowsSelected(e)},{name:this.getBatchCountryOptionsResources().BULK_EDIT_SELECTED_COUNTRIES,isVisible:!0,isEnabled:this.hasRowsSelectedForBulkEdit(e)&&this.indiMultiCountryOptions.hasEditAccess(e)}],this.batchCountryOptions},e.prototype.getBatchCountryOptionsResources=function(){return this.batchCountryOptionsResources||(this.batchCountryOptionsResources={LOCK_COUNTRIES:this.localAppResources.getResource("LOCK_COUNTRIES"),UNLOCK_COUNTRIES:this.localAppResources.getResource("UNLOCK_COUNTRIES"),PASTE_PARAMETERS:this.localAppResources.getResource("PASTE_PARAMETERS_TO_COUNTRIES"),DELETE_COUNTRIES:this.localAppResources.getResource("DELETE_COUNTRIES"),BULK_EDIT_SELECTED_COUNTRIES:this.localAppResources.getResource("BULK_EDIT_SELECTED_COUNTRIES")}),this.batchCountryOptionsResources},e.prototype.applyBulkEdit=function(e,t,n,l,r,a,o){for(var i=this.getFilteredAndSelectedRowNodes(e),s=0;s<i.length;s++){var u=i[s];this.isCountryEligibleForBulkEdit(u.data,l,n,e)&&(this.isDisabledCohortInSolver(u.data)||this.applyBulkEditForCountry(u,t,n,l,r,a,o))}},e.prototype.isCountryEligibleForBulkEdit=function(e,t,n,l){return!(!e||e.planParamsDetails.isCountryLocked||!t&&this.hasCountryAchievedLSR(e,n,l)||this.isExcludedCohort(e))},e.prototype.hasCountryAchievedLSR=function(e,t,n){var l;return l=t&&n?this.getCountryDataFromGrid(n,e):e,this.hasActualLSR(l)},e.prototype.getCountryDataFromGrid=function(e,t){var n=null;return e.forEachNode((function(e){e.data.geographyKey===t.geographyKey&&!1===e.data.isCohortCountry&&(n=e.data)})),n},e.prototype.isCohortRowHidden=function(e,t){var n=!0;return t.isCohortCountry&&e.forEachNode((function(e){e.data.geographyKey===t.geographyKey&&!1===e.data.isCohortCountry&&(n=!e.expanded)})),t.isCohortCountry&&n},e.prototype.hasActualLSR=function(e){return e&&e.planParamsDetails&&e.planParamsDetails.actuals&&l.c.isDefined(e.planParamsDetails.actuals.LSR)},e.prototype.isExcludedCohort=function(e){return e.isCohortCountry&&e.isCohortExcluded},e.prototype.isDisabledCohortInSolver=function(e){return!1===e.isSelectedCohort},e.prototype.applyBulkEditForCountry=function(e,t,n,r,a,i,s){var u=JSON.parse(JSON.stringify(e.data));return(!n||n&&u.isCohortCountry)&&l.c.isDefined(t.enrollmentTarget.value,!0)&&e.setDataValue(o.a.RT,t.enrollmentTarget.value),this.canApplyFSIChangesToCountry(u,r,n,s)&&(l.c.isDefined(t.daysToFSI.value,!0)&&e.setDataValue(o.a.DAYS_TO_FSI,t.daysToFSI.value),t.FSI.value&&e.setDataValue(o.a.FSI,l.c.formatDate(t.FSI.value))),(!n||n&&u.isCohortCountry)&&t.ARTB.value&&e.setDataValue(o.a.ARTB,l.c.formatDate(t.ARTB.value)),this.canApplyFSSChangesToCountry(u,r,n,s)&&l.c.isDefined(t.daysToFSS.value,!0)&&e.setDataValue(o.a.DAYS_TO_FSS,t.daysToFSS.value),(!n||n&&u.isCohortCountry)&&l.c.isDefined(t.overEnrollment.value,!0)&&e.setDataValue(o.a.OE,t.overEnrollment.value),this.canApplyRRChangesToCountry(u,n,i,a)&&l.c.isDefined(t.RR.value,!0)&&e.setDataValue(o.a.RR,t.RR.value),this.canApplySRChangesToCountry(u,n,i,a)&&l.c.isDefined(t.SR.value,!0)&&e.setDataValue(o.a.SR,t.SR.value),(!n||n&&u.isCohortCountry)&&t.SAS.value&&e.setDataValue(o.a.SAS,t.SAS.value),this.canApplySFRChangesToCountry(u,n,i)&&l.c.isDefined(t.SFR.value,!0)&&e.setDataValue(o.a.SFR,t.SFR.value),n?!1===u.isCohortCountry&&t.SI.value&&e.setDataValue(o.a.SITE_COMP_ID,t.SI.value):t.SI.value&&e.setDataValue(o.a.SITE_COMP_ID,t.SI.value),this.applyBulkEditForSIFields(u,n,r)&&(l.c.isDefined(t.numSites.value,!0)&&e.setDataValue(o.a.NUM_SITES,t.numSites.value),l.c.isDefined(t.daysTo25.value,!0)&&e.setDataValue(o.a.DAYS_TO_25,t.daysTo25.value),l.c.isDefined(t.daysTo50.value,!0)&&e.setDataValue(o.a.DAYS_TO_50,t.daysTo50.value),l.c.isDefined(t.daysTo90.value,!0)&&e.setDataValue(o.a.DAYS_TO_90,t.daysTo90.value)),u},e.prototype.applyBulkEditForSIFields=function(e,t,n){if(!this.isCustomSICountry(e))if(t){if(!1===e.isCohortCountry)return!0}else{if(n)return!0;if(!e.planParamsDetails.isAdjustable||e.planParamsDetails.isAdjustable&&e.planParamsDetails.redistSites>0)return!0}return!1},e.prototype.getBulkEditResources=function(){return{BULK_EDIT_SELECTED_COUNTRIES:this.localAppResources.getResource("BULK_EDIT_SELECTED_COUNTRIES"),RANDOMIZATION_TARGET:this.localAppResources.getResource("MCEPanelRTTT"),ACHIEVE_RANDOMIZATION_BY:this.localAppResources.getResource("ACHIEVE_RANDOMIZATION_BY"),OVER_ENROLLMENT:this.localAppResources.getResource("OVER_ENROLLMENT"),SCREENING_RATE:this.localAppResources.getResource("SCREENING_RATE"),RANDOMIZATION_RATE:this.localAppResources.getResource("RANDOMIZATION_RATE"),SCREEN_FAILURE_PERCENTAGE:this.localAppResources.getResource("SCREEN_FAILURE_PERCENTAGE"),FINAL_PROTOCOL_APPROVED:this.localAppResources.getResource("FINAL_PROTOCOL_APPROVED"),DAYS_FROM_FPA_TO_FSI:this.localAppResources.getResource("DAYS_FROM_FPA_TO_FSI"),FIRST_SITE_INITIATED:this.localAppResources.getResource("FIRST_SITE_INITIATED"),DAYS_FROM_FSI_TO_FSS:this.localAppResources.getResource("DAYS_FROM_FSI_TO_FSS"),FIRST_SUBJECT_SCREENED:this.localAppResources.getResource("FIRST_SUBJECT_SCREENED"),NUMBER_OF_SITES:this.localAppResources.getResource("NUMBER_OF_SITES"),SITES_TO_REDISTRIBUTE:this.localAppResources.getResource("SITES_TO_REDISTRIBUTE"),SITES_ACTIVELY_SCREENING_PERCENTAGE:this.localAppResources.getResource("SITES_ACTIVELY_SCREENING_PERCENTAGE"),SITE_INITIATION:this.localAppResources.getResource("SITE_INITIATION"),SITE_INITIATION_METHOD:this.localAppResources.getResource("SITE_INITIATION_METHOD"),DAYS_TO_25_PERCENT_SITES_INITIATED:this.localAppResources.getResource("DAYS_TO_25_PERCENT_SITES_INITIATED"),DAYS_TO_50_PERCENT_SITES_INITIATED:this.localAppResources.getResource("DAYS_TO_50_PERCENT_SITES_INITIATED"),DAYS_TO_90_PERCENT_SITES_INITIATED:this.localAppResources.getResource("DAYS_TO_90_PERCENT_SITES_INITIATED"),APPLY:this.localAppResources.getResource("MCEApplyLabel"),CANCEL:this.localAppResources.getResource("CancelLabel")}},e.prototype.getCountrySelectionPopupResources=function(){return{SELECT_COUNTRIES_TITLE:this.localAppResources.getResource("SELECT_COUNTRIES"),BULK_EDIT_COUNTRIES_TITLE:this.localAppResources.getResource("BULK_EDIT_COUNTRIES"),COUNTRY_SELECTION_WARNING_MESSAGE:this.localAppResources.getResource("COUNTRY_SELECTION_WARNING_MESSAGE"),COUNTRY_SELECTION_WARNING_MESSAGE_LOCKED_ALSR:this.localAppResources.getResource("COUNTRY_SELECTION_WARNING_MESSAGE_LOCKED_ALSR"),COUNTRY_SELECTION_WARNING_MESSAGE_LOCKED:this.localAppResources.getResource("COUNTRY_SELECTION_WARNING_MESSAGE_LOCKED"),COUNTRY_SELECTION_WARNING_MESSAGE_LOCKED_ALSR_CONTINUE_BULK_EDIT:this.localAppResources.getResource("COUNTRY_SELECTION_WARNING_MESSAGE_LOCKED_ALSR_CONTINUE_BULK_EDIT"),COUNTRY_SELECTION_WARNING_MESSAGE_LOCKED_CONTINUE_BULK_EDIT:this.localAppResources.getResource("COUNTRY_SELECTION_WARNING_MESSAGE_LOCKED_CONTINUE_BULK_EDIT"),CANCEL:this.localAppResources.getResource("CancelLabel"),OK:this.localAppResources.getResource("OkLabel")}},e.prototype.hasCountryAchievedFSS=function(e,t){return!(t||!e.planParamsDetails.actuals||!e.planParamsDetails.actuals.FSS)},e.prototype.canApplyFSSChangesToCountry=function(e,t,n,l){return!this.hasCountryAchievedFSS(e,t)&&(!n||!l&&e.isCohortCountry)},e.prototype.hasCountryAchievedFSI=function(e,t){return!(t||!e.planParamsDetails.actuals||!e.planParamsDetails.actuals.FSI)},e.prototype.canApplyFSIChangesToCountry=function(e,t,n,l){return!(this.hasCountryAchievedFSI(e,t)||this.isCustomSICountry(e)||n&&!1!==e.isCohortCountry)},e.prototype.canApplySFRChangesToCountry=function(e,t,n){if(!t)return!0;if(n){if(!1===e.isCohortCountry)return!0}else if(e.isCohortCountry)return!0;return!1},e.prototype.isCustomSICountry=function(e){return e.planParamsDetails.siteInitiationMethod===a.ac.GRANULAR},e.prototype.canApplySRChangesToCountry=function(e,t,n,l){return!t||!(!e.isCohortCountry||n||!l)},e.prototype.canApplyRRChangesToCountry=function(e,t,n,l){if(t){if(e.isCohortCountry){if(n)return!0;if(!l)return!0}}else if(!l)return!0;return!1},e.prototype.hasRowsSelectedForBulkEdit=function(e){return this.getFilteredAndSelectedRowNodes(e.api).length>0},e.prototype.getFilteredAndSelectedRowNodes=function(e){var t=this,n=new Array;return e.forEachNodeAfterFilter((function(l){l.isSelected()&&!t.isCohortRowHidden(e,l.data)&&n.push(l)})),n},e.ngInjectableDef=i["ɵɵdefineInjectable"]({factory:function(){return new e(i["ɵɵinject"](r.a),i["ɵɵinject"](l.M),i["ɵɵinject"](s.e))},token:e,providedIn:"root"}),e}()},zUnb:function(e,t,n){"use strict";n.r(t);var l=n("LoAr"),r=n("Woyu"),a=n("5Ln5"),o=function(){function e(e){this.bootstrapService=e}return e.prototype.load=function(){return this.bootstrapService.call(r.a,{clientVersion:"6.1",clientBuildID:"production",clientBuildDate:"FEB-26-2020 11:17:14"},{endPoint:!1,prelogin:!1})},e}(),i=function(){return function(){}}(),s=n("D57K"),u=n("981U"),c=n("6nV5"),d=n("iJR/"),p=n("gQst"),h=n("iUUs"),f=n("5IsW"),m=function(){function e(e,t,n){var l;this.router=e,this.userDataService=t,this.windowService=n,(l=this.router.config).unshift.apply(l,s.__spread(c.p.data)),this.windowService.redirectAsPerParams(),this.activityEvents()}return e.prototype.ngOnInit=function(){console.log("this.appdataservice.get"),window.Appcues.identify(this.userDataService.getUserId(),{name:this.userDataService.getUserName(),email:this.userDataService.getUserName(),created_at:1551171156765}),this.router.events.subscribe((function(e){e instanceof u.d&&window.Appcues&&window.Appcues.page()})),this.userDataService.userIdealWatch(),this.userActiveEvents()},e.prototype.activityEvents=function(){this.userDataService.userIdeal$=Object(d.a)(Object(p.a)(Object(h.a)(document,"click")))},e.prototype.userActiveEvents=function(){var e=this;Object(h.a)(document,"click").subscribe((function(t){return e.userDataService.keepUserSessionAlive(f.k)}))},e}(),g=n("C9Ky"),y=n("1i3o"),v=n("uMZP"),S=n("WT9V"),R=n("SECt"),C=n("eXL1"),b=n("IvSS"),P=n("WV+C"),D=n("0xYh"),A=n("C7Lb"),E=n("SeAg"),T=n("IW84"),I=n("+xO1"),L=n("8raB"),O=n("s8WJ"),_=n("ut0E"),N=function(){function e(e,t,n,l,r){this.studySummaryService=e,this.plansService=t,this.localeAppResourcesService=n,this.studyListService=l,this.geographyService=r}return e.prototype.ngOnInit=function(){this.subscriptions=[],this.studyListInput=new v.Z,this.menu=this.plansService.getMenuResources(),this.setMainHeaderItems(this.menu.headerMenu,this.menu.ebMenu),this.setSubHeaderItems(this.menu.subHeaderMenu),this.setConstants(this.menu.logo,this.menu.appInfo.name),this.isDataAvailable=!1,this.setData(),this.checkIfAllDataAvailable(),this.subscriptions.push(this.geographyService.getFilterCountryData().subscribe()),this.getStudyDetails()},e.prototype.studySelected=function(e){var t=this,n=e.option.value;t.studyListService.shareStudyKey(e.option.value),t.plansService.setSelectedStudyKey(e.option.value),t.getStudyDetails(e.option.value);var l=this.plansService.updateSelectedStudyPreferences(n).subscribe((function(e){t.setData(n)}),(function(e){console.log(e)}));t.subscriptions.push(l)},e.prototype.setData=function(e){var t=this,n=t.plansService.getUserData().subscribe((function(e){t.setUserProfile(e,t.menu.profileItem)}));t.subscriptions.push(n),e&&t.studySummaryService.searchListFormGroupName&&void 0!==t.studySummaryService.searchListFormGroupName.get("filterListControl")&&t.studySummaryService.searchListFormGroupName.get("filterListControl").setValue(e.id),t.setStudyRefreshDate()},e.prototype.setMainHeaderItems=function(e,t){var n=this,l=new Array,r=n.plansService.getAppData().subscribe((function(r){e.forEach((function(e){l.push(new c.L(e.name,e.url,e.moduleName))})),r.appMetadata.isEBLicensed&&l.push(new c.L(t.name,t.url,t.moduleName)),n.disablePlansTab=r.appMetadata.disablePlansTab,n.mainHeaderItems=l,n.aboutResource=n.plansService.getAboutResources(),n.passwordResource=n.plansService.getPasswordResources(),n.checkIfAllDataAvailable()}));n.subscriptions.push(r)},e.prototype.setUserProfile=function(e,t){var n=this.localeAppResourcesService.getResource("HeaderChangePassword");e.hasOwnProperty("user")&&e.user.hasOwnProperty("authenticationScheme")&&"DB"===e.user.authenticationScheme&&(t.find((function(e){return e.name===n})).isEnabled=!0);var l=this.plansService.getUserName(),r=new Array;t.forEach((function(e){r.push(new c.L(e.name,e.url,null,e.isEnabled,e.isVisible))})),this.userProfile=new c.ab(l,r," "),this.checkIfAllDataAvailable()},e.prototype.setStudyRefreshDate=function(){var e=this,t=this,n=t.plansService.getStudyRefreshDate().subscribe((function(n){t.studyRefreshDate=n,e.plansService.studyRefreshDate=n,t.checkIfAllDataAvailable()}));t.subscriptions.push(n)},e.prototype.setConstants=function(e,t){this.logoUrl=f.fb+e.name,this.appInfoUrl=f.fb+t,this.alertConfirmUrl=f.c,this.studyRefreshDateLabel=this.plansService.getResource("LastStudyUpdate"),this.studyListInput.placeholder=this.plansService.getResource("StudyListSearch"),this.studyListInput.recentListItemsLabel=this.plansService.getResource("MRUStudiesView"),this.studyListInput.allListItemsLabel=this.plansService.getResource("AllStudiesView"),this.studyListInput.optionTemplate=this.studyListOptionTemplate,this.studyListInput.searchApi=this.plansService.getStudyTagListFunction(),this.studyListInput.selectedItemKey=this.plansService.getLastVisitedStudyKey(),this.studyListInput.studyListHeaderLabel=this.plansService.getResource("StudyListHeader")},e.prototype.setSubHeaderItems=function(e){var t=new Array;e.forEach((function(e){t.push(new c.L(e.name,e.url,e.moduleName))})),this.subHeaderItems=t},e.prototype.checkIfAllDataAvailable=function(){void 0!==this.userProfile&&void 0!==this.mainHeaderItems&&void 0!==this.subHeaderItems&&void 0!==this.studyRefreshDate&&(this.isDataAvailable=!0)},e.prototype.ngOnDestroy=function(){this.userProfile=null,this.mainHeaderItems=null,this.subHeaderItems=null,this.studyListInput=null,this.menu=null,this.subscriptions.forEach((function(e){e.unsubscribe()})),this.subscriptions=null},e.prototype.getStudyDetails=function(e){var t,n=this;t=e?e.key:this.plansService.getLastVisitedStudyKey(),this.subscriptions.push(this.studySummaryService.getStudyName(t).subscribe((function(e){e&&(n.plansService.studyDetailData=e)})))},e}(),M=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function w(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"div",[["class","plans-fixed-header-container"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,1,"ctos-so-header",[],null,[[null,"itemSelect"]],(function(e,t,n){var l=!0;return"itemSelect"===t&&(l=!1!==e.component.studySelected(n)&&l),l}),y.t,y.i)),l["ɵdid"](2,245760,null,0,v.mb,[v.kb],{userProfile:[0,"userProfile"],mainHeaderItems:[1,"mainHeaderItems"],logoUrl:[2,"logoUrl"],appInfoUrl:[3,"appInfoUrl"],alertConfirmUrl:[4,"alertConfirmUrl"],subHeaderItems:[5,"subHeaderItems"],studyRefreshDate:[6,"studyRefreshDate"],studyRefreshDateLabel:[7,"studyRefreshDateLabel"],studyListInput:[8,"studyListInput"],aboutResource:[9,"aboutResource"],passwordResource:[10,"passwordResource"],disablePlansTab:[11,"disablePlansTab"],searchListFormGroupName:[12,"searchListFormGroupName"]},{itemSelect:"itemSelect"})],(function(e,t){var n=t.component;e(t,2,1,[n.userProfile,n.mainHeaderItems,n.logoUrl,n.appInfoUrl,n.alertConfirmUrl,n.subHeaderItems,n.studyRefreshDate,n.studyRefreshDateLabel,n.studyListInput,n.aboutResource,n.passwordResource,n.disablePlansTab,n.studySummaryService.searchListFormGroupName])}),null)}function x(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,"img",[["src","assets/images/preScreening.png"]],null,null,null,null,null))],null,null)}function F(e){return l["ɵvid"](0,[(e()(),l["ɵand"](16777216,null,null,1,null,x)),l["ɵdid"](1,16384,null,0,S.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵeld"](2,16777216,null,null,2,"span",[],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var r=!0;return"longpress"===t&&(r=!1!==l["ɵnov"](e,3).show()&&r),"keydown"===t&&(r=!1!==l["ɵnov"](e,3)._handleKeydown(n)&&r),"touchend"===t&&(r=!1!==l["ɵnov"](e,3)._handleTouchend()&&r),r}),null,null)),l["ɵdid"](3,212992,null,0,R.d,[C.c,l.ElementRef,b.a,l.ViewContainerRef,l.NgZone,P.a,D.c,D.h,R.b,[2,A.b],[2,R.a],[2,E.HAMMER_LOADER]],{message:[0,"message"],tooltipClass:[1,"tooltipClass"]},null),(e()(),l["ɵted"](4,null,[" ",""])),(e()(),l["ɵand"](0,null,null,0))],(function(e,t){e(t,1,0,t.context.$implicit.prescreenInd),e(t,3,0,t.context.$implicit.id,"ctos-tooltip")}),(function(e,t){e(t,4,0,t.context.$implicit.id)}))}function k(e){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{studyListOptionTemplate:0}),(e()(),l["ɵand"](16777216,null,null,1,null,w)),l["ɵdid"](2,16384,null,0,S.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵand"](0,[[1,2],["studyListOptionTemplate",2]],null,0,null,F)),(e()(),l["ɵeld"](4,0,null,null,2,"div",[["class","plans-fixed-container"]],null,null,null,null,null)),(e()(),l["ɵeld"](5,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l["ɵdid"](6,212992,null,0,u.s,[u.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null),(e()(),l["ɵeld"](7,0,null,null,1,"ctos-so-loading-screen",[],null,null,null,y.p,y.e)),l["ɵdid"](8,245760,null,0,v.C,[v.D],null,null)],(function(e,t){e(t,2,0,t.component.isDataAvailable),e(t,6,0),e(t,8,0)}),null)}function j(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,3,"ctos-plans",[],null,null,null,k,M)),l["ɵprd"](512,null,T.a,T.a,[I.a,v.cb,v.e,c.M,v.U,v.ab,L.c,c.D,u.a,u.n,O.e,c.y,v.x]),l["ɵprd"](512,null,_.a,_.a,[c.M,c.S,c.h]),l["ɵdid"](3,245760,null,0,N,[I.a,T.a,c.M,v.ab,_.a],null,null)],(function(e,t){e(t,3,0)}),null)}var U=l["ɵccf"]("ctos-plans",N,j,{},{},[]),V=n("TSSw"),K=n("+vxY"),Y=n("DH3O"),G=n("9S+C"),H=function(){function e(e,t){this.route=e,this.planDetailsService=t}return e.prototype.ngOnInit=function(){this.resources=this.planDetailsService.getInvalidPlanDetailsResources()},e.prototype.navigateToAllPlans=function(){this.route.navigate(["/plans","manageplan"])},e.prototype.ngOnDestroy=function(){this.resources=null,this.route=null},e}(),B=l["ɵcrt"]({encapsulation:2,styles:[],data:{}});function q(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,6,"div",[["class","invalid-plan-details"]],null,null,null,null,null)),(e()(),l["ɵeld"](1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["ɵeld"](2,0,null,null,3,"div",[["class","col d-flex justify-content-start"]],null,null,null,null,null)),(e()(),l["ɵeld"](3,0,null,null,2,"a",[["class","ctos-nav-link"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.navigateToAllPlans()&&l),l}),null,null)),(e()(),l["ɵeld"](4,0,null,null,0,"img",[["class","icon-arrow-back"]],[[8,"src",4]],null,null,null,null)),(e()(),l["ɵeld"](5,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l["ɵeld"](6,0,null,null,0,"h5",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,4,0,n.resources.ICON_ARROW_BACK),e(t,5,0,n.resources.ALL_PLANS_LABEL),e(t,6,0,n.resources.INVALID_PARAMS_MSG)}))}function W(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,2,"ctos-invalid-plan-details",[],null,null,null,q,B)),l["ɵprd"](512,null,V.a,V.a,[c.M,c.S,c.h,v.cb,T.a,O.e,v.ab,v.O,u.n,v.e,K.a,u.a,c.D,Y.a,G.a]),l["ɵdid"](2,245760,null,0,H,[u.n,V.a],null,null)],(function(e,t){e(t,2,0)}),null)}var $=l["ɵccf"]("ctos-invalid-plan-details",H,W,{},{},[]),z=n("7tlY"),J=n("pLqg"),X=n("tjWy"),Z=n("UUMc"),Q=n("EQPj"),ee=n("f8B5"),te=n("sS9F"),ne=n("6kN7"),le=n("8gu7"),re=n("w1qh"),ae=n("uW5p"),oe=l["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function ie(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l["ɵdid"](1,212992,null,0,u.s,[u.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}function se(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ctos-root",[],null,null,null,ie,oe)),l["ɵdid"](1,114688,null,0,m,[u.n,v.cb,v.kb],null,null)],(function(e,t){e(t,1,0)}),null)}var ue=l["ɵccf"]("ctos-root",m,se,{},{},[]),ce=n("LYzL"),de=n("qCer"),pe=n("Z5FQ"),he=n("qpXW"),fe=n("5kg2"),me=n("y7gG"),ge=n("IfiR"),ye=n("D5nm"),ve=n("pnMH"),Se=n("CRa1"),Re=n("O0P8"),Ce=n("7qGT"),be=n("ObLR"),Pe=n("lrIK"),De=n("GiBk"),Ae=n("AvVu"),Ee=n("bhCd"),Te=n("lVOy"),Ie=n("zIGh"),Le=n("cpEJ"),Oe=n("65/C"),_e=n("BpAa"),Ne=function(){function e(e){this.studyListService=e}return e.prototype.resolve=function(){return this.studyListService.getStudyTags()},e}(),Me={loginUrl:r.a.login_url,moduleId:35},we=function(){return Promise.all([n.e(1),n.e(10)]).then(n.bind(null,"JTeA")).then((function(e){return e.ManagePlansModuleNgFactory}))},xe={preload:!0},Fe={preload:!0},ke=function(){return Promise.all([n.e(1),n.e(2),n.e(9)]).then(n.bind(null,"ZxdE")).then((function(e){return e.PlanDetailsModuleNgFactory}))},je={preload:!0,paramKey:"plankey",paramType:"number",routePath:["/plans","plandetails","invalid"]},Ue={loginUrl:r.a.login_url,moduleId:35},Ve=function(){return function(){}}(),Ke=n("abkR"),Ye=n("GcYS"),Ge=n("rXXt"),He=n("6RHh"),Be=n("X7Hn"),qe=n("EAoM"),We=n("Ho7M"),$e=n("+3V+"),ze=n("dgjn"),Je=n("w9fW"),Xe=n("z1EI"),Ze=n("bdSb"),Qe=n("e5Hd"),et=n("Hfg7"),tt=n("QIIz"),nt=n("euho"),lt=n("JpOG"),rt=n("tEO3"),at=n("u/zR"),ot=n("Pp+3"),it=n("/mMU"),st=n("RtN7"),ut=n("r5w+"),ct=n("FJLO"),dt=n("O+zZ"),pt=n("PVko"),ht=n("tp4h"),ft=n("z9W5"),mt=n("PhZK"),gt=n("vlok"),yt=n("l6BU"),vt=n("OJVq"),St=n("PCNd"),Rt=n("XmUu"),Ct=l["ɵcmf"](i,[m],(function(e){return l["ɵmod"]([l["ɵmpd"](512,l.ComponentFactoryResolver,l["ɵCodegenComponentFactoryResolver"],[[8,[g.a,U,$,z.a,J.a,X.a,X.b,Z.b,Z.a,Q.t,Q.u,Q.b,Q.a,ee.a,Q.c,te.a,y.y,y.x,y.a,ne.a,le.a,re.a,ae.a,ue]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["ɵmpd"](5120,l.LOCALE_ID,l["ɵangular_packages_core_core_p"],[[3,l.LOCALE_ID]]),l["ɵmpd"](4608,S.NgLocalization,S.NgLocaleLocalization,[l.LOCALE_ID,[2,S["ɵangular_packages_common_common_a"]]]),l["ɵmpd"](5120,l["ɵangular_packages_core_core_ba"],l["ɵangular_packages_core_core_r"],[l.NgZone]),l["ɵmpd"](5120,l.APP_ID,l["ɵangular_packages_core_core_f"],[]),l["ɵmpd"](5120,l.IterableDiffers,l["ɵangular_packages_core_core_n"],[]),l["ɵmpd"](5120,l.KeyValueDiffers,l["ɵangular_packages_core_core_o"],[]),l["ɵmpd"](4608,E.DomSanitizer,E["ɵDomSanitizerImpl"],[S.DOCUMENT]),l["ɵmpd"](6144,l.Sanitizer,null,[E.DomSanitizer]),l["ɵmpd"](4608,E.HAMMER_GESTURE_CONFIG,ce.c,[[2,ce.g],[2,ce.l]]),l["ɵmpd"](5120,E.EVENT_MANAGER_PLUGINS,(function(e,t,n,l,r,a,o,i){return[new E["ɵDomEventsPlugin"](e,t,n),new E["ɵKeyEventsPlugin"](l),new E["ɵHammerGesturesPlugin"](r,a,o,i)]}),[S.DOCUMENT,l.NgZone,l.PLATFORM_ID,S.DOCUMENT,S.DOCUMENT,E.HAMMER_GESTURE_CONFIG,l["ɵConsole"],[2,E.HAMMER_LOADER]]),l["ɵmpd"](4608,E.EventManager,E.EventManager,[E.EVENT_MANAGER_PLUGINS,l.NgZone]),l["ɵmpd"](135680,E["ɵDomSharedStylesHost"],E["ɵDomSharedStylesHost"],[S.DOCUMENT]),l["ɵmpd"](4608,E["ɵDomRendererFactory2"],E["ɵDomRendererFactory2"],[E.EventManager,E["ɵDomSharedStylesHost"],l.APP_ID]),l["ɵmpd"](5120,de.a,pe.e,[]),l["ɵmpd"](5120,de.c,pe.f,[]),l["ɵmpd"](4608,de.b,pe.d,[S.DOCUMENT,de.a,de.c]),l["ɵmpd"](5120,l.RendererFactory2,pe.g,[E["ɵDomRendererFactory2"],de.b,l.NgZone]),l["ɵmpd"](6144,E["ɵSharedStylesHost"],null,[E["ɵDomSharedStylesHost"]]),l["ɵmpd"](4608,l.Testability,l.Testability,[l.NgZone]),l["ɵmpd"](5120,u.a,u.C,[u.n]),l["ɵmpd"](4608,u.f,u.f,[]),l["ɵmpd"](6144,u.i,null,[u.f]),l["ɵmpd"](135680,u.t,u.t,[u.n,l.NgModuleFactoryLoader,l.Compiler,l.Injector,u.i]),l["ɵmpd"](4608,u.h,u.h,[]),l["ɵmpd"](5120,u.H,u.y,[u.n,S.ViewportScroller,u.j]),l["ɵmpd"](5120,u.k,u.F,[u.D]),l["ɵmpd"](5120,l.APP_BOOTSTRAP_LISTENER,(function(e){return[e]}),[u.k]),l["ɵmpd"](4608,he.AnimationBuilder,pe.c,[l.RendererFactory2,S.DOCUMENT]),l["ɵmpd"](4608,C.c,C.c,[C.i,C.e,l.ComponentFactoryResolver,C.h,C.f,l.Injector,l.NgZone,S.DOCUMENT,A.b,[2,S.Location]]),l["ɵmpd"](5120,C.j,C.k,[C.c]),l["ɵmpd"](5120,fe.c,c.eb,[C.c]),l["ɵmpd"](5120,O.c,O.d,[C.c]),l["ɵmpd"](135680,O.e,O.e,[C.c,l.Injector,[2,S.Location],[2,O.b],O.c,[3,O.e],C.e]),l["ɵmpd"](4608,me.c,me.c,[]),l["ɵmpd"](5120,R.b,R.c,[C.c]),l["ɵmpd"](4608,ge.D,ge.D,[]),l["ɵmpd"](5120,ye.b,c.eb,[C.c]),l["ɵmpd"](4608,ge.g,ge.g,[]),l["ɵmpd"](135680,D.h,D.h,[l.NgZone,P.a]),l["ɵmpd"](4608,ve.f,ve.f,[l.TemplateRef]),l["ɵmpd"](4608,ce.a,c.db,[ce.f]),l["ɵmpd"](5120,Se.a,c.eb,[C.c]),l["ɵmpd"](4608,ce.b,ce.b,[]),l["ɵmpd"](4608,Re.i,Re.i,[]),l["ɵmpd"](5120,Re.a,Re.b,[C.c]),l["ɵmpd"](5120,Ce.b,Ce.a,[[3,Ce.b]]),l["ɵmpd"](4608,c.j,c.j,[u.a]),l["ɵmpd"](4608,S.DatePipe,S.DatePipe,[l.LOCALE_ID]),l["ɵmpd"](4608,c.R,c.R,[S.DatePipe,c.M]),l["ɵmpd"](4608,c.X,c.X,[C.c]),l["ɵmpd"](4608,be.a,be.a,[l.ApplicationRef,l.ComponentFactoryResolver,l.Injector]),l["ɵmpd"](4608,Pe.a,Pe.a,[be.a]),l["ɵmpd"](4608,S.DecimalPipe,S.DecimalPipe,[l.LOCALE_ID]),l["ɵmpd"](4608,v.J,v.J,[]),l["ɵmpd"](4608,v.O,v.O,[u.n,c.h,c.S,c.M,c.D,O.e,v.A,v.ab,L.c,v.cb,v.e,c.X,c.y]),l["ɵmpd"](4608,v.l,v.l,[]),l["ɵmpd"](4608,v.T,v.T,[]),l["ɵmpd"](4608,v.f,v.f,[u.n,v.cb]),l["ɵmpd"](4608,v.B,v.B,[c.D,v.x]),l["ɵmpd"](4608,v.D,v.D,[]),l["ɵmpd"](4608,v.o,v.o,[v.e,c.M,v.cb,v.U,v.ab]),l["ɵmpd"](4608,v.n,v.n,[v.cb]),l["ɵmpd"](4608,De.k,De.q,[S.DOCUMENT,l.PLATFORM_ID,De.o]),l["ɵmpd"](4608,De.r,De.r,[De.k,De.p]),l["ɵmpd"](5120,De.a,(function(e){return[e]}),[De.r]),l["ɵmpd"](4608,De.n,De.n,[]),l["ɵmpd"](6144,De.l,null,[De.n]),l["ɵmpd"](4608,De.j,De.j,[De.l]),l["ɵmpd"](6144,De.b,null,[De.j]),l["ɵmpd"](4608,De.g,De.m,[De.b,l.Injector]),l["ɵmpd"](4608,De.c,De.c,[De.g]),l["ɵmpd"](4608,Y.a,Y.a,[c.M,v.cb,Ae.a,c.S,c.h,c.D,v.e,O.e,S.DatePipe,c.y,Ee.a]),l["ɵmpd"](4608,Te.a,Te.a,[Y.a,c.M,v.e]),l["ɵmpd"](4608,Ie.a,Ie.a,[Y.a,c.M,v.e]),l["ɵmpd"](4608,Le.a,Le.a,[]),l["ɵmpd"](4608,Oe.a,Oe.a,[u.n]),l["ɵmpd"](4608,_e.a,_e.a,[]),l["ɵmpd"](4608,I.a,I.a,[v.cb,c.S,c.h,c.M,v.ab,ge.g,S.DatePipe]),l["ɵmpd"](4608,Ne,Ne,[v.ab]),l["ɵmpd"](1073742336,S.CommonModule,S.CommonModule,[]),l["ɵmpd"](512,v.x,v.x,[]),l["ɵmpd"](512,l.ErrorHandler,v.B,[c.D,v.x]),l["ɵmpd"](1024,l.NgProbeToken,(function(){return[u.x()]}),[]),l["ɵmpd"](512,u.D,u.D,[l.Injector]),l["ɵmpd"](512,v.d,v.d,[c.C,c.U,v.cb,v.e,c.M,c.i,v.q,v.kb,c.r,c.N,v.ab]),l["ɵmpd"](512,o,o,[v.d]),l["ɵmpd"](1024,l.APP_INITIALIZER,(function(e,t,n){return[E["ɵangular_packages_platform_browser_platform_browser_j"](e),u.E(t),(l=n,function(){return l.load()})];var l}),[[2,l.NgProbeToken],u.D,o]),l["ɵmpd"](512,l.ApplicationInitStatus,l.ApplicationInitStatus,[[2,l.APP_INITIALIZER]]),l["ɵmpd"](131584,l.ApplicationRef,l.ApplicationRef,[l.NgZone,l["ɵConsole"],l.Injector,l.ErrorHandler,l.ComponentFactoryResolver,l.ApplicationInitStatus]),l["ɵmpd"](1073742336,l.ApplicationModule,l.ApplicationModule,[l.ApplicationRef]),l["ɵmpd"](1073742336,E.BrowserModule,E.BrowserModule,[[3,E.BrowserModule]]),l["ɵmpd"](1024,u.w,u.A,[[3,u.n]]),l["ɵmpd"](512,u.v,u.c,[]),l["ɵmpd"](512,u.b,u.b,[]),l["ɵmpd"](256,u.j,{paramsInheritanceStrategy:"always"},[]),l["ɵmpd"](1024,S.LocationStrategy,u.z,[S.PlatformLocation,[2,S.APP_BASE_HREF],u.j]),l["ɵmpd"](512,S.Location,S.Location,[S.LocationStrategy,S.PlatformLocation]),l["ɵmpd"](512,l.Compiler,l.Compiler,[]),l["ɵmpd"](512,l.NgModuleFactoryLoader,l.SystemJsNgModuleLoader,[l.Compiler,[2,l.SystemJsNgModuleLoaderConfig]]),l["ɵmpd"](1024,u.l,(function(){return[[{path:"plans",component:N,canActivate:[v.f],data:Me,children:[{path:"manageplan",loadChildren:we,data:xe,resolve:{"study-tags":Ne}},{path:"plandetails/invalid",component:H,data:Fe},{path:"plandetails/:plankey",loadChildren:ke,data:je,canActivate:[Oe.a]},{path:"",redirectTo:"manageplan",pathMatch:"full"}]},{path:"",redirectTo:"plans",pathMatch:"full",canActivate:[v.f],data:Ue}]]}),[]),l["ɵmpd"](1024,u.n,u.B,[l.ApplicationRef,u.v,u.b,S.Location,l.Injector,l.NgModuleFactoryLoader,l.Compiler,u.l,u.j,[2,u.u],[2,u.m]]),l["ɵmpd"](1073742336,u.r,u.r,[[2,u.w],[2,u.n]]),l["ɵmpd"](1073742336,Ve,Ve,[]),l["ɵmpd"](1073742336,pe.b,pe.b,[]),l["ɵmpd"](1073742336,A.a,A.a,[]),l["ɵmpd"](1073742336,ce.l,ce.l,[[2,ce.d],[2,E.HAMMER_LOADER]]),l["ɵmpd"](1073742336,P.b,P.b,[]),l["ɵmpd"](1073742336,ce.v,ce.v,[]),l["ɵmpd"](1073742336,Ke.g,Ke.g,[]),l["ɵmpd"](1073742336,b.b,b.b,[]),l["ɵmpd"](1073742336,C.g,C.g,[]),l["ɵmpd"](1073742336,fe.i,fe.i,[]),l["ɵmpd"](1073742336,fe.f,fe.f,[]),l["ɵmpd"](1073742336,Ye.c,Ye.c,[]),l["ɵmpd"](1073742336,O.k,O.k,[]),l["ɵmpd"](1073742336,me.d,me.d,[]),l["ɵmpd"](1073742336,D.a,D.a,[]),l["ɵmpd"](1073742336,R.e,R.e,[]),l["ɵmpd"](1073742336,ge.C,ge.C,[]),l["ɵmpd"](1073742336,ge.n,ge.n,[]),l["ɵmpd"](1073742336,ce.t,ce.t,[]),l["ɵmpd"](1073742336,ce.q,ce.q,[]),l["ɵmpd"](1073742336,ye.e,ye.e,[]),l["ɵmpd"](1073742336,ge.y,ge.y,[]),l["ɵmpd"](1073742336,L.f,L.f,[]),l["ɵmpd"](1073742336,Ge.c,Ge.c,[]),l["ɵmpd"](1073742336,ve.d,ve.d,[]),l["ɵmpd"](1073742336,He.d,He.d,[]),l["ɵmpd"](1073742336,ce.x,ce.x,[]),l["ɵmpd"](1073742336,ce.n,ce.n,[]),l["ɵmpd"](1073742336,Be.p,Be.p,[]),l["ɵmpd"](1073742336,qe.o,qe.o,[]),l["ɵmpd"](1073742336,We.e,We.e,[]),l["ɵmpd"](1073742336,Se.d,Se.d,[]),l["ɵmpd"](1073742336,$e.c,$e.c,[]),l["ɵmpd"](1073742336,ze.c,ze.c,[]),l["ɵmpd"](1073742336,Je.a,Je.a,[]),l["ɵmpd"](1073742336,Xe.d,Xe.d,[]),l["ɵmpd"](1073742336,Xe.c,Xe.c,[]),l["ɵmpd"](1073742336,Ze.d,Ze.d,[]),l["ɵmpd"](1073742336,Re.j,Re.j,[]),l["ɵmpd"](1073742336,Qe.d,Qe.d,[]),l["ɵmpd"](1073742336,Qe.b,Qe.b,[]),l["ɵmpd"](1073742336,et.e,et.e,[]),l["ɵmpd"](1073742336,tt.c,tt.c,[]),l["ɵmpd"](1073742336,Ce.c,Ce.c,[]),l["ɵmpd"](1073742336,nt.d,nt.d,[]),l["ɵmpd"](1073742336,nt.c,nt.c,[]),l["ɵmpd"](1073742336,c.n,c.n,[]),l["ɵmpd"](1073742336,c.q,c.q,[]),l["ɵmpd"](1073742336,c.o,c.o,[]),l["ɵmpd"](1073742336,lt.a,lt.a,[]),l["ɵmpd"](1073742336,rt.a,rt.a,[]),l["ɵmpd"](1073742336,at.a,at.a,[]),l["ɵmpd"](1073742336,ot.a,ot.a,[]),l["ɵmpd"](1073742336,it.a,it.a,[]),l["ɵmpd"](1073742336,st.a,st.a,[]),l["ɵmpd"](1073742336,ut.a,ut.a,[]),l["ɵmpd"](1073742336,ct.a,ct.a,[]),l["ɵmpd"](1073742336,dt.a,dt.a,[]),l["ɵmpd"](1073742336,pt.a,pt.a,[]),l["ɵmpd"](1073742336,ht.a,ht.a,[]),l["ɵmpd"](1073742336,ft.a,ft.a,[]),l["ɵmpd"](1073742336,mt.a,mt.a,[]),l["ɵmpd"](1073742336,gt.a,gt.a,[]),l["ɵmpd"](1073742336,yt.a,yt.a,[]),l["ɵmpd"](1073742336,vt.a,vt.a,[]),l["ɵmpd"](1073742336,v.p,v.p,[]),l["ɵmpd"](1073742336,v.Y,v.Y,[]),l["ɵmpd"](1073742336,De.e,De.e,[]),l["ɵmpd"](1073742336,De.d,De.d,[]),l["ɵmpd"](1073742336,St.a,St.a,[]),l["ɵmpd"](1073742336,Rt.a,Rt.a,[]),l["ɵmpd"](1073742336,i,i,[]),l["ɵmpd"](256,l["ɵAPP_ROOT"],!0,[]),l["ɵmpd"](256,pe.a,"BrowserAnimations",[]),l["ɵmpd"](256,O.b,{hasBackdrop:!0,disableClose:!0,backdropClass:"backdrop"},[]),l["ɵmpd"](256,ce.e,c.cb,[]),l["ɵmpd"](256,L.b,{duration:2e3,verticalPosition:"top"},[]),l["ɵmpd"](256,tt.a,{_forceAnimations:!0,diameter:100,strokeWidth:6},[]),l["ɵmpd"](256,De.o,"XSRF-TOKEN",[]),l["ɵmpd"](256,De.p,"X-XSRF-TOKEN",[])])}));r.a.production&&Object(l.enableProdMode)(),a.LicenseManager.setLicenseKey("SHI_International_Corp_-_USA__on_behalf_of_IQVIA_Inc._IQVIA_5Devs10_May_2020__MTU4OTA2NTIwMDAwMA==714842a43083c3f189211c8902fa2c3f"),E.platformBrowser().bootstrapModuleFactory(Ct).catch((function(e){return console.log(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[1,0,8]]]);